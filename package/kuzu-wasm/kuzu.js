var __=Object.defineProperty;var bn=(r,t)=>{for(var e in t)__(r,e,{get:t[e],enumerable:!0})};function xf(r,t){var e={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(e[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(r);c<s.length;c++)t.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(r,s[c])&&(e[s[c]]=r[s[c]]);return e}function j(r,t,e,s){function c(f){return f instanceof e?f:new e(function(d){d(f)})}return new(e||(e=Promise))(function(f,d){function y(v){try{b(s.next(v))}catch(F){d(F)}}function g(v){try{b(s.throw(v))}catch(F){d(F)}}function b(v){v.done?f(v.value):c(v.value).then(y,g)}b((s=s.apply(r,t||[])).next())})}function Ff(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],s=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function st(r){return this instanceof st?(this.v=r,this):new st(r)}function ge(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=e.apply(r,t||[]),c,f=[];return c={},y("next"),y("throw"),y("return",d),c[Symbol.asyncIterator]=function(){return this},c;function d(P){return function(Q){return Promise.resolve(Q).then(P,F)}}function y(P,Q){s[P]&&(c[P]=function(ft){return new Promise(function(se,kt){f.push([P,ft,se,kt])>1||g(P,ft)})},Q&&(c[P]=Q(c[P])))}function g(P,Q){try{b(s[P](Q))}catch(ft){C(f[0][3],ft)}}function b(P){P.value instanceof st?Promise.resolve(P.value.v).then(v,F):C(f[0][2],P)}function v(P){g("next",P)}function F(P){g("throw",P)}function C(P,Q){P(Q),f.shift(),f.length&&g(f[0][0],f[0][1])}}function Kn(r){var t,e;return t={},s("next"),s("throw",function(c){throw c}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(c,f){t[c]=r[c]?function(d){return(e=!e)?{value:st(r[c](d)),done:!1}:f?f(d):d}:f}}function ze(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof Ff=="function"?Ff(r):r[Symbol.iterator](),e={},s("next"),s("throw"),s("return"),e[Symbol.asyncIterator]=function(){return this},e);function s(f){e[f]=r[f]&&function(d){return new Promise(function(y,g){d=r[f](d),c(y,g,d.done,d.value)})}}function c(f,d,y,g){Promise.resolve(g).then(function(b){f({value:b,done:y})},d)}}var Dc={};bn(Dc,{compareArrayLike:()=>Bc,joinUint8Arrays:()=>be,memcpy:()=>$i,rebaseValueOffsets:()=>Io,toArrayBufferView:()=>lt,toArrayBufferViewAsyncIterator:()=>He,toArrayBufferViewIterator:()=>ar,toBigInt64Array:()=>So,toBigUint64Array:()=>E_,toFloat32Array:()=>F_,toFloat32ArrayAsyncIterator:()=>W_,toFloat32ArrayIterator:()=>L_,toFloat64Array:()=>x_,toFloat64ArrayAsyncIterator:()=>H_,toFloat64ArrayIterator:()=>P_,toInt16Array:()=>B_,toInt16ArrayAsyncIterator:()=>j_,toInt16ArrayIterator:()=>T_,toInt32Array:()=>wn,toInt32ArrayAsyncIterator:()=>V_,toInt32ArrayIterator:()=>M_,toInt8Array:()=>I_,toInt8ArrayAsyncIterator:()=>R_,toInt8ArrayIterator:()=>k_,toUint16Array:()=>D_,toUint16ArrayAsyncIterator:()=>z_,toUint16ArrayIterator:()=>U_,toUint32Array:()=>A_,toUint32ArrayAsyncIterator:()=>$_,toUint32ArrayIterator:()=>N_,toUint8Array:()=>Z,toUint8ArrayAsyncIterator:()=>Ic,toUint8ArrayIterator:()=>Sc,toUint8ClampedArray:()=>O_,toUint8ClampedArrayAsyncIterator:()=>Y_,toUint8ClampedArrayIterator:()=>C_});var g_=new TextDecoder("utf-8"),Vi=r=>g_.decode(r),b_=new TextEncoder,or=r=>b_.encode(r);var w_=r=>typeof r=="number",Of=r=>typeof r=="boolean",Wt=r=>typeof r=="function",ee=r=>r!=null&&Object(r)===r,$e=r=>ee(r)&&Wt(r.then);var We=r=>ee(r)&&Wt(r[Symbol.iterator]),Fe=r=>ee(r)&&Wt(r[Symbol.asyncIterator]),yo=r=>ee(r)&&ee(r.schema);var vo=r=>ee(r)&&"done"in r&&"value"in r;var _o=r=>ee(r)&&Wt(r.stat)&&w_(r.fd);var go=r=>ee(r)&&zi(r.body),bo=r=>"_getDOMStream"in r&&"_getNodeStream"in r,kf=r=>ee(r)&&Wt(r.abort)&&Wt(r.getWriter)&&!bo(r),zi=r=>ee(r)&&Wt(r.cancel)&&Wt(r.getReader)&&!bo(r),Tf=r=>ee(r)&&Wt(r.end)&&Wt(r.write)&&Of(r.writable)&&!bo(r),wo=r=>ee(r)&&Wt(r.read)&&Wt(r.pipe)&&Of(r.readable)&&!bo(r),Mf=r=>ee(r)&&Wt(r.clear)&&Wt(r.bytes)&&Wt(r.position)&&Wt(r.setPosition)&&Wt(r.capacity)&&Wt(r.getBufferIdentifier)&&Wt(r.createLong);var wc=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function S_(r){let t=r[0]?[r[0]]:[],e,s,c,f;for(let d,y,g=0,b=0,v=r.length;++g<v;){if(d=t[b],y=r[g],!d||!y||d.buffer!==y.buffer||y.byteOffset<d.byteOffset){y&&(t[++b]=y);continue}if({byteOffset:e,byteLength:c}=d,{byteOffset:s,byteLength:f}=y,e+c<s||s+f<e){y&&(t[++b]=y);continue}t[b]=new Uint8Array(d.buffer,e,s-e+f)}return t}function $i(r,t,e=0,s=t.byteLength){let c=r.byteLength,f=new Uint8Array(r.buffer,r.byteOffset,c),d=new Uint8Array(t.buffer,t.byteOffset,Math.min(s,c));return f.set(d,e),r}function be(r,t){let e=S_(r),s=e.reduce((v,F)=>v+F.byteLength,0),c,f,d,y=0,g=-1,b=Math.min(t||Number.POSITIVE_INFINITY,s);for(let v=e.length;++g<v;){if(c=e[g],f=c.subarray(0,Math.min(c.length,b-y)),b<=y+f.length){f.length<c.length?e[g]=c.subarray(f.length):f.length===c.length&&g++,d?$i(d,f,y):d=f;break}$i(d||(d=new Uint8Array(b)),f,y),y+=f.length}return[d||new Uint8Array(0),e.slice(g),s-(d?d.byteLength:0)]}function lt(r,t){let e=vo(t)?t.value:t;return e instanceof r?r===Uint8Array?new r(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=or(e)),e instanceof ArrayBuffer?new r(e):e instanceof wc?new r(e):Mf(e)?lt(r,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new r(0):new r(e.buffer,e.byteOffset,e.byteLength/r.BYTES_PER_ELEMENT):r.from(e)):new r(0)}var I_=r=>lt(Int8Array,r),B_=r=>lt(Int16Array,r),wn=r=>lt(Int32Array,r),So=r=>lt(BigInt64Array,r),Z=r=>lt(Uint8Array,r),D_=r=>lt(Uint16Array,r),A_=r=>lt(Uint32Array,r),E_=r=>lt(BigUint64Array,r),F_=r=>lt(Float32Array,r),x_=r=>lt(Float64Array,r),O_=r=>lt(Uint8ClampedArray,r),bc=r=>(r.next(),r);function*ar(r,t){let e=function*(c){yield c},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof wc?e(t):We(t)?t:e(t);return yield*bc(function*(c){let f=null;do f=c.next(yield lt(r,f));while(!f.done)}(s[Symbol.iterator]())),new r}var k_=r=>ar(Int8Array,r),T_=r=>ar(Int16Array,r),M_=r=>ar(Int32Array,r),Sc=r=>ar(Uint8Array,r),U_=r=>ar(Uint16Array,r),N_=r=>ar(Uint32Array,r),L_=r=>ar(Float32Array,r),P_=r=>ar(Float64Array,r),C_=r=>ar(Uint8ClampedArray,r);function He(r,t){return ge(this,arguments,function*(){if($e(t))return yield st(yield st(yield*Kn(ze(He(r,yield st(t))))));let s=function(d){return ge(this,arguments,function*(){yield yield st(yield st(d))})},c=function(d){return ge(this,arguments,function*(){yield st(yield*Kn(ze(bc(function*(y){let g=null;do g=y.next(yield g?.value);while(!g.done)}(d[Symbol.iterator]())))))})},f=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof wc?s(t):We(t)?c(t):Fe(t)?t:s(t);return yield st(yield*Kn(ze(bc(function(d){return ge(this,arguments,function*(){let y=null;do y=yield st(d.next(yield yield st(lt(r,y))));while(!y.done)})}(f[Symbol.asyncIterator]()))))),yield st(new r)})}var R_=r=>He(Int8Array,r),j_=r=>He(Int16Array,r),V_=r=>He(Int32Array,r),Ic=r=>He(Uint8Array,r),z_=r=>He(Uint16Array,r),$_=r=>He(Uint32Array,r),W_=r=>He(Float32Array,r),H_=r=>He(Float64Array,r),Y_=r=>He(Uint8ClampedArray,r);function Io(r,t,e){if(r!==0){e=e.slice(0,t);for(let s=-1,c=e.length;++s<c;)e[s]+=r}return e.subarray(0,t)}function Bc(r,t){let e=0,s=r.length;if(s!==t.length)return!1;if(s>0)do if(r[e]!==t[e])return!1;while(++e<s);return!0}var Kt={fromIterable(r){return Bo(G_(r))},fromAsyncIterable(r){return Bo(q_(r))},fromDOMStream(r){return Bo(K_(r))},fromNodeStream(r){return Bo(J_(r))},toDOMStream(r,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,t){throw new Error('"toNodeStream" not available in this environment')}},Bo=r=>(r.next(),r);function*G_(r){let t,e=!1,s=[],c,f,d,y=0;function g(){return f==="peek"?be(s,d)[0]:([c,s,y]=be(s,d),c)}({cmd:f,size:d}=(yield null)||{cmd:"read",size:0});let b=Sc(r)[Symbol.iterator]();try{do if({done:t,value:c}=Number.isNaN(d-y)?b.next():b.next(d-y),!t&&c.byteLength>0&&(s.push(c),y+=c.byteLength),t||d<=y)do({cmd:f,size:d}=yield g());while(d<y);while(!t)}catch(v){(e=!0)&&typeof b.throw=="function"&&b.throw(v)}finally{e===!1&&typeof b.return=="function"&&b.return(null)}return null}function q_(r){return ge(this,arguments,function*(){let e,s=!1,c=[],f,d,y,g=0;function b(){return d==="peek"?be(c,y)[0]:([f,c,g]=be(c,y),f)}({cmd:d,size:y}=(yield yield st(null))||{cmd:"read",size:0});let v=Ic(r)[Symbol.asyncIterator]();try{do if({done:e,value:f}=Number.isNaN(y-g)?yield st(v.next()):yield st(v.next(y-g)),!e&&f.byteLength>0&&(c.push(f),g+=f.byteLength),e||y<=g)do({cmd:d,size:y}=yield yield st(b()));while(y<g);while(!e)}catch(F){(s=!0)&&typeof v.throw=="function"&&(yield st(v.throw(F)))}finally{s===!1&&typeof v.return=="function"&&(yield st(v.return(new Uint8Array(0))))}return yield st(null)})}function K_(r){return ge(this,arguments,function*(){let e=!1,s=!1,c=[],f,d,y,g=0;function b(){return d==="peek"?be(c,y)[0]:([f,c,g]=be(c,y),f)}({cmd:d,size:y}=(yield yield st(null))||{cmd:"read",size:0});let v=new Ec(r);try{do if({done:e,value:f}=Number.isNaN(y-g)?yield st(v.read()):yield st(v.read(y-g)),!e&&f.byteLength>0&&(c.push(Z(f)),g+=f.byteLength),e||y<=g)do({cmd:d,size:y}=yield yield st(b()));while(y<g);while(!e)}catch(F){(s=!0)&&(yield st(v.cancel(F)))}finally{s===!1?yield st(v.cancel()):r.locked&&v.releaseLock()}return yield st(null)})}var Ec=class{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return j(this,void 0,void 0,function*(){let{reader:e,source:s}=this;e&&(yield e.cancel(t).catch(()=>{})),s&&s.locked&&this.releaseLock()})}read(t){return j(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};let e=yield this.reader.read();return!e.done&&(e.value=Z(e)),e})}},Ac=(r,t)=>{let e=c=>s([t,c]),s;return[t,e,new Promise(c=>(s=c)&&r.once(t,e))]};function J_(r){return ge(this,arguments,function*(){let e=[],s="error",c=!1,f=null,d,y,g=0,b=[],v;function F(){return d==="peek"?be(b,y)[0]:([v,b,g]=be(b,y),v)}if({cmd:d,size:y}=(yield yield st(null))||{cmd:"read",size:0},r.isTTY)return yield yield st(new Uint8Array(0)),yield st(null);try{e[0]=Ac(r,"end"),e[1]=Ac(r,"error");do{if(e[2]=Ac(r,"readable"),[s,f]=yield st(Promise.race(e.map(P=>P[2]))),s==="error")break;if((c=s==="end")||(Number.isFinite(y-g)?(v=Z(r.read(y-g)),v.byteLength<y-g&&(v=Z(r.read()))):v=Z(r.read()),v.byteLength>0&&(b.push(v),g+=v.byteLength)),c||y<=g)do({cmd:d,size:y}=yield yield st(F()));while(y<g)}while(!c)}finally{yield st(C(e,s==="error"?f:null))}return yield st(null);function C(P,Q){return v=b=null,new Promise((ft,se)=>{for(let[kt,un]of P)r.off(kt,un);try{let kt=r.destroy;kt&&kt.call(r,Q),Q=void 0}catch(kt){Q=kt||Q}finally{Q!=null?se(Q):ft()}})}})}var bt;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(bt||(bt={}));var It;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(It||(It={}));var At;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(At||(At={}));var xt;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(xt||(xt={}));var L;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(L||(L={}));var Lt;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Lt||(Lt={}));var cr=new Int32Array(2),Do=new Float32Array(cr.buffer),Ao=new Float64Array(cr.buffer),Jn=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Wi;(function(r){r[r.UTF8_BYTES=1]="UTF8_BYTES",r[r.UTF16_STRING=2]="UTF16_STRING"})(Wi||(Wi={}));var we=class r{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new r(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return cr[0]=this.readInt32(t),Do[0]}readFloat64(t){return cr[Jn?0:1]=this.readInt32(t),cr[Jn?1:0]=this.readInt32(t+4),Ao[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){Do[0]=e,this.writeInt32(t,cr[0])}writeFloat64(t,e){Ao[0]=e,this.writeInt32(t,cr[Jn?0:1]),this.writeInt32(t+4,cr[Jn?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){let s=t-this.readInt32(t);return e<this.readInt16(s)?this.readInt16(s+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);let s=this.readInt32(t);t+=4;let c=this.bytes_.subarray(t,t+s);return e===Wi.UTF8_BYTES?c:this.text_decoder_.decode(c)}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=4)throw new Error("FlatBuffers: file identifier must be length "+4);for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createScalarList(t,e){let s=[];for(let c=0;c<e;++c){let f=t(c);f!==null&&s.push(f)}return s}createObjList(t,e){let s=[];for(let c=0;c<e;++c){let f=t(c);f!==null&&s.push(f.unpack())}return s}};var Sn=class r{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let e;t?e=t:e=1024,this.bb=we.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);let s=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<s+t+e;){let c=this.bb.capacity();this.bb=r.growByteBuffer(this.bb),this.space+=this.bb.capacity()-c}this.pad(s)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,s){(this.force_defaults||e!=s)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,s){(this.force_defaults||e!=s)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,s){(this.force_defaults||e!=s)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,s){(this.force_defaults||e!==s)&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,s){(this.force_defaults||e!=s)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,s){(this.force_defaults||e!=s)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,s){(this.force_defaults||e!=s)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,s){e!=s&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){let e=t.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let s=e<<1,c=we.allocate(s);return c.setPosition(s-e),c.bytes().set(t.bytes(),s-e),c}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let t=this.offset(),e=this.vtable_in_use-1;for(;e>=0&&this.vtable[e]==0;e--);let s=e+1;for(;e>=0;e--)this.addInt16(this.vtable[e]!=0?t-this.vtable[e]:0);let c=2;this.addInt16(t-this.object_start);let f=(s+c)*2;this.addInt16(f);let d=0,y=this.space;t:for(e=0;e<this.vtables.length;e++){let g=this.bb.capacity()-this.vtables[e];if(f==this.bb.readInt16(g)){for(let b=2;b<f;b+=2)if(this.bb.readInt16(y+b)!=this.bb.readInt16(g+b))continue t;d=this.vtables[e];break}}return d?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,d-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,s){let c=s?4:0;if(e){let f=e;if(this.prep(this.minalign,8+c),f.length!=4)throw new TypeError("FlatBuffers: file identifier must be length "+4);for(let d=3;d>=0;d--)this.writeInt8(f.charCodeAt(d))}this.prep(this.minalign,4+c),this.addOffset(t),c&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){let s=this.bb.capacity()-t,c=s-this.bb.readInt32(s);if(!(e<this.bb.readInt16(c)&&this.bb.readInt16(c+e)!=0))throw new TypeError("FlatBuffers: field "+e+" must be set")}startVector(t,e,s){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(s,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);let e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(t==null)return 0;let e;return t instanceof Uint8Array?e=t:e=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector()}createByteVector(t){return t==null?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){let e=[];for(let s=0;s<t.length;++s){let c=t[s];if(c!==null)e.push(this.createObjectOffset(c));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};var Hi;(function(r){r[r.BUFFER=0]="BUFFER"})(Hi||(Hi={}));var Yi;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(Yi||(Yi={}));var Fo=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}codec(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Yi.LZ4_FRAME}method(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Hi.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,Yi.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,Hi.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,s){return r.startBodyCompression(t),r.addCodec(t,e),r.addMethod(t,s),r.endBodyCompression(t)}};var Xn=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,s){return t.prep(8,16),t.writeInt64(BigInt(s??0)),t.writeInt64(BigInt(e??0)),t.offset()}};var Zn=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,s){return t.prep(8,16),t.writeInt64(BigInt(s??0)),t.writeInt64(BigInt(e??0)),t.offset()}};var Se=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}length(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,e){let s=this.bb.__offset(this.bb_pos,6);return s?(e||new Zn).__init(this.bb.__vector(this.bb_pos+s)+t*16,this.bb):null}nodesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){let s=this.bb.__offset(this.bb_pos,8);return s?(e||new Xn).__init(this.bb.__vector(this.bb_pos+s)+t*16,this.bb):null}buffersLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){let e=this.bb.__offset(this.bb_pos,10);return e?(t||new Fo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}};var br=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new Se).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){let t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}};var Kr;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(Kr||(Kr={}));var Gi;(function(r){r[r.DenseArray=0]="DenseArray"})(Gi||(Gi={}));var Ge=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){let t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,s){return r.startInt(t),r.addBitWidth(t,e),r.addIsSigned(t,s),r.endInt(t)}};var ur=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ge).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){let t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Gi.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Gi.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}};var Ht=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}key(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,s){return r.startKeyValue(t),r.addKey(t,e),r.addValue(t,s),r.endKeyValue(t)}};var qi=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return r.startBinary(t),r.endBinary(t)}};var Ki=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return r.startBool(t),r.endBool(t)}};var Jr=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xt.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,xt.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return r.startDate(t),r.addUnit(t,e),r.endDate(t)}};var lr=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,s,c){return r.startDecimal(t),r.addPrecision(t,e),r.addScale(t,s),r.addBitWidth(t,c),r.endDecimal(t)}};var Xr=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDuration(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):L.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,L.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,e){return r.startDuration(t),r.addUnit(t,e),r.endDuration(t)}};var Zr=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return r.startFixedSizeBinary(t),r.addByteWidth(t,e),r.endFixedSizeBinary(t)}};var Qr=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}listSize(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return r.startFixedSizeList(t),r.addListSize(t,e),r.endFixedSizeList(t)}};var tn=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):At.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,At.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return r.startFloatingPoint(t),r.addPrecision(t,e),r.endFloatingPoint(t)}};var en=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Lt.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Lt.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return r.startInterval(t),r.addUnit(t,e),r.endInterval(t)}};var Ji=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeBinary(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return r.startLargeBinary(t),r.endLargeBinary(t)}};var Xi=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeUtf8(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return r.startLargeUtf8(t),r.endLargeUtf8(t)}};var Zi=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return r.startList(t),r.endList(t)}};var rn=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){let t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return r.startMap(t),r.addKeysSorted(t,e),r.endMap(t)}};var Qi=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return r.startNull(t),r.endNull(t)}};var ts=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return r.startStruct_(t),r.endStruct_(t)}};var wr=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):L.MILLISECOND}bitWidth(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,L.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,s){return r.startTime(t),r.addUnit(t,e),r.addBitWidth(t,s),r.endTime(t)}};var Sr=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):L.SECOND}timezone(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,L.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,s){return r.startTimestamp(t),r.addUnit(t,e),r.addTimezone(t,s),r.endTimestamp(t)}};var qe=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}mode(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):It.Sparse}typeIds(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+t*4):0}typeIdsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,It.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addInt32(e[s]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,s){return r.startUnion(t),r.addMode(t,e),r.addTypeIds(t,s),r.endUnion(t)}};var es=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return r.startUtf8(t),r.endUtf8(t)}};var Et;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList",r[r.RunEndEncoded=22]="RunEndEncoded"})(Et||(Et={}));var Zt=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){let t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Et.NONE}type(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){let e=this.bb.__offset(this.bb_pos,12);return e?(t||new ur).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){let s=this.bb.__offset(this.bb_pos,14);return s?(e||new r).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+t*4),this.bb):null}childrenLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){let s=this.bb.__offset(this.bb_pos,16);return s?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+t*4),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Et.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}};var ae=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}endianness(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kr.Little}fields(t,e){let s=this.bb.__offset(this.bb_pos,6);return s?(e||new Zt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+t*4),this.bb):null}fieldsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){let s=this.bb.__offset(this.bb_pos,8);return s?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+t*4),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+t*8):BigInt(0)}featuresLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Kr.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let s=e.length-1;s>=0;s--)t.addInt64(e[s]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,s,c,f){return r.startSchema(t),r.addEndianness(t,e),r.addFields(t,s),r.addCustomMetadata(t,c),r.addFeatures(t,f),r.endSchema(t)}};var dt;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(dt||(dt={}));var S;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth",r[r.DurationSecond=-27]="DurationSecond",r[r.DurationMillisecond=-28]="DurationMillisecond",r[r.DurationMicrosecond=-29]="DurationMicrosecond",r[r.DurationNanosecond=-30]="DurationNanosecond"})(S||(S={}));var Oe;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(Oe||(Oe={}));var Gc={};bn(Gc,{clampRange:()=>ss,createElementComparator:()=>an,wrapIndex:()=>Bn});var Fc={};bn(Fc,{valueToString:()=>Ke});function Ke(r){if(r===null)return"null";if(r===void 0)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?r instanceof BigInt64Array||r instanceof BigUint64Array?`[${[...r].map(t=>Ke(t))}]`:`[${r}]`:ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r,(t,e)=>typeof e=="bigint"?`${e}`:e)}var Tc={};bn(Tc,{BN:()=>ns,bigNumToBigInt:()=>Nf,bigNumToNumber:()=>kc,bigNumToString:()=>ei,isArrowBigNumSymbol:()=>Uf});function vt(r){if(typeof r=="bigint"&&(r<Number.MIN_SAFE_INTEGER||r>Number.MAX_SAFE_INTEGER))throw new TypeError(`${r} is not safe to convert to a number.`);return Number(r)}function xc(r,t){return vt(r/t)+vt(r%t)/vt(t)}var Uf=Symbol.for("isArrowBigNum");function Je(r,...t){return t.length===0?Object.setPrototypeOf(lt(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...t),this.constructor.prototype)}Je.prototype[Uf]=!0;Je.prototype.toJSON=function(){return`"${ei(this)}"`};Je.prototype.valueOf=function(r){return kc(this,r)};Je.prototype.toString=function(){return ei(this)};Je.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return kc(this);case"string":return ei(this);case"default":return Nf(this)}return ei(this)};function Qn(...r){return Je.apply(this,r)}function ti(...r){return Je.apply(this,r)}function rs(...r){return Je.apply(this,r)}Object.setPrototypeOf(Qn.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(ti.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(rs.prototype,Object.create(Uint32Array.prototype));Object.assign(Qn.prototype,Je.prototype,{constructor:Qn,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(ti.prototype,Je.prototype,{constructor:ti,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(rs.prototype,Je.prototype,{constructor:rs,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});var X_=BigInt(4294967296)*BigInt(4294967296),Z_=X_-BigInt(1);function kc(r,t){let{buffer:e,byteOffset:s,byteLength:c,signed:f}=r,d=new BigUint64Array(e,s,c/8),y=f&&d.at(-1)&BigInt(1)<<BigInt(63),g=BigInt(0),b=0;if(y){for(let v of d)g|=(v^Z_)*(BigInt(1)<<BigInt(64*b++));g*=BigInt(-1),g-=BigInt(1)}else for(let v of d)g|=v*(BigInt(1)<<BigInt(64*b++));if(typeof t=="number"){let v=BigInt(Math.pow(10,t)),F=g/v,C=g%v;return vt(F)+vt(C)/vt(v)}return vt(g)}function ei(r){if(r.byteLength===8)return`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`;if(!r.signed)return Oc(r);let t=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return Oc(r);t=t.slice();let s=1;for(let f=0;f<t.length;f++){let d=t[f],y=~d+s;t[f]=y,s&=d===0?1:0}return`-${Oc(t)}`}function Nf(r){return r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:ei(r)}function Oc(r){let t="",e=new Uint32Array(2),s=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),c=new Uint32Array((s=new Uint16Array(s).reverse()).buffer),f=-1,d=s.length-1;do{for(e[0]=s[f=0];f<d;)s[f++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+s[f];s[f]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(c[0]||c[1]||c[2]||c[3]);return t??"0"}var ns=class r{static new(t,e){switch(e){case!0:return new Qn(t);case!1:return new ti(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Qn(t)}return t.byteLength===16?new rs(t):new ti(t)}static signed(t){return new Qn(t)}static unsigned(t){return new ti(t)}static decimal(t){return new rs(t)}constructor(t,e){return r.new(t,e)}};var Lf,Pf,Cf,Rf,jf,Vf,zf,$f,Wf,Hf,Yf,Gf,qf,Kf,Jf,Xf,Zf,Qf,td,ed,rd,nd,T=class r{static isNull(t){return t?.typeId===S.Null}static isInt(t){return t?.typeId===S.Int}static isFloat(t){return t?.typeId===S.Float}static isBinary(t){return t?.typeId===S.Binary}static isLargeBinary(t){return t?.typeId===S.LargeBinary}static isUtf8(t){return t?.typeId===S.Utf8}static isLargeUtf8(t){return t?.typeId===S.LargeUtf8}static isBool(t){return t?.typeId===S.Bool}static isDecimal(t){return t?.typeId===S.Decimal}static isDate(t){return t?.typeId===S.Date}static isTime(t){return t?.typeId===S.Time}static isTimestamp(t){return t?.typeId===S.Timestamp}static isInterval(t){return t?.typeId===S.Interval}static isDuration(t){return t?.typeId===S.Duration}static isList(t){return t?.typeId===S.List}static isStruct(t){return t?.typeId===S.Struct}static isUnion(t){return t?.typeId===S.Union}static isFixedSizeBinary(t){return t?.typeId===S.FixedSizeBinary}static isFixedSizeList(t){return t?.typeId===S.FixedSizeList}static isMap(t){return t?.typeId===S.Map}static isDictionary(t){return t?.typeId===S.Dictionary}static isDenseUnion(t){return r.isUnion(t)&&t.mode===It.Dense}static isSparseUnion(t){return r.isUnion(t)&&t.mode===It.Sparse}constructor(t){this.typeId=t}};Lf=Symbol.toStringTag;T[Lf]=(r=>(r.children=null,r.ArrayType=Array,r.OffsetArrayType=Int32Array,r[Symbol.toStringTag]="DataType"))(T.prototype);var Gt=class extends T{constructor(){super(S.Null)}toString(){return"Null"}};Pf=Symbol.toStringTag;Gt[Pf]=(r=>r[Symbol.toStringTag]="Null")(Gt.prototype);var jt=class extends T{constructor(t,e){super(S.Int),this.isSigned=t,this.bitWidth=e}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};Cf=Symbol.toStringTag;jt[Cf]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(jt.prototype);var Ir=class extends jt{constructor(){super(!0,8)}get ArrayType(){return Int8Array}},Br=class extends jt{constructor(){super(!0,16)}get ArrayType(){return Int16Array}},re=class extends jt{constructor(){super(!0,32)}get ArrayType(){return Int32Array}},Dr=class extends jt{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}},Ar=class extends jt{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}},Er=class extends jt{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}},Fr=class extends jt{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}},xr=class extends jt{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};Object.defineProperty(Ir.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Br.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(re.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Dr.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(Ar.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Er.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Fr.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(xr.prototype,"ArrayType",{value:BigUint64Array});var Ie=class extends T{constructor(t){super(S.Float),this.precision=t}get ArrayType(){switch(this.precision){case At.HALF:return Uint16Array;case At.SINGLE:return Float32Array;case At.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};Rf=Symbol.toStringTag;Ie[Rf]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(Ie.prototype);var In=class extends Ie{constructor(){super(At.HALF)}},Or=class extends Ie{constructor(){super(At.SINGLE)}},kr=class extends Ie{constructor(){super(At.DOUBLE)}};Object.defineProperty(In.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Or.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(kr.prototype,"ArrayType",{value:Float64Array});var Be=class extends T{constructor(){super(S.Binary)}toString(){return"Binary"}};jf=Symbol.toStringTag;Be[jf]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(Be.prototype);var ke=class extends T{constructor(){super(S.LargeBinary)}toString(){return"LargeBinary"}};Vf=Symbol.toStringTag;ke[Vf]=(r=>(r.ArrayType=Uint8Array,r.OffsetArrayType=BigInt64Array,r[Symbol.toStringTag]="LargeBinary"))(ke.prototype);var De=class extends T{constructor(){super(S.Utf8)}toString(){return"Utf8"}};zf=Symbol.toStringTag;De[zf]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(De.prototype);var Te=class extends T{constructor(){super(S.LargeUtf8)}toString(){return"LargeUtf8"}};$f=Symbol.toStringTag;Te[$f]=(r=>(r.ArrayType=Uint8Array,r.OffsetArrayType=BigInt64Array,r[Symbol.toStringTag]="LargeUtf8"))(Te.prototype);var Me=class extends T{constructor(){super(S.Bool)}toString(){return"Bool"}};Wf=Symbol.toStringTag;Me[Wf]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(Me.prototype);var Ue=class extends T{constructor(t,e,s=128){super(S.Decimal),this.scale=t,this.precision=e,this.bitWidth=s}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Hf=Symbol.toStringTag;Ue[Hf]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(Ue.prototype);var Ne=class extends T{constructor(t){super(S.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${xt[this.unit]}>`}get ArrayType(){return this.unit===xt.DAY?Int32Array:BigInt64Array}};Yf=Symbol.toStringTag;Ne[Yf]=(r=>(r.unit=null,r[Symbol.toStringTag]="Date"))(Ne.prototype);var ri=class extends Ne{constructor(){super(xt.DAY)}},ni=class extends Ne{constructor(){super(xt.MILLISECOND)}},ce=class extends T{constructor(t,e){super(S.Time),this.unit=t,this.bitWidth=e}toString(){return`Time${this.bitWidth}<${L[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};Gf=Symbol.toStringTag;ce[Gf]=(r=>(r.unit=null,r.bitWidth=null,r[Symbol.toStringTag]="Time"))(ce.prototype);var ii=class extends ce{constructor(){super(L.SECOND,32)}},si=class extends ce{constructor(){super(L.MILLISECOND,32)}},oi=class extends ce{constructor(){super(L.MICROSECOND,64)}},ai=class extends ce{constructor(){super(L.NANOSECOND,64)}},Le=class extends T{constructor(t,e){super(S.Timestamp),this.unit=t,this.timezone=e}toString(){return`Timestamp<${L[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};qf=Symbol.toStringTag;Le[qf]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=BigInt64Array,r[Symbol.toStringTag]="Timestamp"))(Le.prototype);var ue=class extends T{constructor(t){super(S.Interval),this.unit=t}toString(){return`Interval<${Lt[this.unit]}>`}};Kf=Symbol.toStringTag;ue[Kf]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(ue.prototype);var Pe=class extends T{constructor(t){super(S.Duration),this.unit=t}toString(){return`Duration<${L[this.unit]}>`}};Jf=Symbol.toStringTag;Pe[Jf]=(r=>(r.unit=null,r.ArrayType=BigInt64Array,r[Symbol.toStringTag]="Duration"))(Pe.prototype);var ne=class extends T{constructor(t){super(S.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Xf=Symbol.toStringTag;ne[Xf]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(ne.prototype);var Bt=class extends T{constructor(t){super(S.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}};Zf=Symbol.toStringTag;Bt[Zf]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(Bt.prototype);var le=class extends T{constructor(t,e,s){super(S.Union),this.mode=t,this.children=s,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((c,f,d)=>(c[f]=d)&&c||c,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}};Qf=Symbol.toStringTag;le[Qf]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(le.prototype);var ci=class extends le{constructor(t,e){super(It.Dense,t,e)}},ui=class extends le{constructor(t,e){super(It.Sparse,t,e)}},Ce=class extends T{constructor(t){super(S.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};td=Symbol.toStringTag;Ce[td]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(Ce.prototype);var fe=class extends T{constructor(t,e){super(S.FixedSizeList),this.listSize=t,this.children=[e]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};ed=Symbol.toStringTag;fe[ed]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(fe.prototype);var de=class extends T{constructor(t,e=!1){var s,c,f;if(super(S.Map),this.children=[t],this.keysSorted=e,t&&(t.name="entries",!((s=t?.type)===null||s===void 0)&&s.children)){let d=(c=t?.type)===null||c===void 0?void 0:c.children[0];d&&(d.name="key");let y=(f=t?.type)===null||f===void 0?void 0:f.children[1];y&&(y.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}};rd=Symbol.toStringTag;de[rd]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(de.prototype);var Q_=(r=>()=>++r)(-1),Qt=class extends T{constructor(t,e,s,c){super(S.Dictionary),this.indices=e,this.dictionary=t,this.isOrdered=c||!1,this.id=s==null?Q_():vt(s)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};nd=Symbol.toStringTag;Qt[nd]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(Qt.prototype);function Ae(r){let t=r;switch(r.typeId){case S.Decimal:return r.bitWidth/32;case S.Interval:return 1+t.unit;case S.FixedSizeList:return t.listSize;case S.FixedSizeBinary:return t.byteWidth;default:return 1}}var H=class{visitMany(t,...e){return t.map((s,c)=>this.visit(s,...e.map(f=>f[c])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return e0(this,t,e)}getVisitFnByTypeId(t,e=!0){return li(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitLargeUtf8(t,...e){return null}visitBinary(t,...e){return null}visitLargeBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitDuration(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}};function e0(r,t,e=!0){return typeof t=="number"?li(r,t,e):typeof t=="string"&&t in S?li(r,S[t],e):t&&t instanceof T?li(r,id(t),e):t?.type&&t.type instanceof T?li(r,id(t.type),e):li(r,S.NONE,e)}function li(r,t,e=!0){let s=null;switch(t){case S.Null:s=r.visitNull;break;case S.Bool:s=r.visitBool;break;case S.Int:s=r.visitInt;break;case S.Int8:s=r.visitInt8||r.visitInt;break;case S.Int16:s=r.visitInt16||r.visitInt;break;case S.Int32:s=r.visitInt32||r.visitInt;break;case S.Int64:s=r.visitInt64||r.visitInt;break;case S.Uint8:s=r.visitUint8||r.visitInt;break;case S.Uint16:s=r.visitUint16||r.visitInt;break;case S.Uint32:s=r.visitUint32||r.visitInt;break;case S.Uint64:s=r.visitUint64||r.visitInt;break;case S.Float:s=r.visitFloat;break;case S.Float16:s=r.visitFloat16||r.visitFloat;break;case S.Float32:s=r.visitFloat32||r.visitFloat;break;case S.Float64:s=r.visitFloat64||r.visitFloat;break;case S.Utf8:s=r.visitUtf8;break;case S.LargeUtf8:s=r.visitLargeUtf8;break;case S.Binary:s=r.visitBinary;break;case S.LargeBinary:s=r.visitLargeBinary;break;case S.FixedSizeBinary:s=r.visitFixedSizeBinary;break;case S.Date:s=r.visitDate;break;case S.DateDay:s=r.visitDateDay||r.visitDate;break;case S.DateMillisecond:s=r.visitDateMillisecond||r.visitDate;break;case S.Timestamp:s=r.visitTimestamp;break;case S.TimestampSecond:s=r.visitTimestampSecond||r.visitTimestamp;break;case S.TimestampMillisecond:s=r.visitTimestampMillisecond||r.visitTimestamp;break;case S.TimestampMicrosecond:s=r.visitTimestampMicrosecond||r.visitTimestamp;break;case S.TimestampNanosecond:s=r.visitTimestampNanosecond||r.visitTimestamp;break;case S.Time:s=r.visitTime;break;case S.TimeSecond:s=r.visitTimeSecond||r.visitTime;break;case S.TimeMillisecond:s=r.visitTimeMillisecond||r.visitTime;break;case S.TimeMicrosecond:s=r.visitTimeMicrosecond||r.visitTime;break;case S.TimeNanosecond:s=r.visitTimeNanosecond||r.visitTime;break;case S.Decimal:s=r.visitDecimal;break;case S.List:s=r.visitList;break;case S.Struct:s=r.visitStruct;break;case S.Union:s=r.visitUnion;break;case S.DenseUnion:s=r.visitDenseUnion||r.visitUnion;break;case S.SparseUnion:s=r.visitSparseUnion||r.visitUnion;break;case S.Dictionary:s=r.visitDictionary;break;case S.Interval:s=r.visitInterval;break;case S.IntervalDayTime:s=r.visitIntervalDayTime||r.visitInterval;break;case S.IntervalYearMonth:s=r.visitIntervalYearMonth||r.visitInterval;break;case S.Duration:s=r.visitDuration;break;case S.DurationSecond:s=r.visitDurationSecond||r.visitDuration;break;case S.DurationMillisecond:s=r.visitDurationMillisecond||r.visitDuration;break;case S.DurationMicrosecond:s=r.visitDurationMicrosecond||r.visitDuration;break;case S.DurationNanosecond:s=r.visitDurationNanosecond||r.visitDuration;break;case S.FixedSizeList:s=r.visitFixedSizeList;break;case S.Map:s=r.visitMap;break}if(typeof s=="function")return s;if(!e)return()=>null;throw new Error(`Unrecognized type '${S[t]}'`)}function id(r){switch(r.typeId){case S.Null:return S.Null;case S.Int:{let{bitWidth:t,isSigned:e}=r;switch(t){case 8:return e?S.Int8:S.Uint8;case 16:return e?S.Int16:S.Uint16;case 32:return e?S.Int32:S.Uint32;case 64:return e?S.Int64:S.Uint64}return S.Int}case S.Float:switch(r.precision){case At.HALF:return S.Float16;case At.SINGLE:return S.Float32;case At.DOUBLE:return S.Float64}return S.Float;case S.Binary:return S.Binary;case S.LargeBinary:return S.LargeBinary;case S.Utf8:return S.Utf8;case S.LargeUtf8:return S.LargeUtf8;case S.Bool:return S.Bool;case S.Decimal:return S.Decimal;case S.Time:switch(r.unit){case L.SECOND:return S.TimeSecond;case L.MILLISECOND:return S.TimeMillisecond;case L.MICROSECOND:return S.TimeMicrosecond;case L.NANOSECOND:return S.TimeNanosecond}return S.Time;case S.Timestamp:switch(r.unit){case L.SECOND:return S.TimestampSecond;case L.MILLISECOND:return S.TimestampMillisecond;case L.MICROSECOND:return S.TimestampMicrosecond;case L.NANOSECOND:return S.TimestampNanosecond}return S.Timestamp;case S.Date:switch(r.unit){case xt.DAY:return S.DateDay;case xt.MILLISECOND:return S.DateMillisecond}return S.Date;case S.Interval:switch(r.unit){case Lt.DAY_TIME:return S.IntervalDayTime;case Lt.YEAR_MONTH:return S.IntervalYearMonth}return S.Interval;case S.Duration:switch(r.unit){case L.SECOND:return S.DurationSecond;case L.MILLISECOND:return S.DurationMillisecond;case L.MICROSECOND:return S.DurationMicrosecond;case L.NANOSECOND:return S.DurationNanosecond}return S.Duration;case S.Map:return S.Map;case S.List:return S.List;case S.Struct:return S.Struct;case S.Union:switch(r.mode){case It.Dense:return S.DenseUnion;case It.Sparse:return S.SparseUnion}return S.Union;case S.FixedSizeBinary:return S.FixedSizeBinary;case S.FixedSizeList:return S.FixedSizeList;case S.Dictionary:return S.Dictionary}throw new Error(`Unrecognized type '${S[r.typeId]}'`)}H.prototype.visitInt8=null;H.prototype.visitInt16=null;H.prototype.visitInt32=null;H.prototype.visitInt64=null;H.prototype.visitUint8=null;H.prototype.visitUint16=null;H.prototype.visitUint32=null;H.prototype.visitUint64=null;H.prototype.visitFloat16=null;H.prototype.visitFloat32=null;H.prototype.visitFloat64=null;H.prototype.visitDateDay=null;H.prototype.visitDateMillisecond=null;H.prototype.visitTimestampSecond=null;H.prototype.visitTimestampMillisecond=null;H.prototype.visitTimestampMicrosecond=null;H.prototype.visitTimestampNanosecond=null;H.prototype.visitTimeSecond=null;H.prototype.visitTimeMillisecond=null;H.prototype.visitTimeMicrosecond=null;H.prototype.visitTimeNanosecond=null;H.prototype.visitDenseUnion=null;H.prototype.visitSparseUnion=null;H.prototype.visitIntervalDayTime=null;H.prototype.visitIntervalYearMonth=null;H.prototype.visitDuration=null;H.prototype.visitDurationSecond=null;H.prototype.visitDurationMillisecond=null;H.prototype.visitDurationMicrosecond=null;H.prototype.visitDurationNanosecond=null;var Mc={};bn(Mc,{float64ToUint16:()=>is,uint16ToFloat64:()=>xo});var sd=new Float64Array(1),fi=new Uint32Array(sd.buffer);function xo(r){let t=(r&31744)>>10,e=(r&1023)/1024,s=Math.pow(-1,(r&32768)>>15);switch(t){case 31:return s*(e?Number.NaN:1/0);case 0:return s*(e?6103515625e-14*e:0)}return s*Math.pow(2,t-15)*(1+e)}function is(r){if(r!==r)return 32256;sd[0]=r;let t=(fi[1]&2147483648)>>16&65535,e=fi[1]&2146435072,s=0;return e>=1089470464?fi[0]>0?e=31744:(e=(e&2080374784)>>16,s=(fi[1]&1048575)>>10):e<=1056964608?(s=1048576+(fi[1]&1048575),s=1048576+(s<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,s=(fi[1]&1048575)+512>>10),t|e|s&65535}var J=class extends H{};function rt(r){return(t,e,s)=>{if(t.setValid(e,s!=null))return r(t,e,s)}}var r0=(r,t,e)=>{r[t]=Math.floor(e/864e5)},od=(r,t,e,s)=>{if(e+1<t.length){let c=vt(t[e]),f=vt(t[e+1]);r.set(s.subarray(0,f-c),c)}},n0=({offset:r,values:t},e,s)=>{let c=r+e;s?t[c>>3]|=1<<c%8:t[c>>3]&=~(1<<c%8)},Tr=({values:r},t,e)=>{r[t]=e},Uc=({values:r},t,e)=>{r[t]=e},ad=({values:r},t,e)=>{r[t]=is(e)},i0=(r,t,e)=>{switch(r.type.precision){case At.HALF:return ad(r,t,e);case At.SINGLE:case At.DOUBLE:return Uc(r,t,e)}},Oo=({values:r},t,e)=>{r0(r,t,e.valueOf())},ko=({values:r},t,e)=>{r[t]=BigInt(e)},Nc=({stride:r,values:t},e,s)=>{t.set(s.subarray(0,r),r*e)},cd=({values:r,valueOffsets:t},e,s)=>od(r,t,e,s),ud=({values:r,valueOffsets:t},e,s)=>od(r,t,e,or(s)),Lc=(r,t,e)=>{r.type.unit===xt.DAY?Oo(r,t,e):ko(r,t,e)},To=({values:r},t,e)=>{r[t]=BigInt(e/1e3)},Mo=({values:r},t,e)=>{r[t]=BigInt(e)},Uo=({values:r},t,e)=>{r[t]=BigInt(e*1e3)},No=({values:r},t,e)=>{r[t]=BigInt(e*1e6)},Pc=(r,t,e)=>{switch(r.type.unit){case L.SECOND:return To(r,t,e);case L.MILLISECOND:return Mo(r,t,e);case L.MICROSECOND:return Uo(r,t,e);case L.NANOSECOND:return No(r,t,e)}},Lo=({values:r},t,e)=>{r[t]=e},Po=({values:r},t,e)=>{r[t]=e},Co=({values:r},t,e)=>{r[t]=e},Ro=({values:r},t,e)=>{r[t]=e},Cc=(r,t,e)=>{switch(r.type.unit){case L.SECOND:return Lo(r,t,e);case L.MILLISECOND:return Po(r,t,e);case L.MICROSECOND:return Co(r,t,e);case L.NANOSECOND:return Ro(r,t,e)}},Rc=({values:r,stride:t},e,s)=>{r.set(s.subarray(0,t),t*e)},s0=(r,t,e)=>{let s=r.children[0],c=r.valueOffsets,f=Jt.getVisitFn(s);if(Array.isArray(e))for(let d=-1,y=c[t],g=c[t+1];y<g;)f(s,y++,e[++d]);else for(let d=-1,y=c[t],g=c[t+1];y<g;)f(s,y++,e.get(++d))},o0=(r,t,e)=>{let s=r.children[0],{valueOffsets:c}=r,f=Jt.getVisitFn(s),{[t]:d,[t+1]:y}=c,g=e instanceof Map?e.entries():Object.entries(e);for(let b of g)if(f(s,d,b),++d>=y)break},a0=(r,t)=>(e,s,c,f)=>s&&e(s,r,t[f]),c0=(r,t)=>(e,s,c,f)=>s&&e(s,r,t.get(f)),u0=(r,t)=>(e,s,c,f)=>s&&e(s,r,t.get(c.name)),l0=(r,t)=>(e,s,c,f)=>s&&e(s,r,t[c.name]),f0=(r,t,e)=>{let s=r.type.children.map(f=>Jt.getVisitFn(f.type)),c=e instanceof Map?u0(t,e):e instanceof z?c0(t,e):Array.isArray(e)?a0(t,e):l0(t,e);r.type.children.forEach((f,d)=>c(s[d],r.children[d],f,d))},d0=(r,t,e)=>{r.type.mode===It.Dense?ld(r,t,e):fd(r,t,e)},ld=(r,t,e)=>{let s=r.type.typeIdToChildIndex[r.typeIds[t]],c=r.children[s];Jt.visit(c,r.valueOffsets[t],e)},fd=(r,t,e)=>{let s=r.type.typeIdToChildIndex[r.typeIds[t]],c=r.children[s];Jt.visit(c,t,e)},h0=(r,t,e)=>{var s;(s=r.dictionary)===null||s===void 0||s.set(r.values[t],e)},jc=(r,t,e)=>{r.type.unit===Lt.DAY_TIME?jo(r,t,e):Vo(r,t,e)},jo=({values:r},t,e)=>{r.set(e.subarray(0,2),2*t)},Vo=({values:r},t,e)=>{r[t]=e[0]*12+e[1]%12},zo=({values:r},t,e)=>{r[t]=e},$o=({values:r},t,e)=>{r[t]=e},Wo=({values:r},t,e)=>{r[t]=e},Ho=({values:r},t,e)=>{r[t]=e},Vc=(r,t,e)=>{switch(r.type.unit){case L.SECOND:return zo(r,t,e);case L.MILLISECOND:return $o(r,t,e);case L.MICROSECOND:return Wo(r,t,e);case L.NANOSECOND:return Ho(r,t,e)}},p0=(r,t,e)=>{let{stride:s}=r,c=r.children[0],f=Jt.getVisitFn(c);if(Array.isArray(e))for(let d=-1,y=t*s;++d<s;)f(c,y+d,e[d]);else for(let d=-1,y=t*s;++d<s;)f(c,y+d,e.get(d))};J.prototype.visitBool=rt(n0);J.prototype.visitInt=rt(Tr);J.prototype.visitInt8=rt(Tr);J.prototype.visitInt16=rt(Tr);J.prototype.visitInt32=rt(Tr);J.prototype.visitInt64=rt(Tr);J.prototype.visitUint8=rt(Tr);J.prototype.visitUint16=rt(Tr);J.prototype.visitUint32=rt(Tr);J.prototype.visitUint64=rt(Tr);J.prototype.visitFloat=rt(i0);J.prototype.visitFloat16=rt(ad);J.prototype.visitFloat32=rt(Uc);J.prototype.visitFloat64=rt(Uc);J.prototype.visitUtf8=rt(ud);J.prototype.visitLargeUtf8=rt(ud);J.prototype.visitBinary=rt(cd);J.prototype.visitLargeBinary=rt(cd);J.prototype.visitFixedSizeBinary=rt(Nc);J.prototype.visitDate=rt(Lc);J.prototype.visitDateDay=rt(Oo);J.prototype.visitDateMillisecond=rt(ko);J.prototype.visitTimestamp=rt(Pc);J.prototype.visitTimestampSecond=rt(To);J.prototype.visitTimestampMillisecond=rt(Mo);J.prototype.visitTimestampMicrosecond=rt(Uo);J.prototype.visitTimestampNanosecond=rt(No);J.prototype.visitTime=rt(Cc);J.prototype.visitTimeSecond=rt(Lo);J.prototype.visitTimeMillisecond=rt(Po);J.prototype.visitTimeMicrosecond=rt(Co);J.prototype.visitTimeNanosecond=rt(Ro);J.prototype.visitDecimal=rt(Rc);J.prototype.visitList=rt(s0);J.prototype.visitStruct=rt(f0);J.prototype.visitUnion=rt(d0);J.prototype.visitDenseUnion=rt(ld);J.prototype.visitSparseUnion=rt(fd);J.prototype.visitDictionary=rt(h0);J.prototype.visitInterval=rt(jc);J.prototype.visitIntervalDayTime=rt(jo);J.prototype.visitIntervalYearMonth=rt(Vo);J.prototype.visitDuration=rt(Vc);J.prototype.visitDurationSecond=rt(zo);J.prototype.visitDurationMillisecond=rt($o);J.prototype.visitDurationMicrosecond=rt(Wo);J.prototype.visitDurationNanosecond=rt(Ho);J.prototype.visitFixedSizeList=rt(p0);J.prototype.visitMap=rt(o0);var Jt=new J;var Xe=Symbol.for("parent"),di=Symbol.for("rowIndex"),nn=class{constructor(t,e){return this[Xe]=t,this[di]=e,new Proxy(this,new $c)}toArray(){return Object.values(this.toJSON())}toJSON(){let t=this[di],e=this[Xe],s=e.type.children,c={};for(let f=-1,d=s.length;++f<d;)c[s[f].name]=Vt.visit(e.children[f],t);return c}toString(){return`{${[...this].map(([t,e])=>`${Ke(t)}: ${Ke(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new zc(this[Xe],this[di])}},zc=class{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Vt.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(nn.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Xe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[di]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});var $c=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Xe].type.children.map(e=>e.name)}has(t,e){return t[Xe].type.children.findIndex(s=>s.name===e)!==-1}getOwnPropertyDescriptor(t,e){if(t[Xe].type.children.findIndex(s=>s.name===e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];let s=t[Xe].type.children.findIndex(c=>c.name===e);if(s!==-1){let c=Vt.visit(t[Xe].children[s],t[di]);return Reflect.set(t,e,c),c}}set(t,e,s){let c=t[Xe].type.children.findIndex(f=>f.name===e);return c!==-1?(Jt.visit(t[Xe].children[c],t[di],s),Reflect.set(t,e,s)):Reflect.has(t,e)||typeof e=="symbol"?Reflect.set(t,e,s):!1}};var Y=class extends H{};function tt(r){return(t,e)=>t.getValid(e)?r(t,e):null}var m0=(r,t)=>864e5*r[t],y0=(r,t)=>null,dd=(r,t,e)=>{if(e+1>=t.length)return null;let s=vt(t[e]),c=vt(t[e+1]);return r.subarray(s,c)},v0=({offset:r,values:t},e)=>{let s=r+e;return(t[s>>3]&1<<s%8)!==0},hd=({values:r},t)=>m0(r,t),pd=({values:r},t)=>vt(r[t]),sn=({stride:r,values:t},e)=>t[r*e],_0=({stride:r,values:t},e)=>xo(t[r*e]),md=({values:r},t)=>r[t],g0=({stride:r,values:t},e)=>t.subarray(r*e,r*(e+1)),yd=({values:r,valueOffsets:t},e)=>dd(r,t,e),vd=({values:r,valueOffsets:t},e)=>{let s=dd(r,t,e);return s!==null?Vi(s):null},b0=({values:r},t)=>r[t],w0=({type:r,values:t},e)=>r.precision!==At.HALF?t[e]:xo(t[e]),S0=(r,t)=>r.type.unit===xt.DAY?hd(r,t):pd(r,t),_d=({values:r},t)=>1e3*vt(r[t]),gd=({values:r},t)=>vt(r[t]),bd=({values:r},t)=>xc(r[t],BigInt(1e3)),wd=({values:r},t)=>xc(r[t],BigInt(1e6)),I0=(r,t)=>{switch(r.type.unit){case L.SECOND:return _d(r,t);case L.MILLISECOND:return gd(r,t);case L.MICROSECOND:return bd(r,t);case L.NANOSECOND:return wd(r,t)}},Sd=({values:r},t)=>r[t],Id=({values:r},t)=>r[t],Bd=({values:r},t)=>r[t],Dd=({values:r},t)=>r[t],B0=(r,t)=>{switch(r.type.unit){case L.SECOND:return Sd(r,t);case L.MILLISECOND:return Id(r,t);case L.MICROSECOND:return Bd(r,t);case L.NANOSECOND:return Dd(r,t)}},D0=({values:r,stride:t},e)=>ns.decimal(r.subarray(t*e,t*(e+1))),A0=(r,t)=>{let{valueOffsets:e,stride:s,children:c}=r,{[t*s]:f,[t*s+1]:d}=e,g=c[0].slice(f,d-f);return new z([g])},E0=(r,t)=>{let{valueOffsets:e,children:s}=r,{[t]:c,[t+1]:f}=e,d=s[0];return new fr(d.slice(c,f-c))},F0=(r,t)=>new nn(r,t),x0=(r,t)=>r.type.mode===It.Dense?Ad(r,t):Ed(r,t),Ad=(r,t)=>{let e=r.type.typeIdToChildIndex[r.typeIds[t]],s=r.children[e];return Vt.visit(s,r.valueOffsets[t])},Ed=(r,t)=>{let e=r.type.typeIdToChildIndex[r.typeIds[t]],s=r.children[e];return Vt.visit(s,t)},O0=(r,t)=>{var e;return(e=r.dictionary)===null||e===void 0?void 0:e.get(r.values[t])},k0=(r,t)=>r.type.unit===Lt.DAY_TIME?Fd(r,t):xd(r,t),Fd=({values:r},t)=>r.subarray(2*t,2*(t+1)),xd=({values:r},t)=>{let e=r[t],s=new Int32Array(2);return s[0]=Math.trunc(e/12),s[1]=Math.trunc(e%12),s},Od=({values:r},t)=>r[t],kd=({values:r},t)=>r[t],Td=({values:r},t)=>r[t],Md=({values:r},t)=>r[t],T0=(r,t)=>{switch(r.type.unit){case L.SECOND:return Od(r,t);case L.MILLISECOND:return kd(r,t);case L.MICROSECOND:return Td(r,t);case L.NANOSECOND:return Md(r,t)}},M0=(r,t)=>{let{stride:e,children:s}=r,f=s[0].slice(t*e,e);return new z([f])};Y.prototype.visitNull=tt(y0);Y.prototype.visitBool=tt(v0);Y.prototype.visitInt=tt(b0);Y.prototype.visitInt8=tt(sn);Y.prototype.visitInt16=tt(sn);Y.prototype.visitInt32=tt(sn);Y.prototype.visitInt64=tt(md);Y.prototype.visitUint8=tt(sn);Y.prototype.visitUint16=tt(sn);Y.prototype.visitUint32=tt(sn);Y.prototype.visitUint64=tt(md);Y.prototype.visitFloat=tt(w0);Y.prototype.visitFloat16=tt(_0);Y.prototype.visitFloat32=tt(sn);Y.prototype.visitFloat64=tt(sn);Y.prototype.visitUtf8=tt(vd);Y.prototype.visitLargeUtf8=tt(vd);Y.prototype.visitBinary=tt(yd);Y.prototype.visitLargeBinary=tt(yd);Y.prototype.visitFixedSizeBinary=tt(g0);Y.prototype.visitDate=tt(S0);Y.prototype.visitDateDay=tt(hd);Y.prototype.visitDateMillisecond=tt(pd);Y.prototype.visitTimestamp=tt(I0);Y.prototype.visitTimestampSecond=tt(_d);Y.prototype.visitTimestampMillisecond=tt(gd);Y.prototype.visitTimestampMicrosecond=tt(bd);Y.prototype.visitTimestampNanosecond=tt(wd);Y.prototype.visitTime=tt(B0);Y.prototype.visitTimeSecond=tt(Sd);Y.prototype.visitTimeMillisecond=tt(Id);Y.prototype.visitTimeMicrosecond=tt(Bd);Y.prototype.visitTimeNanosecond=tt(Dd);Y.prototype.visitDecimal=tt(D0);Y.prototype.visitList=tt(A0);Y.prototype.visitStruct=tt(F0);Y.prototype.visitUnion=tt(x0);Y.prototype.visitDenseUnion=tt(Ad);Y.prototype.visitSparseUnion=tt(Ed);Y.prototype.visitDictionary=tt(O0);Y.prototype.visitInterval=tt(k0);Y.prototype.visitIntervalDayTime=tt(Fd);Y.prototype.visitIntervalYearMonth=tt(xd);Y.prototype.visitDuration=tt(T0);Y.prototype.visitDurationSecond=tt(Od);Y.prototype.visitDurationMillisecond=tt(kd);Y.prototype.visitDurationMicrosecond=tt(Td);Y.prototype.visitDurationNanosecond=tt(Md);Y.prototype.visitFixedSizeList=tt(M0);Y.prototype.visitMap=tt(E0);var Vt=new Y;var on=Symbol.for("keys"),pi=Symbol.for("vals"),hi=Symbol.for("kKeysAsStrings"),Wc=Symbol.for("_kKeysAsStrings"),fr=class{constructor(t){return this[on]=new z([t.children[0]]).memoize(),this[pi]=t.children[1],new Proxy(this,new Yc)}get[hi](){return this[Wc]||(this[Wc]=Array.from(this[on].toArray(),String))}[Symbol.iterator](){return new Hc(this[on],this[pi])}get size(){return this[on].length}toArray(){return Object.values(this.toJSON())}toJSON(){let t=this[on],e=this[pi],s={};for(let c=-1,f=t.length;++c<f;)s[t.get(c)]=Vt.visit(e,c);return s}toString(){return`{${[...this].map(([t,e])=>`${Ke(t)}: ${Ke(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}},Hc=class{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){let t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Vt.visit(this.vals,t)]})}},Yc=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[hi]}has(t,e){return t[hi].includes(e)}getOwnPropertyDescriptor(t,e){if(t[hi].indexOf(e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];let s=t[hi].indexOf(e);if(s!==-1){let c=Vt.visit(Reflect.get(t,pi),s);return Reflect.set(t,e,c),c}}set(t,e,s){let c=t[hi].indexOf(e);return c!==-1?(Jt.visit(Reflect.get(t,pi),c,s),Reflect.set(t,e,s)):Reflect.has(t,e)?Reflect.set(t,e,s):!1}};Object.defineProperties(fr.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[on]:{writable:!0,enumerable:!1,configurable:!1,value:null},[pi]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Wc]:{writable:!0,enumerable:!1,configurable:!1,value:null}});var Ud;function ss(r,t,e,s){let{length:c=0}=r,f=typeof t!="number"?0:t,d=typeof e!="number"?c:e;return f<0&&(f=(f%c+c)%c),d<0&&(d=(d%c+c)%c),d<f&&(Ud=f,f=d,d=Ud),d>c&&(d=c),s?s(r,f,d):[f,d]}var Bn=(r,t)=>r<0?t+r:r,Nd=r=>r!==r;function an(r){if(typeof r!=="object"||r===null)return Nd(r)?Nd:e=>e===r;if(r instanceof Date){let e=r.valueOf();return s=>s instanceof Date?s.valueOf()===e:!1}return ArrayBuffer.isView(r)?e=>e?Bc(r,e):!1:r instanceof Map?N0(r):Array.isArray(r)?U0(r):r instanceof z?L0(r):P0(r,!0)}function U0(r){let t=[];for(let e=-1,s=r.length;++e<s;)t[e]=an(r[e]);return Yo(t)}function N0(r){let t=-1,e=[];for(let s of r.values())e[++t]=an(s);return Yo(e)}function L0(r){let t=[];for(let e=-1,s=r.length;++e<s;)t[e]=an(r.get(e));return Yo(t)}function P0(r,t=!1){let e=Object.keys(r);if(!t&&e.length===0)return()=>!1;let s=[];for(let c=-1,f=e.length;++c<f;)s[c]=an(r[e[c]]);return Yo(s,e)}function Yo(r,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return C0(r,e);case Map:return Ld(r,e,e.keys());case fr:case nn:case Object:case void 0:return Ld(r,e,t||Object.keys(e))}return e instanceof z?R0(r,e):!1}}function C0(r,t){let e=r.length;if(t.length!==e)return!1;for(let s=-1;++s<e;)if(!r[s](t[s]))return!1;return!0}function R0(r,t){let e=r.length;if(t.length!==e)return!1;for(let s=-1;++s<e;)if(!r[s](t.get(s)))return!1;return!0}function Ld(r,t,e){let s=e[Symbol.iterator](),c=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),f=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),d=0,y=r.length,g=f.next(),b=s.next(),v=c.next();for(;d<y&&!b.done&&!v.done&&!g.done&&!(b.value!==v.value||!r[d](g.value));++d,b=s.next(),v=c.next(),g=f.next());return d===y&&b.done&&v.done&&g.done?!0:(s.return&&s.return(),c.return&&c.return(),f.return&&f.return(),!1)}var qc={};bn(qc,{BitIterator:()=>Dn,getBit:()=>Pd,getBool:()=>qo,packBools:()=>En,popcnt_array:()=>Cd,popcnt_bit_range:()=>os,popcnt_uint32:()=>Go,setBool:()=>j0,truncateBitmap:()=>An});function qo(r,t,e,s){return(e&1<<s)!==0}function Pd(r,t,e,s){return(e&1<<s)>>s}function j0(r,t,e){return e?!!(r[t>>3]|=1<<t%8)||!0:!(r[t>>3]&=~(1<<t%8))&&!1}function An(r,t,e){let s=e.byteLength+7&-8;if(r>0||e.byteLength<s){let c=new Uint8Array(s);return c.set(r%8===0?e.subarray(r>>3):En(new Dn(e,r,t,null,qo)).subarray(0,s)),c}return e}function En(r){let t=[],e=0,s=0,c=0;for(let d of r)d&&(c|=1<<s),++s===8&&(t[e++]=c,c=s=0);(e===0||s>0)&&(t[e++]=c);let f=new Uint8Array(t.length+7&-8);return f.set(t),f}var Dn=class{constructor(t,e,s,c,f){this.bytes=t,this.length=s,this.context=c,this.get=f,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};function os(r,t,e){if(e-t<=0)return 0;if(e-t<8){let f=0;for(let d of new Dn(r,t,e-t,r,Pd))f+=d;return f}let s=e>>3<<3,c=t+(t%8===0?0:8-t%8);return os(r,t,c)+os(r,s,e)+Cd(r,c>>3,s-c>>3)}function Cd(r,t,e){let s=0,c=Math.trunc(t),f=new DataView(r.buffer,r.byteOffset,r.byteLength),d=e===void 0?r.byteLength:c+e;for(;d-c>=4;)s+=Go(f.getUint32(c)),c+=4;for(;d-c>=2;)s+=Go(f.getUint16(c)),c+=2;for(;d-c>=1;)s+=Go(f.getUint8(c)),c+=1;return s}function Go(r){let t=Math.trunc(r);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}var V0=-1,yt=class r{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){let{type:t}=this;return T.isSparseUnion(t)?this.children.some(e=>e.nullable):T.isDenseUnion(t)?this.children.some(e=>e.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0,{valueOffsets:e,values:s,nullBitmap:c,typeIds:f}=this;return e&&(t+=e.byteLength),s&&(t+=s.byteLength),c&&(t+=c.byteLength),f&&(t+=f.byteLength),this.children.reduce((d,y)=>d+y.byteLength,t)}get nullCount(){if(T.isUnion(this.type))return this.children.reduce((s,c)=>s+c.nullCount,0);let t=this._nullCount,e;return t<=V0&&(e=this.nullBitmap)&&(this._nullCount=t=e.length===0?0:this.length-os(e,this.offset,this.offset+this.length)),t}constructor(t,e,s,c,f,d=[],y){this.type=t,this.children=d,this.dictionary=y,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(s||0,0)),this._nullCount=Math.floor(Math.max(c||0,-1));let g;f instanceof r?(this.stride=f.stride,this.values=f.values,this.typeIds=f.typeIds,this.nullBitmap=f.nullBitmap,this.valueOffsets=f.valueOffsets):(this.stride=Ae(t),f&&((g=f[0])&&(this.valueOffsets=g),(g=f[1])&&(this.values=g),(g=f[2])&&(this.nullBitmap=g),(g=f[3])&&(this.typeIds=g)))}getValid(t){let{type:e}=this;if(T.isUnion(e)){let s=e,c=this.children[s.typeIdToChildIndex[this.typeIds[t]]],f=s.mode===It.Dense?this.valueOffsets[t]:t;return c.getValid(f)}if(this.nullable&&this.nullCount>0){let s=this.offset+t;return(this.nullBitmap[s>>3]&1<<s%8)!==0}return!0}setValid(t,e){let s,{type:c}=this;if(T.isUnion(c)){let f=c,d=this.children[f.typeIdToChildIndex[this.typeIds[t]]],y=f.mode===It.Dense?this.valueOffsets[t]:t;s=d.getValid(y),d.setValid(y,e)}else{let{nullBitmap:f}=this,{offset:d,length:y}=this,g=d+t,b=1<<g%8,v=g>>3;(!f||f.byteLength<=v)&&(f=new Uint8Array((d+y+63&-64)>>3).fill(255),this.nullCount>0?(f.set(An(d,y,this.nullBitmap),0),Object.assign(this,{nullBitmap:f})):Object.assign(this,{nullBitmap:f,_nullCount:0}));let F=f[v];s=(F&b)!==0,f[v]=e?F|b:F&~b}return s!==!!e&&(this._nullCount=this.nullCount+(e?-1:1)),e}clone(t=this.type,e=this.offset,s=this.length,c=this._nullCount,f=this,d=this.children){return new r(t,e,s,c,f,d,this.dictionary)}slice(t,e){let{stride:s,typeId:c,children:f}=this,d=+(this._nullCount===0)-1,y=c===16?s:1,g=this._sliceBuffers(t,e,s,c);return this.clone(this.type,this.offset+t,e,d,g,f.length===0||this.valueOffsets?f:this._sliceChildren(f,y*t,y*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===S.Null)return this.clone(this.type,0,t,0);let{length:e,nullCount:s}=this,c=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);c[e>>3]=(1<<e-(e&-8))-1,s>0&&c.set(An(this.offset,e,this.nullBitmap),0);let f=this.buffers;return f[Oe.VALIDITY]=c,this.clone(this.type,0,t,s+(t-e),f)}_sliceBuffers(t,e,s,c){let f,{buffers:d}=this;return(f=d[Oe.TYPE])&&(d[Oe.TYPE]=f.subarray(t,t+e)),(f=d[Oe.OFFSET])&&(d[Oe.OFFSET]=f.subarray(t,t+e+1))||(f=d[Oe.DATA])&&(d[Oe.DATA]=c===6?f:f.subarray(s*t,s*(t+e))),d}_sliceChildren(t,e,s){return t.map(c=>c.slice(e,s))}};yt.prototype.children=Object.freeze([]);var Kc=class r extends H{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){let{["type"]:e,["offset"]:s=0,["length"]:c=0}=t;return new yt(e,s,c,c)}visitBool(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length>>3,["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitInt(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length,["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitFloat(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length,["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitUtf8(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.data),f=Z(t.nullBitmap),d=wn(t.valueOffsets),{["length"]:y=d.length-1,["nullCount"]:g=t.nullBitmap?-1:0}=t;return new yt(e,s,y,g,[d,c,f])}visitLargeUtf8(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.data),f=Z(t.nullBitmap),d=So(t.valueOffsets),{["length"]:y=d.length-1,["nullCount"]:g=t.nullBitmap?-1:0}=t;return new yt(e,s,y,g,[d,c,f])}visitBinary(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.data),f=Z(t.nullBitmap),d=wn(t.valueOffsets),{["length"]:y=d.length-1,["nullCount"]:g=t.nullBitmap?-1:0}=t;return new yt(e,s,y,g,[d,c,f])}visitLargeBinary(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.data),f=Z(t.nullBitmap),d=So(t.valueOffsets),{["length"]:y=d.length-1,["nullCount"]:g=t.nullBitmap?-1:0}=t;return new yt(e,s,y,g,[d,c,f])}visitFixedSizeBinary(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length/Ae(e),["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitDate(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length/Ae(e),["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitTimestamp(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length/Ae(e),["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitTime(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length/Ae(e),["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitDecimal(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length/Ae(e),["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitList(t){let{["type"]:e,["offset"]:s=0,["child"]:c}=t,f=Z(t.nullBitmap),d=wn(t.valueOffsets),{["length"]:y=d.length-1,["nullCount"]:g=t.nullBitmap?-1:0}=t;return new yt(e,s,y,g,[d,void 0,f],[c])}visitStruct(t){let{["type"]:e,["offset"]:s=0,["children"]:c=[]}=t,f=Z(t.nullBitmap),{length:d=c.reduce((g,{length:b})=>Math.max(g,b),0),nullCount:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,void 0,f],c)}visitUnion(t){let{["type"]:e,["offset"]:s=0,["children"]:c=[]}=t,f=lt(e.ArrayType,t.typeIds),{["length"]:d=f.length,["nullCount"]:y=-1}=t;if(T.isSparseUnion(e))return new yt(e,s,d,y,[void 0,void 0,void 0,f],c);let g=wn(t.valueOffsets);return new yt(e,s,d,y,[g,void 0,void 0,f],c)}visitDictionary(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.indices.ArrayType,t.data),{["dictionary"]:d=new z([new r().visit({type:e.dictionary})])}=t,{["length"]:y=f.length,["nullCount"]:g=t.nullBitmap?-1:0}=t;return new yt(e,s,y,g,[void 0,f,c],[],d)}visitInterval(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length/Ae(e),["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitDuration(t){let{["type"]:e,["offset"]:s=0}=t,c=Z(t.nullBitmap),f=lt(e.ArrayType,t.data),{["length"]:d=f.length,["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,f,c])}visitFixedSizeList(t){let{["type"]:e,["offset"]:s=0,["child"]:c=new r().visit({type:e.valueType})}=t,f=Z(t.nullBitmap),{["length"]:d=c.length/Ae(e),["nullCount"]:y=t.nullBitmap?-1:0}=t;return new yt(e,s,d,y,[void 0,void 0,f],[c])}visitMap(t){let{["type"]:e,["offset"]:s=0,["child"]:c=new r().visit({type:e.childType})}=t,f=Z(t.nullBitmap),d=wn(t.valueOffsets),{["length"]:y=d.length-1,["nullCount"]:g=t.nullBitmap?-1:0}=t;return new yt(e,s,y,g,[d,void 0,f],[c])}},z0=new Kc;function U(r){return z0.visit(r)}var as=class{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};function Rd(r){return r.some(t=>t.nullable)}function Ko(r){return r.reduce((t,e)=>t+e.nullCount,0)}function Jo(r){return r.reduce((t,e,s)=>(t[s+1]=t[s]+e.length,t),new Uint32Array(r.length+1))}function Xo(r,t,e,s){let c=[];for(let f=-1,d=r.length;++f<d;){let y=r[f],g=t[f],{length:b}=y;if(g>=s)break;if(e>=g+b)continue;if(g>=e&&g+b<=s){c.push(y);continue}let v=Math.max(0,e-g),F=Math.min(s-g,b);c.push(y.slice(v,F-v))}return c.length===0&&c.push(r[0].slice(0,0)),c}function Jc(r,t,e,s){let c=0,f=0,d=t.length-1;do{if(c>=d-1)return e<t[d]?s(r,c,e-t[c]):null;f=c+Math.trunc((d-c)*.5),e<t[f]?d=f:c=f}while(c<d)}function cs(r,t){return r.getValid(t)}function mi(r){function t(e,s,c){return r(e[s],c)}return function(e){let s=this.data;return Jc(s,this._offsets,e,t)}}function Zo(r){let t;function e(s,c,f){return r(s[c],f,t)}return function(s,c){let f=this.data;t=c;let d=Jc(f,this._offsets,s,e);return t=void 0,d}}function Qo(r){let t;function e(s,c,f){let d=f,y=0,g=0;for(let b=c-1,v=s.length;++b<v;){let F=s[b];if(~(y=r(F,t,d)))return g+y;d=0,g+=F.length}return-1}return function(s,c){t=s;let f=this.data,d=typeof c!="number"?e(f,0,0):Jc(f,this._offsets,c,e);return t=void 0,d}}var G=class extends H{};function $0(r,t){return t===null&&r.length>0?0:-1}function W0(r,t){let{nullBitmap:e}=r;if(!e||r.nullCount<=0)return-1;let s=0;for(let c of new Dn(e,r.offset+(t||0),r.length,e,qo)){if(!c)return s;++s}return-1}function nt(r,t,e){if(t===void 0)return-1;if(t===null)switch(r.typeId){case S.Union:break;case S.Dictionary:break;default:return W0(r,e)}let s=Vt.getVisitFn(r),c=an(t);for(let f=(e||0)-1,d=r.length;++f<d;)if(c(s(r,f)))return f;return-1}function jd(r,t,e){let s=Vt.getVisitFn(r),c=an(t);for(let f=(e||0)-1,d=r.length;++f<d;)if(c(s(r,f)))return f;return-1}G.prototype.visitNull=$0;G.prototype.visitBool=nt;G.prototype.visitInt=nt;G.prototype.visitInt8=nt;G.prototype.visitInt16=nt;G.prototype.visitInt32=nt;G.prototype.visitInt64=nt;G.prototype.visitUint8=nt;G.prototype.visitUint16=nt;G.prototype.visitUint32=nt;G.prototype.visitUint64=nt;G.prototype.visitFloat=nt;G.prototype.visitFloat16=nt;G.prototype.visitFloat32=nt;G.prototype.visitFloat64=nt;G.prototype.visitUtf8=nt;G.prototype.visitLargeUtf8=nt;G.prototype.visitBinary=nt;G.prototype.visitLargeBinary=nt;G.prototype.visitFixedSizeBinary=nt;G.prototype.visitDate=nt;G.prototype.visitDateDay=nt;G.prototype.visitDateMillisecond=nt;G.prototype.visitTimestamp=nt;G.prototype.visitTimestampSecond=nt;G.prototype.visitTimestampMillisecond=nt;G.prototype.visitTimestampMicrosecond=nt;G.prototype.visitTimestampNanosecond=nt;G.prototype.visitTime=nt;G.prototype.visitTimeSecond=nt;G.prototype.visitTimeMillisecond=nt;G.prototype.visitTimeMicrosecond=nt;G.prototype.visitTimeNanosecond=nt;G.prototype.visitDecimal=nt;G.prototype.visitList=nt;G.prototype.visitStruct=nt;G.prototype.visitUnion=nt;G.prototype.visitDenseUnion=jd;G.prototype.visitSparseUnion=jd;G.prototype.visitDictionary=nt;G.prototype.visitInterval=nt;G.prototype.visitIntervalDayTime=nt;G.prototype.visitIntervalYearMonth=nt;G.prototype.visitDuration=nt;G.prototype.visitDurationSecond=nt;G.prototype.visitDurationMillisecond=nt;G.prototype.visitDurationMicrosecond=nt;G.prototype.visitDurationNanosecond=nt;G.prototype.visitFixedSizeList=nt;G.prototype.visitMap=nt;var Fn=new G;var q=class extends H{};function et(r){let{type:t}=r;if(r.nullCount===0&&r.stride===1&&(T.isInt(t)&&t.bitWidth!==64||T.isTime(t)&&t.bitWidth!==64||T.isFloat(t)&&t.precision!==At.HALF))return new as(r.data.length,s=>{let c=r.data[s];return c.values.subarray(0,c.length)[Symbol.iterator]()});let e=0;return new as(r.data.length,s=>{let f=r.data[s].length,d=r.slice(e,e+f);return e+=f,new Xc(d)})}var Xc=class{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};q.prototype.visitNull=et;q.prototype.visitBool=et;q.prototype.visitInt=et;q.prototype.visitInt8=et;q.prototype.visitInt16=et;q.prototype.visitInt32=et;q.prototype.visitInt64=et;q.prototype.visitUint8=et;q.prototype.visitUint16=et;q.prototype.visitUint32=et;q.prototype.visitUint64=et;q.prototype.visitFloat=et;q.prototype.visitFloat16=et;q.prototype.visitFloat32=et;q.prototype.visitFloat64=et;q.prototype.visitUtf8=et;q.prototype.visitLargeUtf8=et;q.prototype.visitBinary=et;q.prototype.visitLargeBinary=et;q.prototype.visitFixedSizeBinary=et;q.prototype.visitDate=et;q.prototype.visitDateDay=et;q.prototype.visitDateMillisecond=et;q.prototype.visitTimestamp=et;q.prototype.visitTimestampSecond=et;q.prototype.visitTimestampMillisecond=et;q.prototype.visitTimestampMicrosecond=et;q.prototype.visitTimestampNanosecond=et;q.prototype.visitTime=et;q.prototype.visitTimeSecond=et;q.prototype.visitTimeMillisecond=et;q.prototype.visitTimeMicrosecond=et;q.prototype.visitTimeNanosecond=et;q.prototype.visitDecimal=et;q.prototype.visitList=et;q.prototype.visitStruct=et;q.prototype.visitUnion=et;q.prototype.visitDenseUnion=et;q.prototype.visitSparseUnion=et;q.prototype.visitDictionary=et;q.prototype.visitInterval=et;q.prototype.visitIntervalDayTime=et;q.prototype.visitIntervalYearMonth=et;q.prototype.visitDuration=et;q.prototype.visitDurationSecond=et;q.prototype.visitDurationMillisecond=et;q.prototype.visitDurationMicrosecond=et;q.prototype.visitDurationNanosecond=et;q.prototype.visitFixedSizeList=et;q.prototype.visitMap=et;var yi=new q;var Vd,zd={},$d={},z=class r{constructor(t){var e,s,c;let f=t[0]instanceof r?t.flatMap(y=>y.data):t;if(f.length===0||f.some(y=>!(y instanceof yt)))throw new TypeError("Vector constructor expects an Array of Data instances.");let d=(e=f[0])===null||e===void 0?void 0:e.type;switch(f.length){case 0:this._offsets=[0];break;case 1:{let{get:y,set:g,indexOf:b}=zd[d.typeId],v=f[0];this.isValid=F=>cs(v,F),this.get=F=>y(v,F),this.set=(F,C)=>g(v,F,C),this.indexOf=F=>b(v,F),this._offsets=[0,v.length];break}default:Object.setPrototypeOf(this,$d[d.typeId]),this._offsets=Jo(f);break}this.data=f,this.type=d,this.stride=Ae(d),this.numChildren=(c=(s=d.children)===null||s===void 0?void 0:s.length)!==null&&c!==void 0?c:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,e)=>t+e.byteLength,0)}get nullable(){return Rd(this.data)}get nullCount(){return Ko(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${S[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get(Bn(t,this.length))}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>-1}[Symbol.iterator](){return yi.visit(this)}concat(...t){return new r(this.data.concat(t.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new r(ss(this,t,e,({data:s,_offsets:c},f,d)=>Xo(s,c,f,d)))}toJSON(){return[...this]}toArray(){let{type:t,data:e,length:s,stride:c,ArrayType:f}=this;switch(t.typeId){case S.Int:case S.Float:case S.Decimal:case S.Time:case S.Timestamp:switch(e.length){case 0:return new f;case 1:return e[0].values.subarray(0,s*c);default:return e.reduce((d,{values:y,length:g})=>(d.array.set(y.subarray(0,g*c),d.offset),d.offset+=g*c,d),{array:new f(s*c),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt((e=this.type.children)===null||e===void 0?void 0:e.findIndex(s=>s.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new r(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return T.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(T.isDictionary(this.type)){let t=new ta(this.data[0].dictionary),e=this.data.map(s=>{let c=s.clone();return c.dictionary=t,c});return new r(e)}return new ta(this)}unmemoize(){if(T.isDictionary(this.type)&&this.isMemoized){let t=this.data[0].dictionary.unmemoize(),e=this.data.map(s=>{let c=s.clone();return c.dictionary=t,c});return new r(e)}return this}};Vd=Symbol.toStringTag;z[Vd]=(r=>{r.type=T.prototype,r.data=[],r.length=0,r.stride=1,r.numChildren=0,r._offsets=new Uint32Array([0]),r[Symbol.isConcatSpreadable]=!0;let t=Object.keys(S).map(e=>S[e]).filter(e=>typeof e=="number"&&e!==S.NONE);for(let e of t){let s=Vt.getVisitFnByTypeId(e),c=Jt.getVisitFnByTypeId(e),f=Fn.getVisitFnByTypeId(e);zd[e]={get:s,set:c,indexOf:f},$d[e]=Object.create(r,{isValid:{value:mi(cs)},get:{value:mi(Vt.getVisitFnByTypeId(e))},set:{value:Zo(Jt.getVisitFnByTypeId(e))},indexOf:{value:Qo(Fn.getVisitFnByTypeId(e))}})}return"Vector"})(z.prototype);var ta=class r extends z{constructor(t){super(t.data);let e=this.get,s=this.set,c=this.slice,f=new Array(this.length);Object.defineProperty(this,"get",{value(d){let y=f[d];if(y!==void 0)return y;let g=e.call(this,d);return f[d]=g,g}}),Object.defineProperty(this,"set",{value(d,y){s.call(this,d,y),f[d]=y}}),Object.defineProperty(this,"slice",{value:(d,y)=>new r(c.call(this,d,y))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new z(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}};function vi(r){if(r){if(r instanceof yt)return new z([r]);if(r instanceof z)return new z(r.data);if(r.type instanceof T)return new z([U(r)]);if(Array.isArray(r))return new z(r.flatMap(t=>H0(t)));if(ArrayBuffer.isView(r)){r instanceof DataView&&(r=new Uint8Array(r.buffer));let t={offset:0,length:r.length,nullCount:-1,data:r};if(r instanceof Int8Array)return new z([U(Object.assign(Object.assign({},t),{type:new Ir}))]);if(r instanceof Int16Array)return new z([U(Object.assign(Object.assign({},t),{type:new Br}))]);if(r instanceof Int32Array)return new z([U(Object.assign(Object.assign({},t),{type:new re}))]);if(r instanceof BigInt64Array)return new z([U(Object.assign(Object.assign({},t),{type:new Dr}))]);if(r instanceof Uint8Array||r instanceof Uint8ClampedArray)return new z([U(Object.assign(Object.assign({},t),{type:new Ar}))]);if(r instanceof Uint16Array)return new z([U(Object.assign(Object.assign({},t),{type:new Er}))]);if(r instanceof Uint32Array)return new z([U(Object.assign(Object.assign({},t),{type:new Fr}))]);if(r instanceof BigUint64Array)return new z([U(Object.assign(Object.assign({},t),{type:new xr}))]);if(r instanceof Float32Array)return new z([U(Object.assign(Object.assign({},t),{type:new Or}))]);if(r instanceof Float64Array)return new z([U(Object.assign(Object.assign({},t),{type:new kr}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}function H0(r){return r instanceof yt?[r]:r instanceof z?r.data:vi(r).data}function Wd(r){if(!r||r.length<=0)return function(c){return!0};let t="",e=r.filter(s=>s===s);return e.length>0&&(t=`
    switch (x) {${e.map(s=>`
        case ${Y0(s)}:`).join("")}
            return false;
    }`),r.length!==e.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function Y0(r){return typeof r!="bigint"?Ke(r):`${Ke(r)}n`}function Zc(r,t){let e=Math.ceil(r)*t-1;return(e-e%64+64||64)/t}function Hd(r,t=0){return r.length>=t?r.subarray(0,t):$i(new r.constructor(t),r,0)}var Ze=class{constructor(t,e=0,s=1){this.length=Math.ceil(e/s),this.buffer=new t(this.length),this.stride=s,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,e){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;let e=this.stride,s=this.length*e,c=this.buffer.length;s>=c&&this._resize(c===0?Zc(s*1,this.BYTES_PER_ELEMENT):Zc(s*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=Zc(t*this.stride,this.BYTES_PER_ELEMENT);let e=Hd(this.buffer,t);return this.clear(),e}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize(t){return this.buffer=Hd(this.buffer,t)}},Mr=class extends Ze{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,e){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=e,this}},_i=class extends Mr{constructor(){super(Uint8Array,0,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,e){let{buffer:s}=this.reserve(t-this.length+1),c=t>>3,f=t%8,d=s[c]>>f&1;return e?d===0&&(s[c]|=1<<f,++this.numValid):d===1&&(s[c]&=~(1<<f),--this.numValid),this}clear(){return this.numValid=0,super.clear()}},gi=class extends Mr{constructor(t){super(t.OffsetArrayType,1,1)}append(t){return this.set(this.length-1,t)}set(t,e){let s=this.length-1,c=this.reserve(t-s+1).buffer;return s<t++&&s>=0&&c.fill(c[s],s,t),c[t]=c[t-1]+e,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0),super.flush(t+1)}};var Mt=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:e}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=e,this.stride=Ae(t),this._nulls=new _i,e&&e.length>0&&(this._isValid=Wd(e))}toVector(){return new z([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0,{_offsets:e,_values:s,_nulls:c,_typeIds:f,children:d}=this;return e&&(t+=e.byteLength),s&&(t+=s.byteLength),c&&(t+=c.byteLength),f&&(t+=f.byteLength),d.reduce((y,g)=>y+g.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((e,s)=>e+s.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,e){return this.setValid(t,this.isValid(e))&&this.setValue(t,e),this}setValue(t,e){this._setValue(this,t,e)}setValid(t,e){return this.length=this._nulls.set(t,+e).length,e}addChild(t,e=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,e,s,c,{type:f,length:d,nullCount:y,_typeIds:g,_offsets:b,_values:v,_nulls:F}=this;(e=g?.flush(d))?c=b?.flush(d):(c=b?.flush(d))?t=v?.flush(b.last()):t=v?.flush(d),y>0&&(s=F?.flush(d));let C=this.children.map(P=>P.flush());return this.clear(),U({type:f,length:d,nullCount:y,children:C,child:C[0],data:t,typeIds:e,nullBitmap:s,valueOffsets:c})}finish(){this.finished=!0;for(let t of this.children)t.finish();return this}clear(){var t,e,s,c;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(e=this._values)===null||e===void 0||e.clear(),(s=this._offsets)===null||s===void 0||s.clear(),(c=this._typeIds)===null||c===void 0||c.clear();for(let f of this.children)f.clear();return this}};Mt.prototype.length=1;Mt.prototype.stride=1;Mt.prototype.children=null;Mt.prototype.finished=!1;Mt.prototype.nullValues=null;Mt.prototype._isValid=()=>!0;var zt=class extends Mt{constructor(t){super(t),this._values=new Mr(this.ArrayType,0,this.stride)}setValue(t,e){let s=this._values;return s.reserve(t-s.length+1),super.setValue(t,e)}},he=class extends Mt{constructor(t){super(t),this._pendingLength=0,this._offsets=new gi(t.type)}setValue(t,e){let s=this._pending||(this._pending=new Map),c=s.get(t);c&&(this._pendingLength-=c.length),this._pendingLength+=e instanceof fr?e[on].length:e.length,s.set(t,e)}setValid(t,e){return super.setValid(t,e)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let t=this._pending,e=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,e),this}};var xn=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,s,c){return t.prep(8,24),t.writeInt64(BigInt(c??0)),t.pad(4),t.writeInt32(s),t.writeInt64(BigInt(e??0)),t.offset()}};var Ee=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):bt.V1}schema(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new ae).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){let s=this.bb.__offset(this.bb_pos,8);return s?(e||new xn).__init(this.bb.__vector(this.bb_pos+s)+t*24,this.bb):null}dictionariesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){let s=this.bb.__offset(this.bb_pos,10);return s?(e||new xn).__init(this.bb.__vector(this.bb_pos+s)+t*24,this.bb):null}recordBatchesLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){let s=this.bb.__offset(this.bb_pos,12);return s?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+t*4),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,bt.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}};var _t=class r{constructor(t=[],e,s,c=bt.V5){this.fields=t||[],this.metadata=e||new Map,s||(s=Qc(t)),this.dictionaries=s,this.metadataVersion=c}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){let e=new Set(t),s=this.fields.filter(c=>e.has(c.name));return new r(s,this.metadata)}selectAt(t){let e=t.map(s=>this.fields[s]).filter(Boolean);return new r(e,this.metadata)}assign(...t){let e=t[0]instanceof r?t[0]:Array.isArray(t[0])?new r(t[0]):new r(t),s=[...this.fields],c=ea(ea(new Map,this.metadata),e.metadata),f=e.fields.filter(y=>{let g=s.findIndex(b=>b.name===y.name);return~g?(s[g]=y.clone({metadata:ea(ea(new Map,s[g].metadata),y.metadata)}))&&!1:!0}),d=Qc(f,new Map);return new r([...s,...f],c,new Map([...this.dictionaries,...d]))}};_t.prototype.fields=null;_t.prototype.metadata=null;_t.prototype.dictionaries=null;var $=class r{static new(...t){let[e,s,c,f]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],s===void 0&&(s=t[0].type),c===void 0&&(c=t[0].nullable),f===void 0&&(f=t[0].metadata)),new r(`${e}`,s,c,f)}constructor(t,e,s=!1,c){this.name=t,this.type=e,this.nullable=s,this.metadata=c||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,s,c,f]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,s=this.type,c=this.nullable,f=this.metadata]=t:{name:e=this.name,type:s=this.type,nullable:c=this.nullable,metadata:f=this.metadata}=t[0],r.new(e,s,c,f)}};$.prototype.type=null;$.prototype.name=null;$.prototype.nullable=null;$.prototype.metadata=null;function ea(r,t){return new Map([...r||new Map,...t||new Map])}function Qc(r,t=new Map){for(let e=-1,s=r.length;++e<s;){let f=r[e].type;if(T.isDictionary(f)){if(!t.has(f.id))t.set(f.id,f.dictionary);else if(t.get(f.id)!==f.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}f.children&&f.children.length>0&&Qc(f.children,t)}return t}var G0=Sn,q0=we,Ur=class{static decode(t){t=new q0(Z(t));let e=Ee.getRootAsFooter(t),s=_t.decode(e.schema(),new Map,e.version());return new tu(s,e)}static encode(t){let e=new G0,s=_t.encode(e,t.schema);Ee.startRecordBatchesVector(e,t.numRecordBatches);for(let d of[...t.recordBatches()].slice().reverse())Nr.encode(e,d);let c=e.endVector();Ee.startDictionariesVector(e,t.numDictionaries);for(let d of[...t.dictionaryBatches()].slice().reverse())Nr.encode(e,d);let f=e.endVector();return Ee.startFooter(e),Ee.addSchema(e,s),Ee.addVersion(e,bt.V5),Ee.addRecordBatches(e,c),Ee.addDictionaries(e,f),Ee.finishFooterBuffer(e,Ee.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,e=bt.V5,s,c){this.schema=t,this.version=e,s&&(this._recordBatches=s),c&&(this._dictionaryBatches=c)}*recordBatches(){for(let t,e=-1,s=this.numRecordBatches;++e<s;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,s=this.numDictionaries;++e<s;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}};var tu=class extends Ur{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,e){super(t,e.version()),this._footer=e}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){let e=this._footer.recordBatches(t);if(e)return Nr.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){let e=this._footer.dictionaries(t);if(e)return Nr.decode(e)}return null}},Nr=class r{static decode(t){return new r(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){let{metaDataLength:s}=e,c=BigInt(e.offset),f=BigInt(e.bodyLength);return xn.createBlock(t,c,s,f)}constructor(t,e,s){this.metaDataLength=t,this.offset=vt(s),this.bodyLength=vt(e)}};var Ot=Object.freeze({done:!0,value:void 0}),us=class{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}},On=class{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}},ra=class extends On{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return j(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){let{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Ot);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Kt.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Kt.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return j(this,void 0,void 0,function*(){return yield this.abort(t),Ot})}return(t){return j(this,void 0,void 0,function*(){return yield this.close(),Ot})}read(t){return j(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return j(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,s)=>{this.resolvers.push({resolve:e,reject:s})}):Promise.resolve(Ot)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};var dr=class extends ra{write(t){if((t=Z(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Vi(this.toUint8Array(!0)):this.toUint8Array(!1).then(Vi)}toUint8Array(t=!1){return t?be(this._values)[0]:j(this,void 0,void 0,function*(){var e,s,c,f;let d=[],y=0;try{for(var g=!0,b=ze(this),v;v=yield b.next(),e=v.done,!e;g=!0){f=v.value,g=!1;let F=f;d.push(F),y+=F.byteLength}}catch(F){s={error:F}}finally{try{!g&&!e&&(c=b.return)&&(yield c.call(b))}finally{if(s)throw s.error}}return be(d,y)[0]})}},hr=class{constructor(t){t&&(this.source=new eu(Kt.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}},Re=class r{constructor(t){t instanceof r?this.source=t.source:t instanceof dr?this.source=new Lr(Kt.fromAsyncIterable(t)):wo(t)?this.source=new Lr(Kt.fromNodeStream(t)):zi(t)?this.source=new Lr(Kt.fromDOMStream(t)):go(t)?this.source=new Lr(Kt.fromDOMStream(t.body)):We(t)?this.source=new Lr(Kt.fromIterable(t)):$e(t)?this.source=new Lr(Kt.fromAsyncIterable(t)):Fe(t)&&(this.source=new Lr(Kt.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}},eu=class{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Ot)}return(t){return Object.create(this.source.return&&this.source.return(t)||Ot)}},Lr=class{constructor(t){this.source=t,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(t){return j(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return j(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return j(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){return j(this,arguments,void 0,function*(e,s="read"){return yield this.source.next({cmd:s,size:e})})}throw(t){return j(this,void 0,void 0,function*(){let e=this.source.throw&&(yield this.source.throw(t))||Ot;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return j(this,void 0,void 0,function*(){let e=this.source.return&&(yield this.source.return(t))||Ot;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}};var ls=class extends hr{constructor(t,e){super(),this.position=0,this.buffer=Z(t),this.size=e===void 0?this.buffer.byteLength:e}readInt32(t){let{buffer:e,byteOffset:s}=this.readAt(t,4);return new DataView(e,s).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){let{buffer:e,size:s,position:c}=this;return e&&c<s?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(s,c+Math.min(s-c,t)),e.subarray(c,this.position)):null}readAt(t,e){let s=this.buffer,c=Math.min(this.size,t+e);return s?s.subarray(t,c):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}},cn=class extends Re{constructor(t,e){super(),this.position=0,this._handle=t,typeof e=="number"?this.size=e:this._pending=j(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return j(this,void 0,void 0,function*(){let{buffer:e,byteOffset:s}=yield this.readAt(t,4);return new DataView(e,s).getInt32(0,!0)})}seek(t){return j(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return j(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:e,size:s,position:c}=this;if(e&&c<s){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let f=c,d=0,y=0,g=Math.min(s,f+Math.min(s-f,t)),b=new Uint8Array(Math.max(0,(this.position=g)-f));for(;(f+=y)<g&&(d+=y)<b.byteLength;)({bytesRead:y}=yield e.read(b,d,b.byteLength-d,f));return b}return null})}readAt(t,e){return j(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:s,size:c}=this;if(s&&t+e<c){let f=Math.min(c,t+e),d=new Uint8Array(f-t);return(yield s.read(d,0,e,t)).buffer}return new Uint8Array(e)})}close(){return j(this,void 0,void 0,function*(){let t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return j(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return j(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}};var nu={};bn(nu,{BaseInt64:()=>fs,Int128:()=>ds,Int64:()=>Pr,Uint64:()=>Pt});function bi(r){return r<0&&(r=4294967295+r+1),`0x${r.toString(16)}`}var wi=8,ru=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],fs=class{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){let e=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),s=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]),c=e[3]*s[3];this.buffer[0]=c&65535;let f=c>>>16;return c=e[2]*s[3],f+=c,c=e[3]*s[2]>>>0,f+=c,this.buffer[0]+=f<<16,this.buffer[1]=f>>>0<c?65536:0,this.buffer[1]+=f>>>16,this.buffer[1]+=e[1]*s[3]+e[2]*s[2]+e[3]*s[1],this.buffer[1]+=e[0]*s[3]+e[1]*s[2]+e[2]*s[1]+e[3]*s[0]<<16,this}_plus(t){let e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${bi(this.buffer[1])} ${bi(this.buffer[0])}`}},Pt=class r extends fs{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return r.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return r.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){let s=t.length,c=new r(e);for(let f=0;f<s;){let d=wi<s-f?wi:s-f,y=new r(new Uint32Array([Number.parseInt(t.slice(f,f+d),10),0])),g=new r(new Uint32Array([ru[d],0]));c.times(g),c.plus(y),f+=d}return c}static convertArray(t){let e=new Uint32Array(t.length*2);for(let s=-1,c=t.length;++s<c;)r.from(t[s],new Uint32Array(e.buffer,e.byteOffset+2*s*4,2));return e}static multiply(t,e){return new r(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new r(new Uint32Array(t.buffer)).plus(e)}},Pr=class r extends fs{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){let e=this.buffer[1]<<0,s=t.buffer[1]<<0;return e<s||e===s&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return r.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return r.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){let s=t.startsWith("-"),c=t.length,f=new r(e);for(let d=s?1:0;d<c;){let y=wi<c-d?wi:c-d,g=new r(new Uint32Array([Number.parseInt(t.slice(d,d+y),10),0])),b=new r(new Uint32Array([ru[y],0]));f.times(b),f.plus(g),d+=y}return s?f.negate():f}static convertArray(t){let e=new Uint32Array(t.length*2);for(let s=-1,c=t.length;++s<c;)r.from(t[s],new Uint32Array(e.buffer,e.byteOffset+2*s*4,2));return e}static multiply(t,e){return new r(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new r(new Uint32Array(t.buffer)).plus(e)}},ds=class r{constructor(t){this.buffer=t}high(){return new Pr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Pr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){let e=new Pt(new Uint32Array([this.buffer[3],0])),s=new Pt(new Uint32Array([this.buffer[2],0])),c=new Pt(new Uint32Array([this.buffer[1],0])),f=new Pt(new Uint32Array([this.buffer[0],0])),d=new Pt(new Uint32Array([t.buffer[3],0])),y=new Pt(new Uint32Array([t.buffer[2],0])),g=new Pt(new Uint32Array([t.buffer[1],0])),b=new Pt(new Uint32Array([t.buffer[0],0])),v=Pt.multiply(f,b);this.buffer[0]=v.low();let F=new Pt(new Uint32Array([v.high(),0]));return v=Pt.multiply(c,b),F.plus(v),v=Pt.multiply(f,g),F.plus(v),this.buffer[1]=F.low(),this.buffer[3]=F.lessThan(v)?1:0,this.buffer[2]=F.high(),new Pt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Pt.multiply(s,b)).plus(Pt.multiply(c,g)).plus(Pt.multiply(f,y)),this.buffer[3]+=Pt.multiply(e,b).plus(Pt.multiply(s,g)).plus(Pt.multiply(c,y)).plus(Pt.multiply(f,d)).low(),this}plus(t){let e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${bi(this.buffer[3])} ${bi(this.buffer[2])} ${bi(this.buffer[1])} ${bi(this.buffer[0])}`}static multiply(t,e){return new r(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new r(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return r.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return r.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){let s=t.startsWith("-"),c=t.length,f=new r(e);for(let d=s?1:0;d<c;){let y=wi<c-d?wi:c-d,g=new r(new Uint32Array([Number.parseInt(t.slice(d,d+y),10),0,0,0])),b=new r(new Uint32Array([ru[y],0,0,0]));f.times(b),f.plus(g),d+=y}return s?f.negate():f}static convertArray(t){let e=new Uint32Array(t.length*4);for(let s=-1,c=t.length;++s<c;)r.from(t[s],new Uint32Array(e.buffer,e.byteOffset+4*4*s,4));return e}};var hs=class extends H{constructor(t,e,s,c,f=bt.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=s,this.dictionaries=c,this.metadataVersion=f}visit(t){return super.visit(t instanceof $?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return U({type:t,length:e})}visitBool(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitInt(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitDate(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitTime(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitList(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),children:this.visitMany(t.children)})}visitUnion(t,{length:e,nullCount:s}=this.nextFieldNode()){return this.metadataVersion<bt.V5&&this.readNullBitmap(t,s),t.mode===It.Sparse?this.visitSparseUnion(t,{length:e,nullCount:s}):this.visitDenseUnion(t,{length:e,nullCount:s})}visitDenseUnion(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitDuration(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:s}=this.nextFieldNode()){return U({type:t,length:e,nullCount:s,nullBitmap:this.readNullBitmap(t,s),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,s=this.nextBufferRange()){return e>0&&this.readData(t,s)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:s}=this.nextBufferRange()){return this.bytes.subarray(s,s+e)}readDictionary(t){return this.dictionaries.get(t.id)}},na=class extends hs{constructor(t,e,s,c,f){super(new Uint8Array(0),e,s,c,f),this.sources=t}readNullBitmap(t,e,{offset:s}=this.nextBufferRange()){return e<=0?new Uint8Array(0):En(this.sources[s])}readOffsets(t,{offset:e}=this.nextBufferRange()){return lt(Uint8Array,lt(t.OffsetArrayType,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return lt(Uint8Array,lt(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){let{sources:s}=this;return T.isTimestamp(t)?lt(Uint8Array,Pr.convertArray(s[e])):(T.isInt(t)||T.isTime(t))&&t.bitWidth===64||T.isDuration(t)?lt(Uint8Array,Pr.convertArray(s[e])):T.isDate(t)&&t.unit===xt.MILLISECOND?lt(Uint8Array,Pr.convertArray(s[e])):T.isDecimal(t)?lt(Uint8Array,ds.convertArray(s[e])):T.isBinary(t)||T.isLargeBinary(t)||T.isFixedSizeBinary(t)?K0(s[e]):T.isBool(t)?En(s[e]):T.isUtf8(t)||T.isLargeUtf8(t)?or(s[e].join("")):lt(Uint8Array,lt(t.ArrayType,s[e].map(c=>+c)))}};function K0(r){let t=r.join(""),e=new Uint8Array(t.length/2);for(let s=0;s<t.length;s+=2)e[s>>1]=Number.parseInt(t.slice(s,s+2),16);return e}var Si=class extends he{constructor(t){super(t),this._values=new Ze(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,Z(e))}_flushPending(t,e){let s=this._offsets,c=this._values.reserve(e).buffer,f=0;for(let[d,y]of t)if(y===void 0)s.set(d,0);else{let g=y.length;c.set(y,f),s.set(d,g),f+=g}}};var Ii=class extends he{constructor(t){super(t),this._values=new Ze(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,Z(e))}_flushPending(t,e){let s=this._offsets,c=this._values.reserve(e).buffer,f=0;for(let[d,y]of t)if(y===void 0)s.set(d,BigInt(0));else{let g=y.length;c.set(y,f),s.set(d,BigInt(g)),f+=g}}};var ia=class extends Mt{constructor(t){super(t),this._values=new _i}setValue(t,e){this._values.set(t,+e)}};var kn=class extends zt{};kn.prototype._setValue=Lc;var ps=class extends kn{};ps.prototype._setValue=Oo;var ms=class extends kn{};ms.prototype._setValue=ko;var ys=class extends zt{};ys.prototype._setValue=Rc;var sa=class extends Mt{constructor({type:t,nullValues:e,dictionaryHashFunction:s}){super({type:new Qt(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Tn({type:this.type.indices,nullValues:e}),this.dictionary=Tn({type:this.type.dictionary,nullValues:null}),typeof s=="function"&&(this.valueToKey=s)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,e){let s=this.indices;return e=s.setValid(t,e),this.length=s.length,e}setValue(t,e){let s=this._keysToIndices,c=this.valueToKey(e),f=s[c];return f===void 0&&(s[c]=f=this._dictionaryOffset+this.dictionary.append(e).length-1),this.indices.setValue(t,f)}flush(){let t=this.type,e=this._dictionary,s=this.dictionary.toVector(),c=this.indices.flush().clone(t);return c.dictionary=e?e.concat(s):s,this.finished||(this._dictionaryOffset+=s.length),this._dictionary=c.dictionary,this.clear(),c}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}};var vs=class extends zt{};vs.prototype._setValue=Nc;var oa=class extends Mt{setValue(t,e){let[s]=this.children,c=t*this.stride;for(let f=-1,d=e.length;++f<d;)s.set(c+f,e[f])}addChild(t,e="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let s=this.children.push(t);return this.type=new fe(this.type.listSize,new $(e,t.type,!0)),s}};var Mn=class extends zt{setValue(t,e){this._values.set(t,e)}},aa=class extends Mn{setValue(t,e){super.setValue(t,is(e))}},ca=class extends Mn{},ua=class extends Mn{};var Un=class extends zt{};Un.prototype._setValue=jc;var _s=class extends Un{};_s.prototype._setValue=jo;var gs=class extends Un{};gs.prototype._setValue=Vo;var Cr=class extends zt{};Cr.prototype._setValue=Vc;var bs=class extends Cr{};bs.prototype._setValue=zo;var ws=class extends Cr{};ws.prototype._setValue=$o;var Ss=class extends Cr{};Ss.prototype._setValue=Wo;var Is=class extends Cr{};Is.prototype._setValue=Ho;var je=class extends zt{setValue(t,e){this._values.set(t,e)}},la=class extends je{},fa=class extends je{},da=class extends je{},ha=class extends je{},pa=class extends je{},ma=class extends je{},ya=class extends je{},va=class extends je{};var _a=class extends he{constructor(t){super(t),this._offsets=new gi(t.type)}addChild(t,e="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new ne(new $(e,t.type,!0)),this.numChildren-1}_flushPending(t){let e=this._offsets,[s]=this.children;for(let[c,f]of t)if(typeof f>"u")e.set(c,0);else{let d=f,y=d.length,g=e.set(c,y).buffer[c];for(let b=-1;++b<y;)s.set(g+b,d[b])}}};var ga=class extends he{set(t,e){return super.set(t,e)}setValue(t,e){let s=e instanceof Map?e:new Map(Object.entries(e)),c=this._pending||(this._pending=new Map),f=c.get(t);f&&(this._pendingLength-=f.size),this._pendingLength+=s.size,c.set(t,s)}addChild(t,e=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new de(new $(e,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){let e=this._offsets,[s]=this.children;for(let[c,f]of t)if(f===void 0)e.set(c,0);else{let{[c]:d,[c+1]:y}=e.set(c,f.size).buffer;for(let g of f.entries())if(s.set(d,g),++d>=y)break}}};var ba=class extends Mt{setValue(t,e){}setValid(t,e){return this.length=Math.max(t+1,this.length),e}};var wa=class extends Mt{setValue(t,e){let{children:s,type:c}=this;switch(Array.isArray(e)||e.constructor){case!0:return c.children.forEach((f,d)=>s[d].set(t,e[d]));case Map:return c.children.forEach((f,d)=>s[d].set(t,e.get(f.name)));default:return c.children.forEach((f,d)=>s[d].set(t,e[f.name]))}}setValid(t,e){return super.setValid(t,e)||this.children.forEach(s=>s.setValid(t,e)),e}addChild(t,e=`${this.numChildren}`){let s=this.children.push(t);return this.type=new Bt([...this.type.children,new $(e,t.type,!0)]),s}};var Rr=class extends zt{};Rr.prototype._setValue=Pc;var Bs=class extends Rr{};Bs.prototype._setValue=To;var Ds=class extends Rr{};Ds.prototype._setValue=Mo;var As=class extends Rr{};As.prototype._setValue=Uo;var Es=class extends Rr{};Es.prototype._setValue=No;var jr=class extends zt{};jr.prototype._setValue=Cc;var Fs=class extends jr{};Fs.prototype._setValue=Lo;var xs=class extends jr{};xs.prototype._setValue=Po;var Os=class extends jr{};Os.prototype._setValue=Co;var ks=class extends jr{};ks.prototype._setValue=Ro;var Bi=class extends Mt{constructor(t){super(t),this._typeIds=new Mr(Int8Array,0,1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,e){return this.set(this.length,t,e)}set(t,e,s){return s===void 0&&(s=this._valueToChildTypeId(this,e,t)),this.setValue(t,e,s),this}setValue(t,e,s){this._typeIds.set(t,s);let c=this.type.typeIdToChildIndex[s],f=this.children[c];f?.set(t,e)}addChild(t,e=`${this.children.length}`){let s=this.children.push(t),{type:{children:c,mode:f,typeIds:d}}=this,y=[...c,new $(e,t.type)];return this.type=new le(f,[...d,s],y),s}_valueToChildTypeId(t,e,s){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}},Sa=class extends Bi{},Ia=class extends Bi{constructor(t){super(t),this._offsets=new Mr(Int32Array)}setValue(t,e,s){let c=this._typeIds.set(t,s).buffer[t],f=this.getChildAt(this.type.typeIdToChildIndex[c]),d=this._offsets.set(t,f.length).buffer[t];f?.set(d,e)}};var Ts=class extends he{constructor(t){super(t),this._values=new Ze(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,or(e))}_flushPending(t,e){}};Ts.prototype._flushPending=Si.prototype._flushPending;var Ms=class extends he{constructor(t){super(t),this._values=new Ze(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,or(e))}_flushPending(t,e){}};Ms.prototype._flushPending=Ii.prototype._flushPending;var iu=class extends H{visitNull(){return ba}visitBool(){return ia}visitInt(){return je}visitInt8(){return la}visitInt16(){return fa}visitInt32(){return da}visitInt64(){return ha}visitUint8(){return pa}visitUint16(){return ma}visitUint32(){return ya}visitUint64(){return va}visitFloat(){return Mn}visitFloat16(){return aa}visitFloat32(){return ca}visitFloat64(){return ua}visitUtf8(){return Ts}visitLargeUtf8(){return Ms}visitBinary(){return Si}visitLargeBinary(){return Ii}visitFixedSizeBinary(){return vs}visitDate(){return kn}visitDateDay(){return ps}visitDateMillisecond(){return ms}visitTimestamp(){return Rr}visitTimestampSecond(){return Bs}visitTimestampMillisecond(){return Ds}visitTimestampMicrosecond(){return As}visitTimestampNanosecond(){return Es}visitTime(){return jr}visitTimeSecond(){return Fs}visitTimeMillisecond(){return xs}visitTimeMicrosecond(){return Os}visitTimeNanosecond(){return ks}visitDecimal(){return ys}visitList(){return _a}visitStruct(){return wa}visitUnion(){return Bi}visitDenseUnion(){return Ia}visitSparseUnion(){return Sa}visitDictionary(){return sa}visitInterval(){return Un}visitIntervalDayTime(){return _s}visitIntervalYearMonth(){return gs}visitDuration(){return Cr}visitDurationSecond(){return bs}visitDurationMillisecond(){return ws}visitDurationMicrosecond(){return Ss}visitDurationNanosecond(){return Is}visitFixedSizeList(){return oa}visitMap(){return ga}},Yd=new iu;var K=class extends H{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((s,c)=>this.compareFields(s,e[c]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}};function ie(r,t){return t instanceof r.constructor}function Nn(r,t){return r===t||ie(r,t)}function Vr(r,t){return r===t||ie(r,t)&&r.bitWidth===t.bitWidth&&r.isSigned===t.isSigned}function Ba(r,t){return r===t||ie(r,t)&&r.precision===t.precision}function J0(r,t){return r===t||ie(r,t)&&r.byteWidth===t.byteWidth}function su(r,t){return r===t||ie(r,t)&&r.unit===t.unit}function Us(r,t){return r===t||ie(r,t)&&r.unit===t.unit&&r.timezone===t.timezone}function Ns(r,t){return r===t||ie(r,t)&&r.unit===t.unit&&r.bitWidth===t.bitWidth}function X0(r,t){return r===t||ie(r,t)&&r.children.length===t.children.length&&pr.compareManyFields(r.children,t.children)}function Z0(r,t){return r===t||ie(r,t)&&r.children.length===t.children.length&&pr.compareManyFields(r.children,t.children)}function ou(r,t){return r===t||ie(r,t)&&r.mode===t.mode&&r.typeIds.every((e,s)=>e===t.typeIds[s])&&pr.compareManyFields(r.children,t.children)}function Q0(r,t){return r===t||ie(r,t)&&r.id===t.id&&r.isOrdered===t.isOrdered&&pr.visit(r.indices,t.indices)&&pr.visit(r.dictionary,t.dictionary)}function au(r,t){return r===t||ie(r,t)&&r.unit===t.unit}function Ls(r,t){return r===t||ie(r,t)&&r.unit===t.unit}function tg(r,t){return r===t||ie(r,t)&&r.listSize===t.listSize&&r.children.length===t.children.length&&pr.compareManyFields(r.children,t.children)}function eg(r,t){return r===t||ie(r,t)&&r.keysSorted===t.keysSorted&&r.children.length===t.children.length&&pr.compareManyFields(r.children,t.children)}K.prototype.visitNull=Nn;K.prototype.visitBool=Nn;K.prototype.visitInt=Vr;K.prototype.visitInt8=Vr;K.prototype.visitInt16=Vr;K.prototype.visitInt32=Vr;K.prototype.visitInt64=Vr;K.prototype.visitUint8=Vr;K.prototype.visitUint16=Vr;K.prototype.visitUint32=Vr;K.prototype.visitUint64=Vr;K.prototype.visitFloat=Ba;K.prototype.visitFloat16=Ba;K.prototype.visitFloat32=Ba;K.prototype.visitFloat64=Ba;K.prototype.visitUtf8=Nn;K.prototype.visitLargeUtf8=Nn;K.prototype.visitBinary=Nn;K.prototype.visitLargeBinary=Nn;K.prototype.visitFixedSizeBinary=J0;K.prototype.visitDate=su;K.prototype.visitDateDay=su;K.prototype.visitDateMillisecond=su;K.prototype.visitTimestamp=Us;K.prototype.visitTimestampSecond=Us;K.prototype.visitTimestampMillisecond=Us;K.prototype.visitTimestampMicrosecond=Us;K.prototype.visitTimestampNanosecond=Us;K.prototype.visitTime=Ns;K.prototype.visitTimeSecond=Ns;K.prototype.visitTimeMillisecond=Ns;K.prototype.visitTimeMicrosecond=Ns;K.prototype.visitTimeNanosecond=Ns;K.prototype.visitDecimal=Nn;K.prototype.visitList=X0;K.prototype.visitStruct=Z0;K.prototype.visitUnion=ou;K.prototype.visitDenseUnion=ou;K.prototype.visitSparseUnion=ou;K.prototype.visitDictionary=Q0;K.prototype.visitInterval=au;K.prototype.visitIntervalDayTime=au;K.prototype.visitIntervalYearMonth=au;K.prototype.visitDuration=Ls;K.prototype.visitDurationSecond=Ls;K.prototype.visitDurationMillisecond=Ls;K.prototype.visitDurationMicrosecond=Ls;K.prototype.visitDurationNanosecond=Ls;K.prototype.visitFixedSizeList=tg;K.prototype.visitMap=eg;var pr=new K;function Ln(r,t){return pr.compareSchemas(r,t)}function Gd(r,t){return pr.compareFields(r,t)}function qd(r,t){return pr.visit(r,t)}function Tn(r){let t=r.type,e=new(Yd.getVisitFn(t)())(r);if(t.children&&t.children.length>0){let s=r.children||[],c={nullValues:r.nullValues},f=Array.isArray(s)?(d,y)=>s[y]||c:({name:d})=>s[d]||c;for(let[d,y]of t.children.entries()){let{type:g}=y,b=f(y,d);e.children.push(Tn(Object.assign(Object.assign({},b),{type:g})))}}return e}function Da(r,t){return rg(r,t.map(e=>e.data.concat()))}function rg(r,t){let e=[...r.fields],s=[],c={numBatches:t.reduce((F,C)=>Math.max(F,C.length),0)},f=0,d=0,y=-1,g=t.length,b,v=[];for(;c.numBatches-- >0;){for(d=Number.POSITIVE_INFINITY,y=-1;++y<g;)v[y]=b=t[y].shift(),d=Math.min(d,b?b.length:d);Number.isFinite(d)&&(v=ng(e,d,v,t,c),d>0&&(s[f++]=U({type:new Bt(e),length:d,nullCount:0,children:v.slice()})))}return[r=r.assign(e),s.map(F=>new Ut(r,F))]}function ng(r,t,e,s,c){var f;let d=(t+63&-64)>>3;for(let y=-1,g=s.length;++y<g;){let b=e[y],v=b?.length;if(v>=t)v===t?e[y]=b:(e[y]=b.slice(0,t),c.numBatches=Math.max(c.numBatches,s[y].unshift(b.slice(t,v-t))));else{let F=r[y];r[y]=F.clone({nullable:!0}),e[y]=(f=b?._changeLengthAndBackfillNullBitmap(t))!==null&&f!==void 0?f:U({type:F.type,length:t,nullCount:t,nullBitmap:new Uint8Array(d)})}}return e}var Kd,pe=class r{constructor(...t){var e,s;if(t.length===0)return this.batches=[],this.schema=new _t([]),this._offsets=[0],this;let c,f;t[0]instanceof _t&&(c=t.shift()),t.at(-1)instanceof Uint32Array&&(f=t.pop());let d=g=>{if(g){if(g instanceof Ut)return[g];if(g instanceof r)return g.batches;if(g instanceof yt){if(g.type instanceof Bt)return[new Ut(new _t(g.type.children),g)]}else{if(Array.isArray(g))return g.flatMap(b=>d(b));if(typeof g[Symbol.iterator]=="function")return[...g].flatMap(b=>d(b));if(typeof g=="object"){let b=Object.keys(g),v=b.map(P=>new z([g[P]])),F=c??new _t(b.map((P,Q)=>new $(String(P),v[Q].type,v[Q].nullable))),[,C]=Da(F,v);return C.length===0?[new Ut(g)]:C}}}return[]},y=t.flatMap(g=>d(g));if(c=(s=c??((e=y[0])===null||e===void 0?void 0:e.schema))!==null&&s!==void 0?s:new _t([]),!(c instanceof _t))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let g of y){if(!(g instanceof Ut))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Ln(c,g.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=c,this.batches=y,this._offsets=f??Jo(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Ko(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get(Bn(t,this.numRows))}set(t,e){}indexOf(t,e){return-1}[Symbol.iterator](){return this.batches.length>0?yi.visit(new z(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){let e=this.schema,s=this.data.concat(t.flatMap(({data:c})=>c));return new r(e,s.map(c=>new Ut(e,c)))}slice(t,e){let s=this.schema;[t,e]=ss({length:this.numRows},t,e);let c=Xo(this.data,this._offsets,t,e);return new r(s,c.map(f=>new Ut(s,f)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){let e=this.data.map(s=>s.children[t]);if(e.length===0){let{type:s}=this.schema.fields[t],c=U({type:s,length:0,nullCount:0});e.push(c._changeLengthAndBackfillNullBitmap(this.numRows))}return new z(e)}return null}setChild(t,e){var s;return this.setChildAt((s=this.schema.fields)===null||s===void 0?void 0:s.findIndex(c=>c.name===t),e)}setChildAt(t,e){let s=this.schema,c=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new z([U({type:new Gt,length:this.numRows})]));let f=s.fields.slice(),d=f[t].clone({type:e.type}),y=this.schema.fields.map((g,b)=>this.getChildAt(b));[f[t],y[t]]=[d,e],[s,c]=Da(s,y)}return new r(s,c)}select(t){let e=this.schema.fields.reduce((s,c,f)=>s.set(c.name,f),new Map);return this.selectAt(t.map(s=>e.get(s)).filter(s=>s>-1))}selectAt(t){let e=this.schema.selectAt(t),s=this.batches.map(c=>c.selectAt(t));return new r(e,s)}assign(t){let e=this.schema.fields,[s,c]=t.schema.fields.reduce((y,g,b)=>{let[v,F]=y,C=e.findIndex(P=>P.name===g.name);return~C?F[C]=b:v.push(b),y},[[],[]]),f=this.schema.assign(t.schema),d=[...e.map((y,g)=>[g,c[g]]).map(([y,g])=>g===void 0?this.getChildAt(y):t.getChildAt(g)),...s.map(y=>t.getChildAt(y))].filter(Boolean);return new r(...Da(f,d))}};Kd=Symbol.toStringTag;pe[Kd]=(r=>(r.schema=null,r.batches=[],r._offsets=new Uint32Array([0]),r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,r.isValid=mi(cs),r.get=mi(Vt.getVisitFn(S.Struct)),r.set=Zo(Jt.getVisitFn(S.Struct)),r.indexOf=Qo(Fn.getVisitFn(S.Struct)),"Table"))(pe.prototype);var Xd,Ut=class r{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof _t))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=U({nullCount:0,type:new Bt(this.schema.fields),children:this.schema.fields.map(e=>U({type:e.type,nullCount:0}))})]=t,!(this.data instanceof yt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Jd(this.schema,this.data.children);break}case 1:{let[e]=t,{fields:s,children:c,length:f}=Object.keys(e).reduce((g,b,v)=>(g.children[v]=e[b],g.length=Math.max(g.length,e[b].length),g.fields[v]=$.new({name:b,type:e[b].type,nullable:!0}),g),{length:0,fields:new Array,children:new Array}),d=new _t(s),y=U({type:new Bt(s),length:f,children:c,nullCount:0});[this.schema,this.data]=Jd(d,y.children,f);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Zd(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Vt.visit(this.data,t)}at(t){return this.get(Bn(t,this.numRows))}set(t,e){return Jt.visit(this.data,t,e)}indexOf(t,e){return Fn.visit(this.data,t,e)}[Symbol.iterator](){return yi.visit(new z([this.data]))}toArray(){return[...this]}concat(...t){return new pe(this.schema,[this,...t])}slice(t,e){let[s]=new z([this.data]).slice(t,e).data;return new r(this.schema,s)}getChild(t){var e;return this.getChildAt((e=this.schema.fields)===null||e===void 0?void 0:e.findIndex(s=>s.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new z([this.data.children[t]]):null}setChild(t,e){var s;return this.setChildAt((s=this.schema.fields)===null||s===void 0?void 0:s.findIndex(c=>c.name===t),e)}setChildAt(t,e){let s=this.schema,c=this.data;if(t>-1&&t<this.numCols){e||(e=new z([U({type:new Gt,length:this.numRows})]));let f=s.fields.slice(),d=c.children.slice(),y=f[t].clone({type:e.type});[f[t],d[t]]=[y,e.data[0]],s=new _t(f,new Map(this.schema.metadata)),c=U({type:new Bt(f),children:d})}return new r(s,c)}select(t){let e=this.schema.select(t),s=new Bt(e.fields),c=[];for(let f of t){let d=this.schema.fields.findIndex(y=>y.name===f);~d&&(c[d]=this.data.children[d])}return new r(e,U({type:s,length:this.numRows,children:c}))}selectAt(t){let e=this.schema.selectAt(t),s=t.map(f=>this.data.children[f]).filter(Boolean),c=U({type:new Bt(e.fields),length:this.numRows,children:s});return new r(e,c)}};Xd=Symbol.toStringTag;Ut[Xd]=(r=>(r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Ut.prototype);function Jd(r,t,e=t.reduce((s,c)=>Math.max(s,c.length),0)){var s;let c=[...r.fields],f=[...t],d=(e+63&-64)>>3;for(let[y,g]of r.fields.entries()){let b=t[y];(!b||b.length!==e)&&(c[y]=g.clone({nullable:!0}),f[y]=(s=b?._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:U({type:g.type,length:e,nullCount:e,nullBitmap:new Uint8Array(d)}))}return[r.assign(c),U({type:new Bt(c),length:e,children:f})]}function Zd(r,t,e=new Map){var s,c;if(((s=r?.length)!==null&&s!==void 0?s:0)>0&&r?.length===t?.length)for(let f=-1,d=r.length;++f<d;){let{type:y}=r[f],g=t[f];for(let b of[g,...((c=g?.dictionary)===null||c===void 0?void 0:c.data)||[]])Zd(y.children,b?.children,e);if(T.isDictionary(y)){let{id:b}=y;if(!e.has(b))g?.dictionary&&e.set(b,g.dictionary);else if(e.get(b)!==g.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return e}var Pn=class extends Ut{constructor(t){let e=t.fields.map(c=>U({type:c.type})),s=U({type:new Bt(t.fields),nullCount:0,children:e});super(t,s)}};var Qe=class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new r).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):bt.V1}headerType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):dt.NONE}header(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,e){let s=this.bb.__offset(this.bb_pos,12);return s?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+t*4),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,bt.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,dt.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,BigInt("0"))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,s,c,f,d){return r.startMessage(t),r.addVersion(t,e),r.addHeaderType(t,s),r.addHeader(t,c),r.addBodyLength(t,f),r.addCustomMetadata(t,d),r.endMessage(t)}};var cu=class extends H{visit(t,e){return t==null||e==null?void 0:super.visit(t,e)}visitNull(t,e){return Qi.startNull(e),Qi.endNull(e)}visitInt(t,e){return Ge.startInt(e),Ge.addBitWidth(e,t.bitWidth),Ge.addIsSigned(e,t.isSigned),Ge.endInt(e)}visitFloat(t,e){return tn.startFloatingPoint(e),tn.addPrecision(e,t.precision),tn.endFloatingPoint(e)}visitBinary(t,e){return qi.startBinary(e),qi.endBinary(e)}visitLargeBinary(t,e){return Ji.startLargeBinary(e),Ji.endLargeBinary(e)}visitBool(t,e){return Ki.startBool(e),Ki.endBool(e)}visitUtf8(t,e){return es.startUtf8(e),es.endUtf8(e)}visitLargeUtf8(t,e){return Xi.startLargeUtf8(e),Xi.endLargeUtf8(e)}visitDecimal(t,e){return lr.startDecimal(e),lr.addScale(e,t.scale),lr.addPrecision(e,t.precision),lr.addBitWidth(e,t.bitWidth),lr.endDecimal(e)}visitDate(t,e){return Jr.startDate(e),Jr.addUnit(e,t.unit),Jr.endDate(e)}visitTime(t,e){return wr.startTime(e),wr.addUnit(e,t.unit),wr.addBitWidth(e,t.bitWidth),wr.endTime(e)}visitTimestamp(t,e){let s=t.timezone&&e.createString(t.timezone)||void 0;return Sr.startTimestamp(e),Sr.addUnit(e,t.unit),s!==void 0&&Sr.addTimezone(e,s),Sr.endTimestamp(e)}visitInterval(t,e){return en.startInterval(e),en.addUnit(e,t.unit),en.endInterval(e)}visitDuration(t,e){return Xr.startDuration(e),Xr.addUnit(e,t.unit),Xr.endDuration(e)}visitList(t,e){return Zi.startList(e),Zi.endList(e)}visitStruct(t,e){return ts.startStruct_(e),ts.endStruct_(e)}visitUnion(t,e){qe.startTypeIdsVector(e,t.typeIds.length);let s=qe.createTypeIdsVector(e,t.typeIds);return qe.startUnion(e),qe.addMode(e,t.mode),qe.addTypeIds(e,s),qe.endUnion(e)}visitDictionary(t,e){let s=this.visit(t.indices,e);return ur.startDictionaryEncoding(e),ur.addId(e,BigInt(t.id)),ur.addIsOrdered(e,t.isOrdered),s!==void 0&&ur.addIndexType(e,s),ur.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Zr.startFixedSizeBinary(e),Zr.addByteWidth(e,t.byteWidth),Zr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Qr.startFixedSizeList(e),Qr.addListSize(e,t.listSize),Qr.endFixedSizeList(e)}visitMap(t,e){return rn.startMap(e),rn.addKeysSorted(e,t.keysSorted),rn.endMap(e)}},Aa=new cu;function rh(r,t=new Map){return new _t(ig(r,t),Ea(r.metadata),t)}function uu(r){return new Xt(r.count,ih(r.columns),sh(r.columns))}function nh(r){return new ye(uu(r.data),r.id,r.isDelta)}function ig(r,t){return(r.fields||[]).filter(Boolean).map(e=>$.fromJSON(e,t))}function Qd(r,t){return(r.children||[]).filter(Boolean).map(e=>$.fromJSON(e,t))}function ih(r){return(r||[]).reduce((t,e)=>[...t,new Ve(e.count,sg(e.VALIDITY)),...ih(e.children)],[])}function sh(r,t=[]){for(let e=-1,s=(r||[]).length;++e<s;){let c=r[e];c.VALIDITY&&t.push(new me(t.length,c.VALIDITY.length)),c.TYPE_ID&&t.push(new me(t.length,c.TYPE_ID.length)),c.OFFSET&&t.push(new me(t.length,c.OFFSET.length)),c.DATA&&t.push(new me(t.length,c.DATA.length)),t=sh(c.children,t)}return t}function sg(r){return(r||[]).reduce((t,e)=>t+ +(e===0),0)}function oh(r,t){let e,s,c,f,d,y;return!t||!(f=r.dictionary)?(d=eh(r,Qd(r,t)),c=new $(r.name,d,r.nullable,Ea(r.metadata))):t.has(e=f.id)?(s=(s=f.indexType)?th(s):new re,y=new Qt(t.get(e),s,e,f.isOrdered),c=new $(r.name,y,r.nullable,Ea(r.metadata))):(s=(s=f.indexType)?th(s):new re,t.set(e,d=eh(r,Qd(r,t))),y=new Qt(d,s,e,f.isOrdered),c=new $(r.name,y,r.nullable,Ea(r.metadata))),c||null}function Ea(r=[]){return new Map(r.map(({key:t,value:e})=>[t,e]))}function th(r){return new jt(r.isSigned,r.bitWidth)}function eh(r,t){let e=r.type.name;switch(e){case"NONE":return new Gt;case"null":return new Gt;case"binary":return new Be;case"largebinary":return new ke;case"utf8":return new De;case"largeutf8":return new Te;case"bool":return new Me;case"list":return new ne((t||[])[0]);case"struct":return new Bt(t||[]);case"struct_":return new Bt(t||[])}switch(e){case"int":{let s=r.type;return new jt(s.isSigned,s.bitWidth)}case"floatingpoint":{let s=r.type;return new Ie(At[s.precision])}case"decimal":{let s=r.type;return new Ue(s.scale,s.precision,s.bitWidth)}case"date":{let s=r.type;return new Ne(xt[s.unit])}case"time":{let s=r.type;return new ce(L[s.unit],s.bitWidth)}case"timestamp":{let s=r.type;return new Le(L[s.unit],s.timezone)}case"interval":{let s=r.type;return new ue(Lt[s.unit])}case"duration":{let s=r.type;return new Pe(L[s.unit])}case"union":{let s=r.type,[c,...f]=(s.mode+"").toLowerCase(),d=c.toUpperCase()+f.join("");return new le(It[d],s.typeIds||[],t||[])}case"fixedsizebinary":{let s=r.type;return new Ce(s.byteWidth)}case"fixedsizelist":{let s=r.type;return new fe(s.listSize,(t||[])[0])}case"map":{let s=r.type;return new de((t||[])[0],s.keysSorted)}}throw new Error(`Unrecognized type: "${e}"`)}var og=Sn,ag=we,ve=class r{static fromJSON(t,e){let s=new r(0,bt.V5,e);return s._createHeader=cg(t,e),s}static decode(t){t=new ag(Z(t));let e=Qe.getRootAsMessage(t),s=e.bodyLength(),c=e.version(),f=e.headerType(),d=new r(s,c,f);return d._createHeader=ug(e,f),d}static encode(t){let e=new og,s=-1;return t.isSchema()?s=_t.encode(e,t.header()):t.isRecordBatch()?s=Xt.encode(e,t.header()):t.isDictionaryBatch()&&(s=ye.encode(e,t.header())),Qe.startMessage(e),Qe.addVersion(e,bt.V5),Qe.addHeader(e,s),Qe.addHeaderType(e,t.headerType),Qe.addBodyLength(e,BigInt(t.bodyLength)),Qe.finishMessageBuffer(e,Qe.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof _t)return new r(0,bt.V5,dt.Schema,t);if(t instanceof Xt)return new r(e,bt.V5,dt.RecordBatch,t);if(t instanceof ye)return new r(e,bt.V5,dt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===dt.Schema}isRecordBatch(){return this.headerType===dt.RecordBatch}isDictionaryBatch(){return this.headerType===dt.DictionaryBatch}constructor(t,e,s,c){this._version=e,this._headerType=s,this.body=new Uint8Array(0),c&&(this._createHeader=()=>c),this._bodyLength=vt(t)}},Xt=class{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,e,s){this._nodes=e,this._buffers=s,this._length=vt(t)}},ye=class{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,e,s=!1){this._data=t,this._isDelta=s,this._id=vt(e)}},me=class{constructor(t,e){this.offset=vt(t),this.length=vt(e)}},Ve=class{constructor(t,e){this.length=vt(t),this.nullCount=vt(e)}};function cg(r,t){return()=>{switch(t){case dt.Schema:return _t.fromJSON(r);case dt.RecordBatch:return Xt.fromJSON(r);case dt.DictionaryBatch:return ye.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${dt[t]}, type: ${t} }`)}}function ug(r,t){return()=>{switch(t){case dt.Schema:return _t.decode(r.header(new ae),new Map,r.version());case dt.RecordBatch:return Xt.decode(r.header(new Se),r.version());case dt.DictionaryBatch:return ye.decode(r.header(new br),r.version())}throw new Error(`Unrecognized Message type: { name: ${dt[t]}, type: ${t} }`)}}$.encode=bg;$.decode=_g;$.fromJSON=oh;_t.encode=gg;_t.decode=lg;_t.fromJSON=rh;Xt.encode=wg;Xt.decode=fg;Xt.fromJSON=uu;ye.encode=Sg;ye.decode=dg;ye.fromJSON=nh;Ve.encode=Ig;Ve.decode=pg;me.encode=Bg;me.decode=hg;function lg(r,t=new Map,e=bt.V5){let s=vg(r,t);return new _t(s,Fa(r),t,e)}function fg(r,t=bt.V5){if(r.compression()!==null)throw new Error("Record batch compression not implemented");return new Xt(r.length(),mg(r),yg(r,t))}function dg(r,t=bt.V5){return new ye(Xt.decode(r.data(),t),r.id(),r.isDelta())}function hg(r){return new me(r.offset(),r.length())}function pg(r){return new Ve(r.length(),r.nullCount())}function mg(r){let t=[];for(let e,s=-1,c=-1,f=r.nodesLength();++s<f;)(e=r.nodes(s))&&(t[++c]=Ve.decode(e));return t}function yg(r,t){let e=[];for(let s,c=-1,f=-1,d=r.buffersLength();++c<d;)(s=r.buffers(c))&&(t<bt.V4&&(s.bb_pos+=8*(c+1)),e[++f]=me.decode(s));return e}function vg(r,t){let e=[];for(let s,c=-1,f=-1,d=r.fieldsLength();++c<d;)(s=r.fields(c))&&(e[++f]=$.decode(s,t));return e}function ah(r,t){let e=[];for(let s,c=-1,f=-1,d=r.childrenLength();++c<d;)(s=r.children(c))&&(e[++f]=$.decode(s,t));return e}function _g(r,t){let e,s,c,f,d,y;return!t||!(y=r.dictionary())?(c=uh(r,ah(r,t)),s=new $(r.name(),c,r.nullable(),Fa(r))):t.has(e=vt(y.id()))?(f=(f=y.indexType())?ch(f):new re,d=new Qt(t.get(e),f,e,y.isOrdered()),s=new $(r.name(),d,r.nullable(),Fa(r))):(f=(f=y.indexType())?ch(f):new re,t.set(e,c=uh(r,ah(r,t))),d=new Qt(c,f,e,y.isOrdered()),s=new $(r.name(),d,r.nullable(),Fa(r))),s||null}function Fa(r){let t=new Map;if(r)for(let e,s,c=-1,f=Math.trunc(r.customMetadataLength());++c<f;)(e=r.customMetadata(c))&&(s=e.key())!=null&&t.set(s,e.value());return t}function ch(r){return new jt(r.isSigned(),r.bitWidth())}function uh(r,t){let e=r.typeType();switch(e){case Et.NONE:return new Gt;case Et.Null:return new Gt;case Et.Binary:return new Be;case Et.LargeBinary:return new ke;case Et.Utf8:return new De;case Et.LargeUtf8:return new Te;case Et.Bool:return new Me;case Et.List:return new ne((t||[])[0]);case Et.Struct_:return new Bt(t||[])}switch(e){case Et.Int:{let s=r.type(new Ge);return new jt(s.isSigned(),s.bitWidth())}case Et.FloatingPoint:{let s=r.type(new tn);return new Ie(s.precision())}case Et.Decimal:{let s=r.type(new lr);return new Ue(s.scale(),s.precision(),s.bitWidth())}case Et.Date:{let s=r.type(new Jr);return new Ne(s.unit())}case Et.Time:{let s=r.type(new wr);return new ce(s.unit(),s.bitWidth())}case Et.Timestamp:{let s=r.type(new Sr);return new Le(s.unit(),s.timezone())}case Et.Interval:{let s=r.type(new en);return new ue(s.unit())}case Et.Duration:{let s=r.type(new Xr);return new Pe(s.unit())}case Et.Union:{let s=r.type(new qe);return new le(s.mode(),s.typeIdsArray()||[],t||[])}case Et.FixedSizeBinary:{let s=r.type(new Zr);return new Ce(s.byteWidth())}case Et.FixedSizeList:{let s=r.type(new Qr);return new fe(s.listSize(),(t||[])[0])}case Et.Map:{let s=r.type(new rn);return new de((t||[])[0],s.keysSorted())}}throw new Error(`Unrecognized type: "${Et[e]}" (${e})`)}function gg(r,t){let e=t.fields.map(f=>$.encode(r,f));ae.startFieldsVector(r,e.length);let s=ae.createFieldsVector(r,e),c=t.metadata&&t.metadata.size>0?ae.createCustomMetadataVector(r,[...t.metadata].map(([f,d])=>{let y=r.createString(`${f}`),g=r.createString(`${d}`);return Ht.startKeyValue(r),Ht.addKey(r,y),Ht.addValue(r,g),Ht.endKeyValue(r)})):-1;return ae.startSchema(r),ae.addFields(r,s),ae.addEndianness(r,Dg?Kr.Little:Kr.Big),c!==-1&&ae.addCustomMetadata(r,c),ae.endSchema(r)}function bg(r,t){let e=-1,s=-1,c=-1,f=t.type,d=t.typeId;T.isDictionary(f)?(d=f.dictionary.typeId,c=Aa.visit(f,r),s=Aa.visit(f.dictionary,r)):s=Aa.visit(f,r);let y=(f.children||[]).map(v=>$.encode(r,v)),g=Zt.createChildrenVector(r,y),b=t.metadata&&t.metadata.size>0?Zt.createCustomMetadataVector(r,[...t.metadata].map(([v,F])=>{let C=r.createString(`${v}`),P=r.createString(`${F}`);return Ht.startKeyValue(r),Ht.addKey(r,C),Ht.addValue(r,P),Ht.endKeyValue(r)})):-1;return t.name&&(e=r.createString(t.name)),Zt.startField(r),Zt.addType(r,s),Zt.addTypeType(r,d),Zt.addChildren(r,g),Zt.addNullable(r,!!t.nullable),e!==-1&&Zt.addName(r,e),c!==-1&&Zt.addDictionary(r,c),b!==-1&&Zt.addCustomMetadata(r,b),Zt.endField(r)}function wg(r,t){let e=t.nodes||[],s=t.buffers||[];Se.startNodesVector(r,e.length);for(let d of e.slice().reverse())Ve.encode(r,d);let c=r.endVector();Se.startBuffersVector(r,s.length);for(let d of s.slice().reverse())me.encode(r,d);let f=r.endVector();return Se.startRecordBatch(r),Se.addLength(r,BigInt(t.length)),Se.addNodes(r,c),Se.addBuffers(r,f),Se.endRecordBatch(r)}function Sg(r,t){let e=Xt.encode(r,t.data);return br.startDictionaryBatch(r),br.addId(r,BigInt(t.id)),br.addIsDelta(r,t.isDelta),br.addData(r,e),br.endDictionaryBatch(r)}function Ig(r,t){return Zn.createFieldNode(r,BigInt(t.length),BigInt(t.nullCount))}function Bg(r,t){return Xn.createBuffer(r,BigInt(t.offset),BigInt(t.length))}var Dg=(()=>{let r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})();var fu=r=>`Expected ${dt[r]} Message in stream, but was null or length 0.`,du=r=>`Header pointer of flatbuffer-encoded ${dt[r]} Message is null or length 0.`,lh=(r,t)=>`Expected to read ${r} metadata bytes, but only read ${t}.`,fh=(r,t)=>`Expected to read ${r} bytes for message body, but only read ${t}.`,Di=class{constructor(t){this.source=t instanceof hr?t:new hr(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done?Ot:t.value===-1&&(t=this.readMetadataLength()).done?Ot:(t=this.readMetadata(t.value)).done?Ot:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(fu(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);let e=Z(this.source.read(t));if(e.byteLength<t)throw new Error(fh(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){let e=dt.Schema,s=this.readMessage(e),c=s?.header();if(t&&!c)throw new Error(du(e));return c}readMetadataLength(){let t=this.source.read(xa),e=t&&new we(t),s=e?.readInt32(0)||0;return{done:s===0,value:s}}readMetadata(t){let e=this.source.read(t);if(!e)return Ot;if(e.byteLength<t)throw new Error(lh(t,e.byteLength));return{done:!1,value:ve.decode(e)}}},Ps=class{constructor(t,e){this.source=t instanceof Re?t:_o(t)?new cn(t,e):new Re(t)}[Symbol.asyncIterator](){return this}next(){return j(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done?Ot:t.value===-1&&(t=yield this.readMetadataLength()).done?Ot:(t=yield this.readMetadata(t.value)).done?Ot:t})}throw(t){return j(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return j(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return j(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(fu(t));return e.value})}readMessageBody(t){return j(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);let e=Z(yield this.source.read(t));if(e.byteLength<t)throw new Error(fh(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(){return j(this,arguments,void 0,function*(t=!1){let e=dt.Schema,s=yield this.readMessage(e),c=s?.header();if(t&&!c)throw new Error(du(e));return c})}readMetadataLength(){return j(this,void 0,void 0,function*(){let t=yield this.source.read(xa),e=t&&new we(t),s=e?.readInt32(0)||0;return{done:s===0,value:s}})}readMetadata(t){return j(this,void 0,void 0,function*(){let e=yield this.source.read(t);if(!e)return Ot;if(e.byteLength<t)throw new Error(lh(t,e.byteLength));return{done:!1,value:ve.decode(e)}})}},Cs=class extends Di{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof us?t:new us(t)}next(){let{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:ve.fromJSON(t.schema,dt.Schema)};if(this._dictionaryIndex<t.dictionaries.length){let e=t.dictionaries[this._dictionaryIndex++];return this._body=e.data.columns,{done:!1,value:ve.fromJSON(e,dt.DictionaryBatch)}}if(this._batchIndex<t.batches.length){let e=t.batches[this._batchIndex++];return this._body=e.columns,{done:!1,value:ve.fromJSON(e,dt.RecordBatch)}}return this._body=[],Ot}readMessageBody(t){return e(this._body);function e(s){return(s||[]).reduce((c,f)=>[...c,...f.VALIDITY&&[f.VALIDITY]||[],...f.TYPE_ID&&[f.TYPE_ID]||[],...f.OFFSET&&[f.OFFSET]||[],...f.DATA&&[f.DATA]||[],...e(f.children)],[])}}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(fu(t));return e.value}readSchema(){let t=dt.Schema,e=this.readMessage(t),s=e?.header();if(!e||!s)throw new Error(du(t));return s}},xa=4,lu="ARROW1",Ai=new Uint8Array(lu.length);for(let r=0;r<lu.length;r+=1)Ai[r]=lu.codePointAt(r);function Oa(r,t=0){for(let e=-1,s=Ai.length;++e<s;)if(Ai[e]!==r[t+e])return!1;return!0}var Ei=Ai.length,hu=Ei+xa,dh=Ei*2+xa;var tr=class r extends On{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){let e=this._impl.open(t);return $e(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Kt.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Kt.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof r?t:yo(t)?Eg(t):_o(t)?Og(t):$e(t)?j(this,void 0,void 0,function*(){return yield r.from(yield t)}):go(t)||zi(t)||wo(t)||Fe(t)?xg(new Re(t)):Fg(new hr(t))}static readAll(t){return t instanceof r?t.isSync()?hh(t):ph(t):yo(t)||ArrayBuffer.isView(t)||We(t)||vo(t)?hh(t):ph(t)}},zr=class extends tr{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return ge(this,arguments,function*(){yield st(yield*Kn(ze(this[Symbol.iterator]())))})}},Cn=class extends tr{constructor(t){super(t),this._impl=t}readAll(){return j(this,void 0,void 0,function*(){var t,e,s,c;let f=new Array;try{for(var d=!0,y=ze(this),g;g=yield y.next(),t=g.done,!t;d=!0){c=g.value,d=!1;let b=c;f.push(b)}}catch(b){e={error:b}}finally{try{!d&&!t&&(s=y.return)&&(yield s.call(y))}finally{if(e)throw e.error}}return f})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}},Rn=class extends zr{constructor(t){super(t),this._impl=t}},ka=class extends Cn{constructor(t){super(t),this._impl=t}},Ta=class{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){let s=this._loadVectors(t,e,this.schema.fields),c=U({type:new Bt(this.schema.fields),length:t.length,children:s});return new Ut(this.schema,c)}_loadDictionaryBatch(t,e){let{id:s,isDelta:c}=t,{dictionaries:f,schema:d}=this,y=f.get(s);if(c||!y){let g=d.dictionaries.get(s),b=this._loadVectors(t.data,e,[g]);return(y&&c?y.concat(new z(b)):new z(b)).memoize()}return y.memoize()}_loadVectors(t,e,s){return new hs(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(s)}},Fi=class extends Ta{constructor(t,e){super(e),this._reader=yo(t)?new Cs(this._handle=t):new Di(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=mh(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Ot}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Ot}next(){if(this.closed)return Ot;let t,{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;let s=t.header(),c=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(s,c)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;let s=t.header(),c=e.readMessageBody(t.bodyLength),f=this._loadDictionaryBatch(s,c);this.dictionaries.set(s.id,f)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Pn(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}},xi=class extends Ta{constructor(t,e){super(e),this._reader=new Ps(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return j(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return j(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=mh(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return j(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Ot})}return(t){return j(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Ot})}next(){return j(this,void 0,void 0,function*(){if(this.closed)return Ot;let t,{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;let s=t.header(),c=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(s,c)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;let s=t.header(),c=yield e.readMessageBody(t.bodyLength),f=this._loadDictionaryBatch(s,c);this.dictionaries.set(s.id,f)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Pn(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return j(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}},Ma=class extends Fi{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,e){super(t instanceof ls?t:new ls(t),e)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();let s=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(s&&this._handle.seek(s.offset)){let c=this._reader.readMessage(dt.RecordBatch);if(c?.isRecordBatch()){let f=c.header(),d=this._reader.readMessageBody(c.bodyLength);return this._loadRecordBatch(f,d)}}return null}_readDictionaryBatch(t){var e;let s=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(s&&this._handle.seek(s.offset)){let c=this._reader.readMessage(dt.DictionaryBatch);if(c?.isDictionaryBatch()){let f=c.header(),d=this._reader.readMessageBody(c.bodyLength),y=this._loadDictionaryBatch(f,d);this.dictionaries.set(f.id,y)}}}_readFooter(){let{_handle:t}=this,e=t.size-hu,s=t.readInt32(e),c=t.readAt(e-s,s);return Ur.decode(c)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let s=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(this._recordBatchIndex);if(s&&this._handle.seek(s.offset))return this._reader.readMessage(t)}return null}},pu=class extends xi{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...e){let s=typeof e[0]!="number"?e.shift():void 0,c=e[0]instanceof Map?e.shift():void 0;super(t instanceof cn?t:new cn(t,s),c)}isFile(){return!0}isAsync(){return!0}open(t){let e=Object.create(null,{open:{get:()=>super.open}});return j(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let s of this._footer.dictionaryBatches())s&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){return j(this,void 0,void 0,function*(){var e;if(this.closed)return null;this._footer||(yield this.open());let s=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(s&&(yield this._handle.seek(s.offset))){let c=yield this._reader.readMessage(dt.RecordBatch);if(c?.isRecordBatch()){let f=c.header(),d=yield this._reader.readMessageBody(c.bodyLength);return this._loadRecordBatch(f,d)}}return null})}_readDictionaryBatch(t){return j(this,void 0,void 0,function*(){var e;let s=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(s&&(yield this._handle.seek(s.offset))){let c=yield this._reader.readMessage(dt.DictionaryBatch);if(c?.isDictionaryBatch()){let f=c.header(),d=yield this._reader.readMessageBody(c.bodyLength),y=this._loadDictionaryBatch(f,d);this.dictionaries.set(f.id,y)}}})}_readFooter(){return j(this,void 0,void 0,function*(){let{_handle:t}=this;t._pending&&(yield t._pending);let e=t.size-hu,s=yield t.readInt32(e),c=yield t.readAt(e-s,s);return Ur.decode(c)})}_readNextMessageAndValidate(t){return j(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}},mu=class extends Fi{constructor(t,e){super(t,e)}_loadVectors(t,e,s){return new na(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(s)}};function mh(r,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:r.autoDestroy}function*hh(r){let t=tr.from(r);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function ph(r){return ge(this,arguments,function*(){let e=yield st(tr.from(r));try{if(!(yield st(e.open({autoDestroy:!1}))).closed)do yield yield st(e);while(!(yield st(e.reset().open())).closed)}finally{yield st(e.cancel())}})}function Eg(r){return new zr(new mu(r))}function Fg(r){let t=r.peek(Ei+7&-8);return t&&t.byteLength>=4?Oa(t)?new Rn(new Ma(r.read())):new zr(new Fi(r)):new zr(new Fi(function*(){}()))}function xg(r){return j(this,void 0,void 0,function*(){let t=yield r.peek(Ei+7&-8);return t&&t.byteLength>=4?Oa(t)?new Rn(new Ma(yield r.read())):new Cn(new xi(r)):new Cn(new xi(function(){return ge(this,arguments,function*(){})}()))})}function Og(r){return j(this,void 0,void 0,function*(){let{size:t}=yield r.stat(),e=new cn(r,t);return t>=dh&&Oa(yield e.readAt(0,Ei+7&-8))?new ka(new pu(e)):new Cn(new xi(e))})}var Nt=class r extends H{static assemble(...t){let e=c=>c.flatMap(f=>Array.isArray(f)?e(f):f instanceof Ut?f.data.children:f.data),s=new r;return s.visitMany(e(t)),s}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof z)return this.visitMany(t.data),this;let{type:e}=t;if(!T.isDictionary(e)){let{length:s}=t;if(s>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(T.isUnion(e))this.nodes.push(new Ve(s,0));else{let{nullCount:c}=t;T.isNull(e)||er.call(this,c<=0?new Uint8Array(0):An(t.offset,s,t.nullBitmap)),this.nodes.push(new Ve(s,c))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};function er(r){let t=r.byteLength+7&-8;return this.buffers.push(r),this.bufferRegions.push(new me(this._byteLength,t)),this._byteLength+=t,this}function kg(r){var t;let{type:e,length:s,typeIds:c,valueOffsets:f}=r;if(er.call(this,c),e.mode===It.Sparse)return yu.call(this,r);if(e.mode===It.Dense){if(r.offset<=0)return er.call(this,f),yu.call(this,r);{let d=new Int32Array(s),y=Object.create(null),g=Object.create(null);for(let b,v,F=-1;++F<s;)(b=c[F])!==void 0&&((v=y[b])===void 0&&(v=y[b]=f[F]),d[F]=f[F]-v,g[b]=((t=g[b])!==null&&t!==void 0?t:0)+1);er.call(this,d),this.visitMany(r.children.map((b,v)=>{let F=e.typeIds[v],C=y[F],P=g[F];return b.slice(C,Math.min(s,P))}))}}return this}function Tg(r){let t;return r.nullCount>=r.length?er.call(this,new Uint8Array(0)):(t=r.values)instanceof Uint8Array?er.call(this,An(r.offset,r.length,t)):er.call(this,En(r.values))}function $r(r){return er.call(this,r.values.subarray(0,r.length*r.stride))}function Ua(r){let{length:t,values:e,valueOffsets:s}=r,c=vt(s[0]),f=vt(s[t]),d=Math.min(f-c,e.byteLength-c);return er.call(this,Io(-c,t+1,s)),er.call(this,e.subarray(c,c+d)),this}function vu(r){let{length:t,valueOffsets:e}=r;if(e){let{[0]:s,[t]:c}=e;return er.call(this,Io(-s,t+1,e)),this.visit(r.children[0].slice(s,c-s))}return this.visit(r.children[0])}function yu(r){return this.visitMany(r.type.children.map((t,e)=>r.children[e]).filter(Boolean))[0]}Nt.prototype.visitBool=Tg;Nt.prototype.visitInt=$r;Nt.prototype.visitFloat=$r;Nt.prototype.visitUtf8=Ua;Nt.prototype.visitLargeUtf8=Ua;Nt.prototype.visitBinary=Ua;Nt.prototype.visitLargeBinary=Ua;Nt.prototype.visitFixedSizeBinary=$r;Nt.prototype.visitDate=$r;Nt.prototype.visitTimestamp=$r;Nt.prototype.visitTime=$r;Nt.prototype.visitDecimal=$r;Nt.prototype.visitList=vu;Nt.prototype.visitStruct=yu;Nt.prototype.visitUnion=kg;Nt.prototype.visitInterval=$r;Nt.prototype.visitDuration=$r;Nt.prototype.visitFixedSizeList=vu;Nt.prototype.visitMap=vu;var jn=class extends On{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new dr,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,ee(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return $e(t)?t.then(e=>this.writeAll(e)):Fe(t)?gu(this,t):_u(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof dr?this._sink=t:(this._sink=new dr,t&&kf(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&Tf(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!e||!Ln(e,this._schema))&&(e==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof pe&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof Ut&&!(e=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(e&&!Ln(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof Ut?t instanceof Pn||this._writeRecordBatch(t):t instanceof pe?this.writeAll(t.batches):We(t)&&this.writeAll(t)}_writeMessage(t,e=8){let s=e-1,c=ve.encode(t),f=c.byteLength,d=this._writeLegacyIpcFormat?4:8,y=f+d+s&~s,g=y-f-d;return t.headerType===dt.RecordBatch?this._recordBatchBlocks.push(new Nr(y,t.bodyLength,this._position)):t.headerType===dt.DictionaryBatch&&this._dictionaryBlocks.push(new Nr(y,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(y-d)),f>0&&this._write(c),this._writePadding(g)}_write(t){if(this._started){let e=Z(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(ve.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ai)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){let{byteLength:e,nodes:s,bufferRegions:c,buffers:f}=Nt.assemble(t),d=new Xt(t.numRows,s,c),y=ve.from(d,e);return this._writeDictionaries(t)._writeMessage(y)._writeBodyBuffers(f)}_writeDictionaryBatch(t,e,s=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));let{byteLength:c,nodes:f,bufferRegions:d,buffers:y}=Nt.assemble(new z([t])),g=new Xt(t.length,f,d),b=new ye(g,e,s),v=ve.from(b,c);return this._writeMessage(v)._writeBodyBuffers(y)}_writeBodyBuffers(t){let e,s,c;for(let f=-1,d=t.length;++f<d;)(e=t[f])&&(s=e.byteLength)>0&&(this._write(e),(c=(s+7&-8)-s)>0&&this._writePadding(c));return this}_writeDictionaries(t){for(let[e,s]of t.dictionaries){let c=this._dictionaryDeltaOffsets.get(e)||0;if(c===0||(s=s?.slice(c)).length>0)for(let f of s.data)this._writeDictionaryBatch(f,e,c>0),c+=f.length}return this}},Vn=class r extends jn{static writeAll(t,e){let s=new r(e);return $e(t)?t.then(c=>s.writeAll(c)):Fe(t)?gu(s,t):_u(s,t)}},zn=class r extends jn{static writeAll(t){let e=new r;return $e(t)?t.then(s=>e.writeAll(s)):Fe(t)?gu(e,t):_u(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){let e=Ur.encode(new Ur(t,bt.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}};function _u(r,t){let e=t;t instanceof pe&&(e=t.batches,r.reset(void 0,t.schema));for(let s of e)r.write(s);return r.finish()}function gu(r,t){return j(this,void 0,void 0,function*(){var e,s,c,f,d,y,g;try{for(e=!0,s=ze(t);c=yield s.next(),f=c.done,!f;e=!0){g=c.value,e=!1;let b=g;r.write(b)}}catch(b){d={error:b}}finally{try{!e&&!f&&(y=s.return)&&(yield y.call(s))}finally{if(d)throw d.error}}return r.finish()})}function yh(r,t){if(Fe(r))return Ug(r,t);if(We(r))return Mg(r,t);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}function Mg(r,t){let e=null,s=t?.type==="bytes"||!1,c=t?.highWaterMark||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},t),{start(d){f(d,e||(e=r[Symbol.iterator]()))},pull(d){e?f(d,e):d.close()},cancel(){(e?.return&&e.return()||!0)&&(e=null)}}),Object.assign({highWaterMark:s?c:void 0},t));function f(d,y){let g,b=null,v=d.desiredSize||null;for(;!(b=y.next(s?v:null)).done;)if(ArrayBuffer.isView(b.value)&&(g=Z(b.value))&&(v!=null&&s&&(v=v-g.byteLength+1),b.value=g),d.enqueue(b.value),v!=null&&--v<=0)return;d.close()}}function Ug(r,t){let e=null,s=t?.type==="bytes"||!1,c=t?.highWaterMark||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},t),{start(d){return j(this,void 0,void 0,function*(){yield f(d,e||(e=r[Symbol.asyncIterator]()))})},pull(d){return j(this,void 0,void 0,function*(){e?yield f(d,e):d.close()})},cancel(){return j(this,void 0,void 0,function*(){(e?.return&&(yield e.return())||!0)&&(e=null)})}}),Object.assign({highWaterMark:s?c:void 0},t));function f(d,y){return j(this,void 0,void 0,function*(){let g,b=null,v=d.desiredSize||null;for(;!(b=yield y.next(s?v:null)).done;)if(ArrayBuffer.isView(b.value)&&(g=Z(b.value))&&(v!=null&&s&&(v=v-g.byteLength+1),b.value=g),d.enqueue(b.value),v!=null&&--v<=0)return;d.close()})}}function gh(r){return new bu(r)}var bu=class{constructor(t){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:e,["writableStrategy"]:s,["queueingStrategy"]:c="count"}=t,f=xf(t,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=Tn(f),this._getSize=c!=="bytes"?vh:_h;let{["highWaterMark"]:d=c==="bytes"?Math.pow(2,14):1e3}=Object.assign({},e),{["highWaterMark"]:y=c==="bytes"?Math.pow(2,14):1e3}=Object.assign({},s);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:g=>{this._maybeFlush(this._builder,this._controller=g)},start:g=>{this._maybeFlush(this._builder,this._controller=g)}},{highWaterMark:d,size:c!=="bytes"?vh:_h}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:y,size:g=>this._writeValueAndReturnChunkSize(g)})}_writeValueAndReturnChunkSize(t){let e=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(t)),this._bufferedSize-e}_maybeFlush(t,e){e!=null&&(this._bufferedSize>=e.desiredSize&&++this._numChunks&&this._enqueue(e,t.toVector()),t.finished&&((t.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(e,t.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(e,null)))}_enqueue(t,e){this._bufferedSize=0,this._controller=null,e==null?t.close():t.enqueue(e)}},vh=r=>{var t;return(t=r?.length)!==null&&t!==void 0?t:0},_h=r=>{var t;return(t=r?.byteLength)!==null&&t!==void 0?t:0};function Na(r,t){let e=new dr,s=null,c=new ReadableStream({cancel(){return j(this,void 0,void 0,function*(){yield e.close()})},start(y){return j(this,void 0,void 0,function*(){yield d(y,s||(s=yield f()))})},pull(y){return j(this,void 0,void 0,function*(){s?yield d(y,s):y.close()})}});return{writable:new WritableStream(e,Object.assign({highWaterMark:Math.pow(2,14)},r)),readable:c};function f(){return j(this,void 0,void 0,function*(){return yield(yield tr.from(e)).open(t)})}function d(y,g){return j(this,void 0,void 0,function*(){let b=y.desiredSize,v=null;for(;!(v=yield g.next()).done;)if(y.enqueue(v.value),b!=null&&--b<=0)return;y.close()})}}function La(r,t){let e=new this(r),s=new Re(e),c=new ReadableStream({cancel(){return j(this,void 0,void 0,function*(){yield s.cancel()})},pull(d){return j(this,void 0,void 0,function*(){yield f(d)})},start(d){return j(this,void 0,void 0,function*(){yield f(d)})}},Object.assign({highWaterMark:Math.pow(2,14)},t));return{writable:new WritableStream(e,r),readable:c};function f(d){return j(this,void 0,void 0,function*(){let y=null,g=d.desiredSize;for(;y=yield s.read(g||null);)if(d.enqueue(y),g!=null&&(g-=y.byteLength)<=0)return;d.close()})}}function Pa(r,t="stream"){return(t==="stream"?Vn:zn).writeAll(r).toUint8Array(!0)}var qg=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tc),nu),qc),Mc),Dc),Gc),Fc),{compareSchemas:Ln,compareFields:Gd,compareTypes:qd});Kt.toDOMStream=yh;Mt.throughDOM=gh;tr.throughDOM=Na;Rn.throughDOM=Na;zr.throughDOM=Na;jn.throughDOM=La;zn.throughDOM=La;Vn.throughDOM=La;var Ih,Ca;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=30]="LargeList",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth"})(Ca||(Ca={}));var Rs=class extends T{constructor(t){super(Ca.LargeList),this.children=[t]}toString(){return`LargeList<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Ih=Symbol.toStringTag;Rs[Ih]=(r=>(r.children=null,r[Symbol.toStringTag]="LargeList"))(Rs.prototype);function Jg(r){return r?.typeId===Ca.LargeList}function wu(r,t,e,s=!0){let c=new DataView(r),f=Number(c.getBigInt64(t,!0)),d=Number(c.getBigInt64(t+8,!0)),y=Number(c.getBigInt64(t+16,!0)),g=Number(c.getBigInt64(t+24,!0)),b=Number(c.getBigInt64(t+32,!0)),v=c.getUint32(t+40,!0),F=new Uint32Array(Number(g));for(let ft=0;ft<g;ft++)F[ft]=c.getUint32(v+ft*4,!0);let C=c.getUint32(t+44,!0),P=c.getUint32(t+48,!0),Q=new Array(Number(b));for(let ft=0;ft<b;ft++)Q[ft]=wu(r,c.getUint32(C+ft*4,!0),e.children[ft].type,s);if(P!==0){let ft=e,se=ft.indices,kt=bh({dataType:se,dataView:c,copy:s,length:f,nullCount:d,offset:y,nChildren:b,children:Q,bufferPtrs:F}),un=ft.dictionary.type,Hr=wu(r,P,un,s);return U({type:ft,offset:y,length:f,nullCount:d,nullBitmap:kt.nullBitmap,data:kt.values,dictionary:vi(Hr)})}else return bh({dataType:e,dataView:c,copy:s,length:f,nullCount:d,offset:y,nChildren:b,children:Q,bufferPtrs:F})}function bh({dataType:r,dataView:t,copy:e,length:s,nullCount:c,offset:f,nChildren:d,children:y,bufferPtrs:g}){if(T.isNull(r))return U({type:r,offset:f,length:s});if(T.isInt(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e),C=s*r.bitWidth/8,P=e?new r.ArrayType(Rt(t.buffer,v,C)):new r.ArrayType(t.buffer,v,s);return U({type:r,offset:f,length:s,nullCount:c,data:P,nullBitmap:F})}if(T.isFloat(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e),C=s*r.ArrayType.BYTES_PER_ELEMENT,P=e?new r.ArrayType(Rt(t.buffer,v,C)):new r.ArrayType(t.buffer,v,s);return U({type:r,offset:f,length:s,nullCount:c,data:P,nullBitmap:F})}if(T.isBool(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e),C=Math.ceil(s/8),P=e?new r.ArrayType(Rt(t.buffer,v,C)):new r.ArrayType(t.buffer,v,s);return U({type:r,offset:f,length:s,nullCount:c,data:P,nullBitmap:F})}if(T.isDecimal(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e),C=s*r.bitWidth/8,P=e?new r.ArrayType(Rt(t.buffer,v,C)):new r.ArrayType(t.buffer,v,s);return U({type:r,offset:f,length:s,nullCount:c,data:P,nullBitmap:F})}if(T.isDate(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e),C=Xg(r),P=e?new r.ArrayType(Rt(t.buffer,v,s*C)):new r.ArrayType(t.buffer,v,s);return U({type:r,offset:f,length:s,nullCount:c,data:P,nullBitmap:F})}if(T.isTime(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e),C=s*r.bitWidth/8,P=e?new r.ArrayType(Rt(t.buffer,v,C)):new r.ArrayType(t.buffer,v,s);return U({type:r,offset:f,length:s,nullCount:c,data:P,nullBitmap:F})}if(T.isTimestamp(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e),C=wh(r),P=e?new r.ArrayType(Rt(t.buffer,v,s*C)):new r.ArrayType(t.buffer,v,s);return U({type:r,offset:f,length:s,nullCount:c,data:P,nullBitmap:F})}if(T.isDuration(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e),C=wh(r),P=e?new r.ArrayType(Rt(t.buffer,v,s*C)):new r.ArrayType(t.buffer,v,s);return U({type:r,offset:f,length:s,nullCount:c,data:P,nullBitmap:F})}if(T.isInterval(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e);if(e)throw new Error("Not yet implemented");let C=e?new r.ArrayType(Rt(t.buffer,v,s)):new r.ArrayType(t.buffer,v,s);return U({type:r,offset:f,length:s,nullCount:c,data:C,nullBitmap:F})}if(T.isBinary(r)){let[b,v,F]=g,C=Yt(t.buffer,b,s,e),P=e?new Int32Array(Rt(t.buffer,v,(s+1)*Int32Array.BYTES_PER_ELEMENT)):new Int32Array(t.buffer,v,s+1),Q=P[P.length-1],ft=e?new r.ArrayType(Rt(t.buffer,F,Q)):new r.ArrayType(t.buffer,F,Q);return U({type:r,offset:f,length:s,nullCount:c,nullBitmap:C,valueOffsets:P,data:ft})}if(T.isLargeBinary(r)){let[b,v,F]=g,C=Yt(t.buffer,b,s,e),P=new BigInt64Array(t.buffer,v,s+1),Q=new Int32Array(s+1);for(let kt=0;kt<P.length;kt++)Q[kt]=Number(P[kt]);let ft=Q[Q.length-1],se=e?new Uint8Array(Rt(t.buffer,F,ft)):new Uint8Array(t.buffer,F,ft);return U({type:new Be,offset:f,length:s,nullCount:c,nullBitmap:C,valueOffsets:Q,data:se})}if(T.isUtf8(r)){let[b,v,F]=g,C=Yt(t.buffer,b,s,e),P=e?new Int32Array(Rt(t.buffer,v,(s+1)*Int32Array.BYTES_PER_ELEMENT)):new Int32Array(t.buffer,v,s+1),Q=P[P.length-1],ft=e?new r.ArrayType(Rt(t.buffer,F,Q)):new r.ArrayType(t.buffer,F,Q);return U({type:r,offset:f,length:s,nullCount:c,nullBitmap:C,valueOffsets:P,data:ft})}if(T.isLargeUtf8(r)){let[b,v,F]=g,C=Yt(t.buffer,b,s,e),P=new BigInt64Array(t.buffer,v,s+1),Q=new Int32Array(s+1);for(let kt=0;kt<P.length;kt++)Q[kt]=Number(P[kt]);let ft=Q[Q.length-1],se=e?new Uint8Array(Rt(t.buffer,F,ft)):new Uint8Array(t.buffer,F,ft);return U({type:new De,offset:f,length:s,nullCount:c,nullBitmap:C,valueOffsets:Q,data:se})}if(T.isFixedSizeBinary(r)){let[b,v]=g,F=Yt(t.buffer,b,s,e),C=e?new r.ArrayType(Rt(t.buffer,v,s*r.byteWidth)):new r.ArrayType(t.buffer,v,s*r.byteWidth);return U({type:r,offset:f,length:s,nullCount:c,nullBitmap:F,data:C})}if(T.isList(r)){Wr(d===1);let[b,v]=g,F=Yt(t.buffer,b,s,e),C=e?new Int32Array(Rt(t.buffer,v,(s+1)*Int32Array.BYTES_PER_ELEMENT)):new Int32Array(t.buffer,v,s+1);return U({type:r,offset:f,length:s,nullCount:c,nullBitmap:F,valueOffsets:C,child:y[0]})}if(Jg(r)){Wr(d===1);let[b,v]=g,F=Yt(t.buffer,b,s,e),C=new BigInt64Array(t.buffer,v,s+1),P=new Int32Array(s+1);for(let Q=0;Q<C.length;Q++)P[Q]=Number(C[Q]);return U({type:new ne(r.children[0]),offset:f,length:s,nullCount:c,nullBitmap:F,valueOffsets:P,child:y[0]})}if(T.isFixedSizeList(r)){Wr(d===1);let[b]=g,v=Yt(t.buffer,b,s,e);return U({type:r,offset:f,length:s,nullCount:c,nullBitmap:v,child:y[0]})}if(T.isStruct(r)){let[b]=g,v=Yt(t.buffer,b,s,e);return U({type:r,offset:f,length:s,nullCount:c,nullBitmap:v,children:y})}if(T.isMap(r)){Wr(d===1);let[b,v]=g,F=Yt(t.buffer,b,s,e),C=e?new Int32Array(Rt(t.buffer,v,(s+1)*Int32Array.BYTES_PER_ELEMENT)):new Int32Array(t.buffer,v,s+1);return U({type:r,offset:f,length:s,nullCount:c,nullBitmap:F,valueOffsets:C,child:y[0]})}if(T.isDenseUnion(r)){let[b,v]=g,F=e?new Int32Array(Rt(t.buffer,v,(s+1)*Int32Array.BYTES_PER_ELEMENT)):new Int32Array(t.buffer,v,s+1),C=e?new Int8Array(Rt(t.buffer,b,(s+1)*Int8Array.BYTES_PER_ELEMENT)):new Int8Array(t.buffer,b,s+1);return U({type:r,offset:f,length:s,nullCount:c,typeIds:C,children:y,valueOffsets:F})}if(T.isSparseUnion(r)){let[b]=g,v=e?new Int8Array(Rt(t.buffer,b,(s+1)*Int8Array.BYTES_PER_ELEMENT)):new Int8Array(t.buffer,b,s+1);return U({type:r,offset:f,length:s,nullCount:c,typeIds:v,children:y})}throw new Error(`Unsupported type ${r}`)}function Xg(r){switch(r.unit){case xt.DAY:return 4;case xt.MILLISECOND:return 8}Bh()}function wh(r){switch(r.unit){case L.SECOND:case L.MILLISECOND:return 4;case L.MICROSECOND:case L.NANOSECOND:return 8}Bh()}function Yt(r,t,e,s){if(t===0)return null;let c=(e>>3)+1;return s?new Uint8Array(Rt(r,t,c)):new Uint8Array(r,t,c)}function Rt(r,t,e){let s=new ArrayBuffer(e),c=new Uint8Array(s),f=new Uint8Array(r,t,e);return c.set(f),s}function Wr(r){if(!r)throw new Error("assertion failed")}function Bh(){throw new Error}var Su=new TextDecoder("utf-8"),Zg={n:new Gt,b:new Me,c:new Ir,C:new Ar,s:new Br,S:new Er,i:new re,I:new Fr,l:new Dr,L:new xr,e:new In,f:new Or,g:new kr,z:new Be,Z:new ke,u:new De,U:new Te,tdD:new ri,tdm:new ni,tts:new ii,ttm:new si,ttu:new oi,ttn:new ai,tiM:new ue(Lt.YEAR_MONTH),tiD:new ue(Lt.DAY_TIME),tin:new ue(Lt.MONTH_DAY_NANO)};function Iu(r,t){let e=new DataView(r),s=e.getUint32(t,!0),c=Sh(e,s),f=e.getUint32(t+4,!0),d=e.getUint32(t+8,!0),y=Sh(e,f),g=eb(e,d),b=tb(e.getBigInt64(t+16,!0)),v=e.getBigInt64(t+24,!0),F=e.getUint32(t+32,!0),C=e.getUint32(t+36,!0),P=new Array(Number(v));for(let ft=0;ft<v;ft++)P[ft]=Iu(r,e.getUint32(F+ft*4,!0));let Q=Qg({formatString:c,flags:b,name:y,childrenFields:P,metadata:g});if(C!==0){let ft=Iu(r,C),se=new Qt(ft,Q.type,null,b.dictionaryOrdered);return new $(Q.name,se,b.nullable,g)}return Q}function Qg({formatString:r,flags:t,name:e,childrenFields:s,metadata:c}){let f=Zg[r];if(f)return new $(e,f,t.nullable,c);if(r.slice(0,2)==="d:"){let d=r.slice(2).split(","),y=parseInt(d[0]),g=parseInt(d[1]),b=d[2]?parseInt(d[2]):void 0,v=new Ue(g,y,b);return new $(e,v,t.nullable,c)}if(r.slice(0,2)==="ts"){let d=null;switch(r[2]){case"s":d=L.SECOND;break;case"m":d=L.MILLISECOND;break;case"u":d=L.MICROSECOND;break;case"n":d=L.NANOSECOND;break;default:throw new Error(`invalid timestamp ${r}`)}Wr(r[3]===":");let y=null;r.length>4&&(y=r.slice(4));let g=new Le(d,y);return new $(e,g,t.nullable,c)}if(r.slice(0,2)==="tD"){let d=null;switch(r[2]){case"s":d=L.SECOND;break;case"m":d=L.MILLISECOND;break;case"u":d=L.MICROSECOND;break;case"n":d=L.NANOSECOND;break;default:throw new Error(`invalid timestamp ${r}`)}let y=new Pe(d);return new $(e,y,t.nullable,c)}if(r==="+s"){let d=new Bt(s);return new $(e,d,t.nullable,c)}if(r==="+l"){Wr(s.length===1);let d=new ne(s[0]);return new $(e,d,t.nullable,c)}if(r==="+L"){Wr(s.length===1);let d=new Rs(s[0]);return new $(e,d,t.nullable,c)}if(r.slice(0,2)==="w:"){let d=parseInt(r.slice(2)),y=new Ce(d);return new $(e,y,t.nullable,c)}if(r.slice(0,3)==="+w:"){Wr(s.length===1);let d=parseInt(r.slice(3)),y=new fe(d,s[0]);return new $(e,y,t.nullable,c)}if(r==="+m"){Wr(s.length===1);let d=new de(s[0],t.mapKeysSorted);return new $(e,d,t.nullable,c)}if(r.slice(0,4)==="+ud:"){let d=r.slice(4).split(",").map(Number),y=new ci(d,s);return new $(e,y,t.nullable,c)}if(r.slice(0,4)==="+us:"){let d=r.slice(4).split(",").map(Number),y=new ui(d,s);return new $(e,y,t.nullable,c)}throw new Error(`Unsupported format: ${r}`)}function tb(r){if(r===0n)return{nullable:!1,dictionaryOrdered:!1,mapKeysSorted:!1};let t=r.toString(2);return{nullable:t[0]==="1",dictionaryOrdered:t[1]==="1",mapKeysSorted:t[2]==="1"}}function Sh(r,t,e=1/0){let s=Math.min(t+e,r.byteLength),c=t;for(;c<s&&r.getUint8(c)!==0;)c+=1;let f=c-t,d=new Uint8Array(f);for(let y=0;y<f;y++)d[y]=r.getUint8(t+y);return Su.decode(d)}function eb(r,t){let e=r.getInt32(t,!0);if(e===0)return null;let s=new Map;t+=4;for(let c=0;c<e;c++){let f=r.getInt32(t,!0);t+=4;let d=Su.decode(new Uint8Array(r.buffer,t,f));t+=f;let y=r.getInt32(t,!0);t+=4;let g=Su.decode(new Uint8Array(r.buffer,t,y));t+=y,s.set(d,g)}return s}function rb(r,t){let e=Iu(r,t);if(!nb(e))throw new Error("Expected struct");return ib(e)}function nb(r){return r.typeId==S.Struct}function ib(r){let t=r.type.children,e=r.metadata;return new _t(t,e)}function Dh(r,t,e,s=!0){let c=rb(r,e),f=[];for(let d=0;d<t.length;d++){let y=wu(r,t[d],new Bt(c.fields),s),g=new Ut(c,y);f.push(g)}return new pe(c,f)}var sb=(()=>{var r=import.meta.url;return function(t={}){function e(){return $t.buffer!=nr.buffer&&ir(),nr}function s(){return $t.buffer!=nr.buffer&&ir(),Au}function c(){return $t.buffer!=nr.buffer&&ir(),Eu}function f(){return $t.buffer!=nr.buffer&&ir(),Fu}function d(){return $t.buffer!=nr.buffer&&ir(),xu}function y(){return $t.buffer!=nr.buffer&&ir(),Ou}function g(){return $t.buffer!=nr.buffer&&ir(),ku}function b(){return $t.buffer!=nr.buffer&&ir(),Mu}var v=t,F,C,P=new Promise((n,i)=>{F=n,C=i}),Q=Object.assign({},v),ft=[],se="./this.program",kt=(n,i)=>{throw i},un=typeof window=="object",Hr=typeof importScripts=="function",Ra=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",W=v.ENVIRONMENT_IS_PTHREAD||!1,rr="";function Bu(n){return v.locateFile?v.locateFile(n,rr):rr+n}var ja,js,Va;(un||Hr)&&(Hr?rr=self.location.href:typeof document<"u"&&document.currentScript&&(rr=document.currentScript.src),r&&(rr=r),rr.startsWith("blob:")?rr="":rr=rr.substr(0,rr.replace(/[?#].*/,"").lastIndexOf("/")+1),ja=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.send(null),i.responseText},Hr&&(Va=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),js=(n,i,o)=>{var a=new XMLHttpRequest;a.open("GET",n,!0),a.responseType="arraybuffer",a.onload=()=>{if(a.status==200||a.status==0&&a.response){i(a.response);return}o()},a.onerror=o,a.send(null)});var za=v.print||console.log.bind(console),te=v.printErr||console.error.bind(console);Object.assign(v,Q),Q=null,v.arguments&&(ft=v.arguments),v.thisProgram&&(se=v.thisProgram),v.quit&&(kt=v.quit);var Oi;v.wasmBinary&&(Oi=v.wasmBinary);var $t,Du,Vs=!1,ln;function $a(n,i){n||dn(i)}var nr,Au,Eu,Fu,xu,Ou,ku,qt,Tu,Mu;function ir(){var n=$t.buffer;v.HEAP8=nr=new Int8Array(n),v.HEAP16=Eu=new Int16Array(n),v.HEAPU8=Au=new Uint8Array(n),v.HEAPU16=Fu=new Uint16Array(n),v.HEAP32=xu=new Int32Array(n),v.HEAPU32=Ou=new Uint32Array(n),v.HEAPF32=ku=new Float32Array(n),v.HEAPF64=Mu=new Float64Array(n),v.HEAP64=qt=new BigInt64Array(n),v.HEAPU64=Tu=new BigUint64Array(n)}var Uu=v.INITIAL_MEMORY||16777216;if(W)$t=v.wasmMemory;else if(v.wasmMemory)$t=v.wasmMemory;else if($t=new WebAssembly.Memory({initial:Uu/65536,maximum:65536,shared:!0}),!($t.buffer instanceof SharedArrayBuffer))throw te("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Ra&&te("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");ir(),Uu=$t.buffer.byteLength;var Nu=[],Lu=[],Eh=[],Pu=[],Fh=!1;function xh(){if(v.preRun)for(typeof v.preRun=="function"&&(v.preRun=[v.preRun]);v.preRun.length;)Ru(v.preRun.shift());Ws(Nu)}function Cu(){Fh=!0,!W&&(!v.noFSInit&&!m.init.initialized&&m.init(),m.ignorePermissions=!1,Gr.init(),Ct.root=m.mount(Ct,{},null),Ws(Lu))}function Oh(){W||Ws(Eh)}function kh(){if(!W){if(v.postRun)for(typeof v.postRun=="function"&&(v.postRun=[v.postRun]);v.postRun.length;)Mh(v.postRun.shift());Ws(Pu)}}function Ru(n){Nu.unshift(n)}function Th(n){Lu.unshift(n)}function Mh(n){Pu.unshift(n)}var fn=0,Wa=null,ki=null;function lb(n){return n}function Ti(n){fn++,v.monitorRunDependencies?.(fn)}function $n(n){if(fn--,v.monitorRunDependencies?.(fn),fn==0&&(Wa!==null&&(clearInterval(Wa),Wa=null),ki)){var i=ki;ki=null,i()}}function dn(n){v.onAbort?.(n),n="Aborted("+n+")",te(n),Vs=!0,ln=1,n+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(n);throw C(i),i}var Uh="data:application/octet-stream;base64,",ju=n=>n.startsWith(Uh),Vu=n=>n.startsWith("file://"),hn;v.locateFile?(hn="kuzu-wasm.wasm",ju(hn)||(hn=Bu(hn))):hn=new URL("kuzu-wasm.wasm",import.meta.url).href;function zu(n){if(n==hn&&Oi)return new Uint8Array(Oi);if(Va)return Va(n);throw"both async and sync fetching of the wasm failed"}function Nh(n){if(!Oi&&(un||Hr)){if(typeof fetch=="function"&&!Vu(n))return fetch(n,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw`failed to load wasm binary file at '${n}'`;return i.arrayBuffer()}).catch(()=>zu(n));if(js)return new Promise((i,o)=>{js(n,a=>i(new Uint8Array(a)),o)})}return Promise.resolve().then(()=>zu(n))}function $u(n,i,o){return Nh(n).then(a=>WebAssembly.instantiate(a,i)).then(o,a=>{te(`failed to asynchronously prepare wasm: ${a}`),dn(a)})}function Lh(n,i,o,a){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!ju(i)&&!Vu(i)&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(u=>{var l=WebAssembly.instantiateStreaming(u,o);return l.then(a,function(h){return te(`wasm streaming compile failed: ${h}`),te("falling back to ArrayBuffer instantiation"),$u(i,o,a)})}):$u(i,o,a)}function Ph(){var n={a:Ym};function i(a,u){return ht=a.exports,ht=d_(ht),Hh(ht.cd),Ku=ht._c,Th(ht.Vc),Du=u,$n("wasm-instantiate"),ht}Ti("wasm-instantiate");function o(a){i(a.instance,a.module)}if(v.instantiateWasm)try{return v.instantiateWasm(n,i)}catch(a){te(`Module.instantiateWasm callback failed with error: ${a}`),C(a)}return Lh(Oi,hn,n,o).catch(C),{}}function Ha(n){this.name="ExitStatus",this.message=`Program terminated with exit(${n})`,this.status=n}var Ya=n=>{n.terminate(),n.onmessage=i=>{}},Ch=n=>{var i=ot.pthreads[n];delete ot.pthreads[n],Ya(i),vc(n),ot.runningWorkers.splice(ot.runningWorkers.indexOf(i),1),i.pthread_ptr=0},Rh=n=>{var i=ot.pthreads[n];i.postMessage({cmd:"cancel"})},Wu=n=>{var i=ot.pthreads[n];ot.returnWorkerToPool(i)},Ga=(n,i)=>(s().fill(0,n,n+i),n),Hu=n=>{var i=ot.getNewWorker();if(!i)return 6;ot.runningWorkers.push(i),ot.pthreads[n.pthread_ptr]=i,i.pthread_ptr=n.pthread_ptr;var o={cmd:"run",start_routine:n.startRoutine,arg:n.arg,pthread_ptr:n.pthread_ptr};return i.postMessage(o,n.transferList),0},qa=0,zs=()=>Ju||qa>0,A=()=>bf(),D=n=>_f(n),jh=n=>{var i=A(),o=n();return D(i),o},$s=n=>gf(n),Vh=9007199254740992,zh=-9007199254740992,Wn=n=>n<zh||n>Vh?NaN:Number(n),ct=(n,i,o,...a)=>jh(()=>{for(var u=a.length*2,l=$s(u*8),h=l>>>3,p=0;p<a.length;p++){var _=a[p];typeof _=="bigint"?(qt[h+2*p]=1n,qt[h+2*p+1]=_):(qt[h+2*p]=0n,b()[h+2*p+1>>>0]=_)}return pf(n,i,u,l,o)});function Yu(n){if(W)return ct(0,0,1,n);ln=n,zs()||(ot.terminateAllThreads(),v.onExit?.(n),Vs=!0),kt(n,new Ha(n))}var Gu=(n,i)=>{if(ln=n,W)throw qu(n),"unwind";Yu(n)},Ka=Gu,Ja=n=>{if(n instanceof Ha||n=="unwind")return ln;kt(1,n)},ot={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){W?ot.initWorker():ot.initMainThread()},initMainThread(){for(var n=navigator.hardwareConcurrency;n--;)ot.allocateUnusedWorker();Ru(()=>{Ti("loading-workers"),ot.loadWasmModuleToAllWorkers(()=>$n("loading-workers"))})},initWorker(){Ju=!1},setExitStatus:n=>ln=n,terminateAllThreads__deps:["$terminateWorker"],terminateAllThreads:()=>{for(var n of ot.runningWorkers)Ya(n);for(var n of ot.unusedWorkers)Ya(n);ot.unusedWorkers=[],ot.runningWorkers=[],ot.pthreads=[]},returnWorkerToPool:n=>{var i=n.pthread_ptr;delete ot.pthreads[i],ot.unusedWorkers.push(n),ot.runningWorkers.splice(ot.runningWorkers.indexOf(n),1),n.pthread_ptr=0,vc(i)},receiveObjectTransfer(n){},threadInitTLS(){ot.tlsInitFunctions.forEach(n=>n())},loadWasmModuleToWorker:n=>new Promise(i=>{n.onmessage=l=>{var h=l.data,p=h.cmd;if(h.targetThread&&h.targetThread!=fo()){var _=ot.pthreads[h.targetThread];_?_.postMessage(h,h.transferList):te(`Internal error! Worker sent a message "${p}" to target pthread ${h.targetThread}, but that thread no longer exists!`);return}p==="checkMailbox"?co():p==="spawnThread"?Hu(h):p==="cleanupThread"?Wu(h.thread):p==="killThread"?Ch(h.thread):p==="cancelThread"?Rh(h.thread):p==="loaded"?(n.loaded=!0,i(n)):p==="alert"?alert(`Thread ${h.threadId}: ${h.text}`):h.target==="setimmediate"?n.postMessage(h):p==="callHandler"?v[h.handler](...h.args):p&&te(`worker sent an unknown command ${p}`)},n.onerror=l=>{var h="worker sent an error!";throw te(`${h} ${l.filename}:${l.lineno}: ${l.message}`),l};var o=[],a=["onExit","onAbort","print","printErr"];for(var u of a)v.hasOwnProperty(u)&&o.push(u);n.postMessage({cmd:"load",handlers:o,urlOrBlob:v.mainScriptUrlOrBlob,wasmMemory:$t,wasmModule:Du})}),loadWasmModuleToAllWorkers(n){if(W)return n();Promise.all(ot.unusedWorkers.map(ot.loadWasmModuleToWorker)).then(n)},allocateUnusedWorker(){var n;if(!v.locateFile)n=new Worker(new URL("kuzu-wasm.worker.mjs",import.meta.url),{type:"module"});else{var i=Bu("kuzu-wasm.worker.mjs");n=new Worker(i,{type:"module"})}ot.unusedWorkers.push(n)},getNewWorker(){return ot.unusedWorkers.length==0&&(ot.allocateUnusedWorker(),ot.loadWasmModuleToWorker(ot.unusedWorkers[0])),ot.unusedWorkers.pop()}};v.PThread=ot;var Ws=n=>{for(;n.length>0;)n.shift()(v)},$h=()=>{var n=fo(),i=y()[n+52>>>2>>>0],o=y()[n+56>>>2>>>0],a=i-o;vf(i,a),D(i)};v.establishStackSpace=$h;function qu(n){if(W)return ct(1,0,0,n);Ka(n)}var Hs=[],Ku,E=n=>{var i=Hs[n];return i||(n>=Hs.length&&(Hs.length=n+1),Hs[n]=i=Ku.get(n)),i},Wh=(n,i)=>{qa=0;var o=E(n)(i);function a(u){zs()?ot.setExitStatus(u):_c(u)}a(o)};v.invokeEntryPoint=Wh;var Ju=v.noExitRuntime||!0,Hh=n=>ot.tlsInitFunctions.push(n);function Xu(){dn("missing function: _ZN4kuzu4main8Database15setLoggingLevelENSt3__212basic_stringIcNS2_11char_traitsIcEENS2_9allocatorIcEEEE")}Xu.stub=!0;var Yr=[],Ys=0;function Yh(n){n>>>=0;var i=new Gs(n);return i.get_caught()||(i.set_caught(!0),Ys--),i.set_rethrown(!1),Yr.push(i),gc(i.excPtr),i.get_exception_ptr()}function Gh(){if(!Yr.length)return 0;var n=Yr[Yr.length-1];return gc(n.excPtr),n.excPtr}var mr=0,qh=()=>{x(0,0);var n=Yr.pop();wf(n.excPtr),mr=0};class Gs{constructor(i){this.excPtr=i,this.ptr=i-24}set_type(i){y()[this.ptr+4>>>2>>>0]=i}get_type(){return y()[this.ptr+4>>>2>>>0]}set_destructor(i){y()[this.ptr+8>>>2>>>0]=i}get_destructor(){return y()[this.ptr+8>>>2>>>0]}set_caught(i){i=i?1:0,e()[this.ptr+12>>>0]=i}get_caught(){return e()[this.ptr+12>>>0]!=0}set_rethrown(i){i=i?1:0,e()[this.ptr+13>>>0]=i}get_rethrown(){return e()[this.ptr+13>>>0]!=0}init(i,o){this.set_adjusted_ptr(0),this.set_type(i),this.set_destructor(o)}set_adjusted_ptr(i){y()[this.ptr+16>>>2>>>0]=i}get_adjusted_ptr(){return y()[this.ptr+16>>>2>>>0]}get_exception_ptr(){var i=If(this.get_type());if(i)return y()[this.excPtr>>>2>>>0];var o=this.get_adjusted_ptr();return o!==0?o:this.excPtr}}function Kh(n){throw n>>>=0,mr||(mr=n),mr}var qs=n=>yf(n),Xa=n=>{var i=mr;if(!i)return qs(0),0;var o=new Gs(i);o.set_adjusted_ptr(i);var a=o.get_type();if(!a)return qs(0),i;for(var u in n){var l=n[u];if(l===0||l===a)break;var h=o.ptr+16;if(Sf(l,a,h))return qs(l),i}return qs(a),i};function Jh(){return Xa([])}function Xh(n){return n>>>=0,Xa([n])}function Zh(n,i,o){return n>>>=0,i>>>=0,o>>>=0,Xa([n,i,o])}var Zu=()=>{var n=Yr.pop();n||dn("no exception to throw");var i=n.excPtr;throw n.get_rethrown()||(Yr.push(n),n.set_rethrown(!0),n.set_caught(!1),Ys++),mr=i,mr};function Qh(n){if(n>>>=0,!!n){var i=new Gs(n);Yr.push(i),i.set_rethrown(!0),Zu()}}function tp(n,i,o){n>>>=0,i>>>=0,o>>>=0;var a=new Gs(n);throw a.init(i,o),mr=n,Ys++,mr}var ep=()=>Ys;function rp(n){n>>>=0,hf(n,!Hr,1,!un,65536,!1),ot.threadInitTLS()}function np(n){n>>>=0,W?postMessage({cmd:"cleanupThread",thread:n}):Wu(n)}function Qu(n,i,o,a){return W?ct(2,0,1,n,i,o,a):tl(n,i,o,a)}function tl(n,i,o,a){if(n>>>=0,i>>>=0,o>>>=0,a>>>=0,typeof SharedArrayBuffer>"u")return te("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var u=[],l=0;if(W&&(u.length===0||l))return Qu(n,i,o,a);if(l)return l;var h={startRoutine:o,pthread_ptr:n,arg:a,transferList:u};return W?(h.cmd="spawnThread",postMessage(h,u),0):Hu(h)}var Dt={isAbs:n=>n.charAt(0)==="/",splitPath:n=>{var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return i.exec(n).slice(1)},normalizeArray:(n,i)=>{for(var o=0,a=n.length-1;a>=0;a--){var u=n[a];u==="."?n.splice(a,1):u===".."?(n.splice(a,1),o++):o&&(n.splice(a,1),o--)}if(i)for(;o;o--)n.unshift("..");return n},normalize:n=>{var i=Dt.isAbs(n),o=n.substr(-1)==="/";return n=Dt.normalizeArray(n.split("/").filter(a=>!!a),!i).join("/"),!n&&!i&&(n="."),n&&o&&(n+="/"),(i?"/":"")+n},dirname:n=>{var i=Dt.splitPath(n),o=i[0],a=i[1];return!o&&!a?".":(a&&(a=a.substr(0,a.length-1)),o+a)},basename:n=>{if(n==="/")return"/";n=Dt.normalize(n),n=n.replace(/\/$/,"");var i=n.lastIndexOf("/");return i===-1?n:n.substr(i+1)},join:(...n)=>Dt.normalize(n.join("/")),join2:(n,i)=>Dt.normalize(n+"/"+i)},ip=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return n=>(n.set(crypto.getRandomValues(new Uint8Array(n.byteLength))),n);dn("initRandomDevice")},Za=n=>(Za=ip())(n),yr={resolve:(...n)=>{for(var i="",o=!1,a=n.length-1;a>=-1&&!o;a--){var u=a>=0?n[a]:m.cwd();if(typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!u)return"";i=u+"/"+i,o=Dt.isAbs(u)}return i=Dt.normalizeArray(i.split("/").filter(l=>!!l),!o).join("/"),(o?"/":"")+i||"."},relative:(n,i)=>{n=yr.resolve(n).substr(1),i=yr.resolve(i).substr(1);function o(w){for(var I=0;I<w.length&&w[I]==="";I++);for(var B=w.length-1;B>=0&&w[B]==="";B--);return I>B?[]:w.slice(I,B-I+1)}for(var a=o(n.split("/")),u=o(i.split("/")),l=Math.min(a.length,u.length),h=l,p=0;p<l;p++)if(a[p]!==u[p]){h=p;break}for(var _=[],p=h;p<a.length;p++)_.push("..");return _=_.concat(u.slice(h)),_.join("/")}},el=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Hn=(n,i,o)=>{i>>>=0;for(var a=i+o,u=i;n[u]&&!(u>=a);)++u;if(u-i>16&&n.buffer&&el)return el.decode(n.buffer instanceof SharedArrayBuffer?n.slice(i,u):n.subarray(i,u));for(var l="";i<u;){var h=n[i++];if(!(h&128)){l+=String.fromCharCode(h);continue}var p=n[i++]&63;if((h&224)==192){l+=String.fromCharCode((h&31)<<6|p);continue}var _=n[i++]&63;if((h&240)==224?h=(h&15)<<12|p<<6|_:h=(h&7)<<18|p<<12|_<<6|n[i++]&63,h<65536)l+=String.fromCharCode(h);else{var w=h-65536;l+=String.fromCharCode(55296|w>>10,56320|w&1023)}}return l},Qa=[],Yn=n=>{for(var i=0,o=0;o<n.length;++o){var a=n.charCodeAt(o);a<=127?i++:a<=2047?i+=2:a>=55296&&a<=57343?(i+=4,++o):i+=3}return i},tc=(n,i,o,a)=>{if(o>>>=0,!(a>0))return 0;for(var u=o,l=o+a-1,h=0;h<n.length;++h){var p=n.charCodeAt(h);if(p>=55296&&p<=57343){var _=n.charCodeAt(++h);p=65536+((p&1023)<<10)|_&1023}if(p<=127){if(o>=l)break;i[o++>>>0]=p}else if(p<=2047){if(o+1>=l)break;i[o++>>>0]=192|p>>6,i[o++>>>0]=128|p&63}else if(p<=65535){if(o+2>=l)break;i[o++>>>0]=224|p>>12,i[o++>>>0]=128|p>>6&63,i[o++>>>0]=128|p&63}else{if(o+3>=l)break;i[o++>>>0]=240|p>>18,i[o++>>>0]=128|p>>12&63,i[o++>>>0]=128|p>>6&63,i[o++>>>0]=128|p&63}}return i[o>>>0]=0,o-u};function Ks(n,i,o){var a=o>0?o:Yn(n)+1,u=new Array(a),l=tc(n,u,0,u.length);return i&&(u.length=l),u}var sp=()=>{if(!Qa.length){var n=null;if(typeof window<"u"&&typeof window.prompt=="function"?(n=window.prompt("Input: "),n!==null&&(n+=`
`)):typeof readline=="function"&&(n=readline(),n!==null&&(n+=`
`)),!n)return null;Qa=Ks(n,!0)}return Qa.shift()},Gr={ttys:[],init(){},shutdown(){},register(n,i){Gr.ttys[n]={input:[],output:[],ops:i},m.registerDevice(n,Gr.stream_ops)},stream_ops:{open(n){var i=Gr.ttys[n.node.rdev];if(!i)throw new m.ErrnoError(43);n.tty=i,n.seekable=!1},close(n){n.tty.ops.fsync(n.tty)},fsync(n){n.tty.ops.fsync(n.tty)},read(n,i,o,a,u){if(!n.tty||!n.tty.ops.get_char)throw new m.ErrnoError(60);for(var l=0,h=0;h<a;h++){var p;try{p=n.tty.ops.get_char(n.tty)}catch{throw new m.ErrnoError(29)}if(p===void 0&&l===0)throw new m.ErrnoError(6);if(p==null)break;l++,i[o+h]=p}return l&&(n.node.timestamp=Date.now()),l},write(n,i,o,a,u){if(!n.tty||!n.tty.ops.put_char)throw new m.ErrnoError(60);try{for(var l=0;l<a;l++)n.tty.ops.put_char(n.tty,i[o+l])}catch{throw new m.ErrnoError(29)}return a&&(n.node.timestamp=Date.now()),l}},default_tty_ops:{get_char(n){return sp()},put_char(n,i){i===null||i===10?(za(Hn(n.output,0)),n.output=[]):i!=0&&n.output.push(i)},fsync(n){n.output&&n.output.length>0&&(za(Hn(n.output,0)),n.output=[])},ioctl_tcgets(n){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(n,i,o){return 0},ioctl_tiocgwinsz(n){return[24,80]}},default_tty1_ops:{put_char(n,i){i===null||i===10?(te(Hn(n.output,0)),n.output=[]):i!=0&&n.output.push(i)},fsync(n){n.output&&n.output.length>0&&(te(Hn(n.output,0)),n.output=[])}}},op=(n,i)=>Math.ceil(n/i)*i,rl=n=>{n=op(n,65536);var i=df(65536,n);return i?Ga(i,n):0},ut={ops_table:null,mount(n){return ut.createNode(null,"/",16895,0)},createNode(n,i,o,a){if(m.isBlkdev(o)||m.isFIFO(o))throw new m.ErrnoError(63);ut.ops_table||={dir:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr,lookup:ut.node_ops.lookup,mknod:ut.node_ops.mknod,rename:ut.node_ops.rename,unlink:ut.node_ops.unlink,rmdir:ut.node_ops.rmdir,readdir:ut.node_ops.readdir,symlink:ut.node_ops.symlink},stream:{llseek:ut.stream_ops.llseek}},file:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr},stream:{llseek:ut.stream_ops.llseek,read:ut.stream_ops.read,write:ut.stream_ops.write,allocate:ut.stream_ops.allocate,mmap:ut.stream_ops.mmap,msync:ut.stream_ops.msync}},link:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr,readlink:ut.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr},stream:m.chrdev_stream_ops}};var u=m.createNode(n,i,o,a);return m.isDir(u.mode)?(u.node_ops=ut.ops_table.dir.node,u.stream_ops=ut.ops_table.dir.stream,u.contents={}):m.isFile(u.mode)?(u.node_ops=ut.ops_table.file.node,u.stream_ops=ut.ops_table.file.stream,u.usedBytes=0,u.contents=null):m.isLink(u.mode)?(u.node_ops=ut.ops_table.link.node,u.stream_ops=ut.ops_table.link.stream):m.isChrdev(u.mode)&&(u.node_ops=ut.ops_table.chrdev.node,u.stream_ops=ut.ops_table.chrdev.stream),u.timestamp=Date.now(),n&&(n.contents[i]=u,n.timestamp=u.timestamp),u},getFileDataAsTypedArray(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage(n,i){var o=n.contents?n.contents.length:0;if(!(o>=i)){var a=1024*1024;i=Math.max(i,o*(o<a?2:1.125)>>>0),o!=0&&(i=Math.max(i,256));var u=n.contents;n.contents=new Uint8Array(i),n.usedBytes>0&&n.contents.set(u.subarray(0,n.usedBytes),0)}},resizeFileStorage(n,i){if(n.usedBytes!=i)if(i==0)n.contents=null,n.usedBytes=0;else{var o=n.contents;n.contents=new Uint8Array(i),o&&n.contents.set(o.subarray(0,Math.min(i,n.usedBytes))),n.usedBytes=i}},node_ops:{getattr(n){var i={};return i.dev=m.isChrdev(n.mode)?n.id:1,i.ino=n.id,i.mode=n.mode,i.nlink=1,i.uid=0,i.gid=0,i.rdev=n.rdev,m.isDir(n.mode)?i.size=4096:m.isFile(n.mode)?i.size=n.usedBytes:m.isLink(n.mode)?i.size=n.link.length:i.size=0,i.atime=new Date(n.timestamp),i.mtime=new Date(n.timestamp),i.ctime=new Date(n.timestamp),i.blksize=4096,i.blocks=Math.ceil(i.size/i.blksize),i},setattr(n,i){i.mode!==void 0&&(n.mode=i.mode),i.timestamp!==void 0&&(n.timestamp=i.timestamp),i.size!==void 0&&ut.resizeFileStorage(n,i.size)},lookup(n,i){throw m.genericErrors[44]},mknod(n,i,o,a){return ut.createNode(n,i,o,a)},rename(n,i,o){if(m.isDir(n.mode)){var a;try{a=m.lookupNode(i,o)}catch{}if(a)for(var u in a.contents)throw new m.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=o,i.contents[o]=n,i.timestamp=n.parent.timestamp,n.parent=i},unlink(n,i){delete n.contents[i],n.timestamp=Date.now()},rmdir(n,i){var o=m.lookupNode(n,i);for(var a in o.contents)throw new m.ErrnoError(55);delete n.contents[i],n.timestamp=Date.now()},readdir(n){var i=[".",".."];for(var o of Object.keys(n.contents))i.push(o);return i},symlink(n,i,o){var a=ut.createNode(n,i,41471,0);return a.link=o,a},readlink(n){if(!m.isLink(n.mode))throw new m.ErrnoError(28);return n.link}},stream_ops:{read(n,i,o,a,u){var l=n.node.contents;if(u>=n.node.usedBytes)return 0;var h=Math.min(n.node.usedBytes-u,a);if(h>8&&l.subarray)i.set(l.subarray(u,u+h),o);else for(var p=0;p<h;p++)i[o+p]=l[u+p];return h},write(n,i,o,a,u,l){if(i.buffer===e().buffer&&(l=!1),!a)return 0;var h=n.node;if(h.timestamp=Date.now(),i.subarray&&(!h.contents||h.contents.subarray)){if(l)return h.contents=i.subarray(o,o+a),h.usedBytes=a,a;if(h.usedBytes===0&&u===0)return h.contents=i.slice(o,o+a),h.usedBytes=a,a;if(u+a<=h.usedBytes)return h.contents.set(i.subarray(o,o+a),u),a}if(ut.expandFileStorage(h,u+a),h.contents.subarray&&i.subarray)h.contents.set(i.subarray(o,o+a),u);else for(var p=0;p<a;p++)h.contents[u+p]=i[o+p];return h.usedBytes=Math.max(h.usedBytes,u+a),a},llseek(n,i,o){var a=i;if(o===1?a+=n.position:o===2&&m.isFile(n.node.mode)&&(a+=n.node.usedBytes),a<0)throw new m.ErrnoError(28);return a},allocate(n,i,o){ut.expandFileStorage(n.node,i+o),n.node.usedBytes=Math.max(n.node.usedBytes,i+o)},mmap(n,i,o,a,u){if(!m.isFile(n.node.mode))throw new m.ErrnoError(43);var l,h,p=n.node.contents;if(!(u&2)&&p.buffer===e().buffer)h=!1,l=p.byteOffset;else{if((o>0||o+i<p.length)&&(p.subarray?p=p.subarray(o,o+i):p=Array.prototype.slice.call(p,o,o+i)),h=!0,l=rl(i),!l)throw new m.ErrnoError(48);e().set(p,l>>>0)}return{ptr:l,allocated:h}},msync(n,i,o,a,u){return ut.stream_ops.write(n,i,0,a,o,!1),0}}},ap=(n,i,o,a)=>{var u=a?"":`al ${n}`;js(n,l=>{i(new Uint8Array(l)),u&&$n(u)},l=>{if(o)o();else throw`Loading data file "${n}" failed.`}),u&&Ti(u)},cp=(n,i,o,a,u,l)=>{m.createDataFile(n,i,o,a,u,l)},up=v.preloadPlugins||[],lp=(n,i,o,a)=>{typeof Browser<"u"&&Browser.init();var u=!1;return up.forEach(l=>{u||l.canHandle(i)&&(l.handle(n,i,o,a),u=!0)}),u},fp=(n,i,o,a,u,l,h,p,_,w)=>{var I=i?yr.resolve(Dt.join2(n,i)):n,B=`cp ${I}`;function O(M){function N(it){w?.(),p||cp(n,i,it,a,u,_),l?.(),$n(B)}lp(M,I,N,()=>{h?.(),$n(B)})||N(M)}Ti(B),typeof o=="string"?ap(o,O,h):O(o)},dp=n=>{var i={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},o=i[n];if(typeof o>"u")throw new Error(`Unknown file open mode: ${n}`);return o},ec=(n,i)=>{var o=0;return n&&(o|=365),i&&(o|=146),o},m={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(n){this.name="ErrnoError",this.errno=n}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(n){this.node=n}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(n){this.shared.flags=n}get position(){return this.shared.position}set position(n){this.shared.position=n}},FSNode:class{constructor(n,i,o,a){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=m.nextInode++,this.name=i,this.mode=o,this.node_ops={},this.stream_ops={},this.rdev=a,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(n){n?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(n){n?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return m.isDir(this.mode)}get isDevice(){return m.isChrdev(this.mode)}},lookupPath(n,i={}){if(n=yr.resolve(n),!n)return{path:"",node:null};var o={follow_mount:!0,recurse_count:0};if(i=Object.assign(o,i),i.recurse_count>8)throw new m.ErrnoError(32);for(var a=n.split("/").filter(B=>!!B),u=m.root,l="/",h=0;h<a.length;h++){var p=h===a.length-1;if(p&&i.parent)break;if(u=m.lookupNode(u,a[h]),l=Dt.join2(l,a[h]),m.isMountpoint(u)&&(!p||p&&i.follow_mount)&&(u=u.mounted.root),!p||i.follow)for(var _=0;m.isLink(u.mode);){var w=m.readlink(l);l=yr.resolve(Dt.dirname(l),w);var I=m.lookupPath(l,{recurse_count:i.recurse_count+1});if(u=I.node,_++>40)throw new m.ErrnoError(32)}}return{path:l,node:u}},getPath(n){for(var i;;){if(m.isRoot(n)){var o=n.mount.mountpoint;return i?o[o.length-1]!=="/"?`${o}/${i}`:o+i:o}i=i?`${n.name}/${i}`:n.name,n=n.parent}},hashName(n,i){for(var o=0,a=0;a<i.length;a++)o=(o<<5)-o+i.charCodeAt(a)|0;return(n+o>>>0)%m.nameTable.length},hashAddNode(n){var i=m.hashName(n.parent.id,n.name);n.name_next=m.nameTable[i],m.nameTable[i]=n},hashRemoveNode(n){var i=m.hashName(n.parent.id,n.name);if(m.nameTable[i]===n)m.nameTable[i]=n.name_next;else for(var o=m.nameTable[i];o;){if(o.name_next===n){o.name_next=n.name_next;break}o=o.name_next}},lookupNode(n,i){var o=m.mayLookup(n);if(o)throw new m.ErrnoError(o);for(var a=m.hashName(n.id,i),u=m.nameTable[a];u;u=u.name_next){var l=u.name;if(u.parent.id===n.id&&l===i)return u}return m.lookup(n,i)},createNode(n,i,o,a){var u=new m.FSNode(n,i,o,a);return m.hashAddNode(u),u},destroyNode(n){m.hashRemoveNode(n)},isRoot(n){return n===n.parent},isMountpoint(n){return!!n.mounted},isFile(n){return(n&61440)===32768},isDir(n){return(n&61440)===16384},isLink(n){return(n&61440)===40960},isChrdev(n){return(n&61440)===8192},isBlkdev(n){return(n&61440)===24576},isFIFO(n){return(n&61440)===4096},isSocket(n){return(n&49152)===49152},flagsToPermissionString(n){var i=["r","w","rw"][n&3];return n&512&&(i+="w"),i},nodePermissions(n,i){return m.ignorePermissions?0:i.includes("r")&&!(n.mode&292)||i.includes("w")&&!(n.mode&146)||i.includes("x")&&!(n.mode&73)?2:0},mayLookup(n){if(!m.isDir(n.mode))return 54;var i=m.nodePermissions(n,"x");return i||(n.node_ops.lookup?0:2)},mayCreate(n,i){try{var o=m.lookupNode(n,i);return 20}catch{}return m.nodePermissions(n,"wx")},mayDelete(n,i,o){var a;try{a=m.lookupNode(n,i)}catch(l){return l.errno}var u=m.nodePermissions(n,"wx");if(u)return u;if(o){if(!m.isDir(a.mode))return 54;if(m.isRoot(a)||m.getPath(a)===m.cwd())return 10}else if(m.isDir(a.mode))return 31;return 0},mayOpen(n,i){return n?m.isLink(n.mode)?32:m.isDir(n.mode)&&(m.flagsToPermissionString(i)!=="r"||i&512)?31:m.nodePermissions(n,m.flagsToPermissionString(i)):44},MAX_OPEN_FDS:4096,nextfd(){for(var n=0;n<=m.MAX_OPEN_FDS;n++)if(!m.streams[n])return n;throw new m.ErrnoError(33)},getStreamChecked(n){var i=m.getStream(n);if(!i)throw new m.ErrnoError(8);return i},getStream:n=>m.streams[n],createStream(n,i=-1){return n=Object.assign(new m.FSStream,n),i==-1&&(i=m.nextfd()),n.fd=i,m.streams[i]=n,n},closeStream(n){m.streams[n]=null},dupStream(n,i=-1){var o=m.createStream(n,i);return o.stream_ops?.dup?.(o),o},chrdev_stream_ops:{open(n){var i=m.getDevice(n.node.rdev);n.stream_ops=i.stream_ops,n.stream_ops.open?.(n)},llseek(){throw new m.ErrnoError(70)}},major:n=>n>>8,minor:n=>n&255,makedev:(n,i)=>n<<8|i,registerDevice(n,i){m.devices[n]={stream_ops:i}},getDevice:n=>m.devices[n],getMounts(n){for(var i=[],o=[n];o.length;){var a=o.pop();i.push(a),o.push(...a.mounts)}return i},syncfs(n,i){typeof n=="function"&&(i=n,n=!1),m.syncFSRequests++,m.syncFSRequests>1&&te(`warning: ${m.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var o=m.getMounts(m.root.mount),a=0;function u(h){return m.syncFSRequests--,i(h)}function l(h){if(h)return l.errored?void 0:(l.errored=!0,u(h));++a>=o.length&&u(null)}o.forEach(h=>{if(!h.type.syncfs)return l(null);h.type.syncfs(h,n,l)})},mount(n,i,o){var a=o==="/",u=!o,l;if(a&&m.root)throw new m.ErrnoError(10);if(!a&&!u){var h=m.lookupPath(o,{follow_mount:!1});if(o=h.path,l=h.node,m.isMountpoint(l))throw new m.ErrnoError(10);if(!m.isDir(l.mode))throw new m.ErrnoError(54)}var p={type:n,opts:i,mountpoint:o,mounts:[]},_=n.mount(p);return _.mount=p,p.root=_,a?m.root=_:l&&(l.mounted=p,l.mount&&l.mount.mounts.push(p)),_},unmount(n){var i=m.lookupPath(n,{follow_mount:!1});if(!m.isMountpoint(i.node))throw new m.ErrnoError(28);var o=i.node,a=o.mounted,u=m.getMounts(a);Object.keys(m.nameTable).forEach(h=>{for(var p=m.nameTable[h];p;){var _=p.name_next;u.includes(p.mount)&&m.destroyNode(p),p=_}}),o.mounted=null;var l=o.mount.mounts.indexOf(a);o.mount.mounts.splice(l,1)},lookup(n,i){return n.node_ops.lookup(n,i)},mknod(n,i,o){var a=m.lookupPath(n,{parent:!0}),u=a.node,l=Dt.basename(n);if(!l||l==="."||l==="..")throw new m.ErrnoError(28);var h=m.mayCreate(u,l);if(h)throw new m.ErrnoError(h);if(!u.node_ops.mknod)throw new m.ErrnoError(63);return u.node_ops.mknod(u,l,i,o)},create(n,i){return i=i!==void 0?i:438,i&=4095,i|=32768,m.mknod(n,i,0)},mkdir(n,i){return i=i!==void 0?i:511,i&=1023,i|=16384,m.mknod(n,i,0)},mkdirTree(n,i){for(var o=n.split("/"),a="",u=0;u<o.length;++u)if(o[u]){a+="/"+o[u];try{m.mkdir(a,i)}catch(l){if(l.errno!=20)throw l}}},mkdev(n,i,o){return typeof o>"u"&&(o=i,i=438),i|=8192,m.mknod(n,i,o)},symlink(n,i){if(!yr.resolve(n))throw new m.ErrnoError(44);var o=m.lookupPath(i,{parent:!0}),a=o.node;if(!a)throw new m.ErrnoError(44);var u=Dt.basename(i),l=m.mayCreate(a,u);if(l)throw new m.ErrnoError(l);if(!a.node_ops.symlink)throw new m.ErrnoError(63);return a.node_ops.symlink(a,u,n)},rename(n,i){var o=Dt.dirname(n),a=Dt.dirname(i),u=Dt.basename(n),l=Dt.basename(i),h,p,_;if(h=m.lookupPath(n,{parent:!0}),p=h.node,h=m.lookupPath(i,{parent:!0}),_=h.node,!p||!_)throw new m.ErrnoError(44);if(p.mount!==_.mount)throw new m.ErrnoError(75);var w=m.lookupNode(p,u),I=yr.relative(n,a);if(I.charAt(0)!==".")throw new m.ErrnoError(28);if(I=yr.relative(i,o),I.charAt(0)!==".")throw new m.ErrnoError(55);var B;try{B=m.lookupNode(_,l)}catch{}if(w!==B){var O=m.isDir(w.mode),M=m.mayDelete(p,u,O);if(M)throw new m.ErrnoError(M);if(M=B?m.mayDelete(_,l,O):m.mayCreate(_,l),M)throw new m.ErrnoError(M);if(!p.node_ops.rename)throw new m.ErrnoError(63);if(m.isMountpoint(w)||B&&m.isMountpoint(B))throw new m.ErrnoError(10);if(_!==p&&(M=m.nodePermissions(p,"w"),M))throw new m.ErrnoError(M);m.hashRemoveNode(w);try{p.node_ops.rename(w,_,l)}catch(N){throw N}finally{m.hashAddNode(w)}}},rmdir(n){var i=m.lookupPath(n,{parent:!0}),o=i.node,a=Dt.basename(n),u=m.lookupNode(o,a),l=m.mayDelete(o,a,!0);if(l)throw new m.ErrnoError(l);if(!o.node_ops.rmdir)throw new m.ErrnoError(63);if(m.isMountpoint(u))throw new m.ErrnoError(10);o.node_ops.rmdir(o,a),m.destroyNode(u)},readdir(n){var i=m.lookupPath(n,{follow:!0}),o=i.node;if(!o.node_ops.readdir)throw new m.ErrnoError(54);return o.node_ops.readdir(o)},unlink(n){var i=m.lookupPath(n,{parent:!0}),o=i.node;if(!o)throw new m.ErrnoError(44);var a=Dt.basename(n),u=m.lookupNode(o,a),l=m.mayDelete(o,a,!1);if(l)throw new m.ErrnoError(l);if(!o.node_ops.unlink)throw new m.ErrnoError(63);if(m.isMountpoint(u))throw new m.ErrnoError(10);o.node_ops.unlink(o,a),m.destroyNode(u)},readlink(n){var i=m.lookupPath(n),o=i.node;if(!o)throw new m.ErrnoError(44);if(!o.node_ops.readlink)throw new m.ErrnoError(28);return yr.resolve(m.getPath(o.parent),o.node_ops.readlink(o))},stat(n,i){var o=m.lookupPath(n,{follow:!i}),a=o.node;if(!a)throw new m.ErrnoError(44);if(!a.node_ops.getattr)throw new m.ErrnoError(63);return a.node_ops.getattr(a)},lstat(n){return m.stat(n,!0)},chmod(n,i,o){var a;if(typeof n=="string"){var u=m.lookupPath(n,{follow:!o});a=u.node}else a=n;if(!a.node_ops.setattr)throw new m.ErrnoError(63);a.node_ops.setattr(a,{mode:i&4095|a.mode&-4096,timestamp:Date.now()})},lchmod(n,i){m.chmod(n,i,!0)},fchmod(n,i){var o=m.getStreamChecked(n);m.chmod(o.node,i)},chown(n,i,o,a){var u;if(typeof n=="string"){var l=m.lookupPath(n,{follow:!a});u=l.node}else u=n;if(!u.node_ops.setattr)throw new m.ErrnoError(63);u.node_ops.setattr(u,{timestamp:Date.now()})},lchown(n,i,o){m.chown(n,i,o,!0)},fchown(n,i,o){var a=m.getStreamChecked(n);m.chown(a.node,i,o)},truncate(n,i){if(i<0)throw new m.ErrnoError(28);var o;if(typeof n=="string"){var a=m.lookupPath(n,{follow:!0});o=a.node}else o=n;if(!o.node_ops.setattr)throw new m.ErrnoError(63);if(m.isDir(o.mode))throw new m.ErrnoError(31);if(!m.isFile(o.mode))throw new m.ErrnoError(28);var u=m.nodePermissions(o,"w");if(u)throw new m.ErrnoError(u);o.node_ops.setattr(o,{size:i,timestamp:Date.now()})},ftruncate(n,i){var o=m.getStreamChecked(n);if(!(o.flags&2097155))throw new m.ErrnoError(28);m.truncate(o.node,i)},utime(n,i,o){var a=m.lookupPath(n,{follow:!0}),u=a.node;u.node_ops.setattr(u,{timestamp:Math.max(i,o)})},open(n,i,o){if(n==="")throw new m.ErrnoError(44);i=typeof i=="string"?dp(i):i,o=typeof o>"u"?438:o,i&64?o=o&4095|32768:o=0;var a;if(typeof n=="object")a=n;else{n=Dt.normalize(n);try{var u=m.lookupPath(n,{follow:!(i&131072)});a=u.node}catch{}}var l=!1;if(i&64)if(a){if(i&128)throw new m.ErrnoError(20)}else a=m.mknod(n,o,0),l=!0;if(!a)throw new m.ErrnoError(44);if(m.isChrdev(a.mode)&&(i&=-513),i&65536&&!m.isDir(a.mode))throw new m.ErrnoError(54);if(!l){var h=m.mayOpen(a,i);if(h)throw new m.ErrnoError(h)}i&512&&!l&&m.truncate(a,0),i&=-131713;var p=m.createStream({node:a,path:m.getPath(a),flags:i,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1});return p.stream_ops.open&&p.stream_ops.open(p),v.logReadFiles&&!(i&1)&&(m.readFiles||(m.readFiles={}),n in m.readFiles||(m.readFiles[n]=1)),p},close(n){if(m.isClosed(n))throw new m.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(i){throw i}finally{m.closeStream(n.fd)}n.fd=null},isClosed(n){return n.fd===null},llseek(n,i,o){if(m.isClosed(n))throw new m.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new m.ErrnoError(70);if(o!=0&&o!=1&&o!=2)throw new m.ErrnoError(28);return n.position=n.stream_ops.llseek(n,i,o),n.ungotten=[],n.position},read(n,i,o,a,u){if(a<0||u<0)throw new m.ErrnoError(28);if(m.isClosed(n))throw new m.ErrnoError(8);if((n.flags&2097155)===1)throw new m.ErrnoError(8);if(m.isDir(n.node.mode))throw new m.ErrnoError(31);if(!n.stream_ops.read)throw new m.ErrnoError(28);var l=typeof u<"u";if(!l)u=n.position;else if(!n.seekable)throw new m.ErrnoError(70);var h=n.stream_ops.read(n,i,o,a,u);return l||(n.position+=h),h},write(n,i,o,a,u,l){if(a<0||u<0)throw new m.ErrnoError(28);if(m.isClosed(n))throw new m.ErrnoError(8);if(!(n.flags&2097155))throw new m.ErrnoError(8);if(m.isDir(n.node.mode))throw new m.ErrnoError(31);if(!n.stream_ops.write)throw new m.ErrnoError(28);n.seekable&&n.flags&1024&&m.llseek(n,0,2);var h=typeof u<"u";if(!h)u=n.position;else if(!n.seekable)throw new m.ErrnoError(70);var p=n.stream_ops.write(n,i,o,a,u,l);return h||(n.position+=p),p},allocate(n,i,o){if(m.isClosed(n))throw new m.ErrnoError(8);if(i<0||o<=0)throw new m.ErrnoError(28);if(!(n.flags&2097155))throw new m.ErrnoError(8);if(!m.isFile(n.node.mode)&&!m.isDir(n.node.mode))throw new m.ErrnoError(43);if(!n.stream_ops.allocate)throw new m.ErrnoError(138);n.stream_ops.allocate(n,i,o)},mmap(n,i,o,a,u){if(a&2&&!(u&2)&&(n.flags&2097155)!==2)throw new m.ErrnoError(2);if((n.flags&2097155)===1)throw new m.ErrnoError(2);if(!n.stream_ops.mmap)throw new m.ErrnoError(43);return n.stream_ops.mmap(n,i,o,a,u)},msync(n,i,o,a,u){return n.stream_ops.msync?n.stream_ops.msync(n,i,o,a,u):0},ioctl(n,i,o){if(!n.stream_ops.ioctl)throw new m.ErrnoError(59);return n.stream_ops.ioctl(n,i,o)},readFile(n,i={}){if(i.flags=i.flags||0,i.encoding=i.encoding||"binary",i.encoding!=="utf8"&&i.encoding!=="binary")throw new Error(`Invalid encoding type "${i.encoding}"`);var o,a=m.open(n,i.flags),u=m.stat(n),l=u.size,h=new Uint8Array(l);return m.read(a,h,0,l,0),i.encoding==="utf8"?o=Hn(h,0):i.encoding==="binary"&&(o=h),m.close(a),o},writeFile(n,i,o={}){o.flags=o.flags||577;var a=m.open(n,o.flags,o.mode);if(typeof i=="string"){var u=new Uint8Array(Yn(i)+1),l=tc(i,u,0,u.length);m.write(a,u,0,l,void 0,o.canOwn)}else if(ArrayBuffer.isView(i))m.write(a,i,0,i.byteLength,void 0,o.canOwn);else throw new Error("Unsupported data type");m.close(a)},cwd:()=>m.currentPath,chdir(n){var i=m.lookupPath(n,{follow:!0});if(i.node===null)throw new m.ErrnoError(44);if(!m.isDir(i.node.mode))throw new m.ErrnoError(54);var o=m.nodePermissions(i.node,"x");if(o)throw new m.ErrnoError(o);m.currentPath=i.path},createDefaultDirectories(){m.mkdir("/tmp"),m.mkdir("/home"),m.mkdir("/home/web_user")},createDefaultDevices(){m.mkdir("/dev"),m.registerDevice(m.makedev(1,3),{read:()=>0,write:(a,u,l,h,p)=>h}),m.mkdev("/dev/null",m.makedev(1,3)),Gr.register(m.makedev(5,0),Gr.default_tty_ops),Gr.register(m.makedev(6,0),Gr.default_tty1_ops),m.mkdev("/dev/tty",m.makedev(5,0)),m.mkdev("/dev/tty1",m.makedev(6,0));var n=new Uint8Array(1024),i=0,o=()=>(i===0&&(i=Za(n).byteLength),n[--i]);m.createDevice("/dev","random",o),m.createDevice("/dev","urandom",o),m.mkdir("/dev/shm"),m.mkdir("/dev/shm/tmp")},createSpecialDirectories(){m.mkdir("/proc");var n=m.mkdir("/proc/self");m.mkdir("/proc/self/fd"),m.mount({mount(){var i=m.createNode(n,"fd",16895,73);return i.node_ops={lookup(o,a){var u=+a,l=m.getStreamChecked(u),h={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>l.path}};return h.parent=h,h}},i}},{},"/proc/self/fd")},createStandardStreams(){v.stdin?m.createDevice("/dev","stdin",v.stdin):m.symlink("/dev/tty","/dev/stdin"),v.stdout?m.createDevice("/dev","stdout",null,v.stdout):m.symlink("/dev/tty","/dev/stdout"),v.stderr?m.createDevice("/dev","stderr",null,v.stderr):m.symlink("/dev/tty1","/dev/stderr");var n=m.open("/dev/stdin",0),i=m.open("/dev/stdout",1),o=m.open("/dev/stderr",1)},staticInit(){[44].forEach(n=>{m.genericErrors[n]=new m.ErrnoError(n),m.genericErrors[n].stack="<generic error, no stack>"}),m.nameTable=new Array(4096),m.mount(ut,{},"/"),m.createDefaultDirectories(),m.createDefaultDevices(),m.createSpecialDirectories(),m.filesystems={MEMFS:ut}},init(n,i,o){m.init.initialized=!0,v.stdin=n||v.stdin,v.stdout=i||v.stdout,v.stderr=o||v.stderr,m.createStandardStreams()},quit(){m.init.initialized=!1;for(var n=0;n<m.streams.length;n++){var i=m.streams[n];i&&m.close(i)}},findObject(n,i){var o=m.analyzePath(n,i);return o.exists?o.object:null},analyzePath(n,i){try{var o=m.lookupPath(n,{follow:!i});n=o.path}catch{}var a={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var o=m.lookupPath(n,{parent:!0});a.parentExists=!0,a.parentPath=o.path,a.parentObject=o.node,a.name=Dt.basename(n),o=m.lookupPath(n,{follow:!i}),a.exists=!0,a.path=o.path,a.object=o.node,a.name=o.node.name,a.isRoot=o.path==="/"}catch(u){a.error=u.errno}return a},createPath(n,i,o,a){n=typeof n=="string"?n:m.getPath(n);for(var u=i.split("/").reverse();u.length;){var l=u.pop();if(l){var h=Dt.join2(n,l);try{m.mkdir(h)}catch{}n=h}}return h},createFile(n,i,o,a,u){var l=Dt.join2(typeof n=="string"?n:m.getPath(n),i),h=ec(a,u);return m.create(l,h)},createDataFile(n,i,o,a,u,l){var h=i;n&&(n=typeof n=="string"?n:m.getPath(n),h=i?Dt.join2(n,i):n);var p=ec(a,u),_=m.create(h,p);if(o){if(typeof o=="string"){for(var w=new Array(o.length),I=0,B=o.length;I<B;++I)w[I]=o.charCodeAt(I);o=w}m.chmod(_,p|146);var O=m.open(_,577);m.write(O,o,0,o.length,0,l),m.close(O),m.chmod(_,p)}},createDevice(n,i,o,a){var u=Dt.join2(typeof n=="string"?n:m.getPath(n),i),l=ec(!!o,!!a);m.createDevice.major||(m.createDevice.major=64);var h=m.makedev(m.createDevice.major++,0);return m.registerDevice(h,{open(p){p.seekable=!1},close(p){a?.buffer?.length&&a(10)},read(p,_,w,I,B){for(var O=0,M=0;M<I;M++){var N;try{N=o()}catch{throw new m.ErrnoError(29)}if(N===void 0&&O===0)throw new m.ErrnoError(6);if(N==null)break;O++,_[w+M]=N}return O&&(p.node.timestamp=Date.now()),O},write(p,_,w,I,B){for(var O=0;O<I;O++)try{a(_[w+O])}catch{throw new m.ErrnoError(29)}return I&&(p.node.timestamp=Date.now()),O}}),m.mkdev(u,l,h)},forceLoadFile(n){if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(ja)try{n.contents=Ks(ja(n.url),!0),n.usedBytes=n.contents.length}catch{throw new m.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(n,i,o,a,u){class l{constructor(){this.lengthKnown=!1,this.chunks=[]}get(M){if(!(M>this.length-1||M<0)){var N=M%this.chunkSize,it=M/this.chunkSize|0;return this.getter(it)[N]}}setDataGetter(M){this.getter=M}cacheLength(){var M=new XMLHttpRequest;if(M.open("HEAD",o,!1),M.send(null),!(M.status>=200&&M.status<300||M.status===304))throw new Error("Couldn't load "+o+". Status: "+M.status);var N=Number(M.getResponseHeader("Content-length")),it,pt=(it=M.getResponseHeader("Accept-Ranges"))&&it==="bytes",St=(it=M.getResponseHeader("Content-Encoding"))&&it==="gzip",k=1024*1024;pt||(k=N);var R=(at,Tt)=>{if(at>Tt)throw new Error("invalid range ("+at+", "+Tt+") or no bytes requested!");if(Tt>N-1)throw new Error("only "+N+" bytes available! programmer error!");var Ft=new XMLHttpRequest;if(Ft.open("GET",o,!1),N!==k&&Ft.setRequestHeader("Range","bytes="+at+"-"+Tt),Ft.responseType="arraybuffer",Ft.overrideMimeType&&Ft.overrideMimeType("text/plain; charset=x-user-defined"),Ft.send(null),!(Ft.status>=200&&Ft.status<300||Ft.status===304))throw new Error("Couldn't load "+o+". Status: "+Ft.status);return Ft.response!==void 0?new Uint8Array(Ft.response||[]):Ks(Ft.responseText||"",!0)},mt=this;mt.setDataGetter(at=>{var Tt=at*k,Ft=(at+1)*k-1;if(Ft=Math.min(Ft,N-1),typeof mt.chunks[at]>"u"&&(mt.chunks[at]=R(Tt,Ft)),typeof mt.chunks[at]>"u")throw new Error("doXHR failed!");return mt.chunks[at]}),(St||!N)&&(k=N=1,N=this.getter(0).length,k=N,za("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=N,this._chunkSize=k,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!Hr)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var h=new l,p={isDevice:!1,contents:h}}else var p={isDevice:!1,url:o};var _=m.createFile(n,i,p,a,u);p.contents?_.contents=p.contents:p.url&&(_.contents=null,_.url=p.url),Object.defineProperties(_,{usedBytes:{get:function(){return this.contents.length}}});var w={},I=Object.keys(_.stream_ops);I.forEach(O=>{var M=_.stream_ops[O];w[O]=(...N)=>(m.forceLoadFile(_),M(...N))});function B(O,M,N,it,pt){var St=O.node.contents;if(pt>=St.length)return 0;var k=Math.min(St.length-pt,it);if(St.slice)for(var R=0;R<k;R++)M[N+R]=St[pt+R];else for(var R=0;R<k;R++)M[N+R]=St.get(pt+R);return k}return w.read=(O,M,N,it,pt)=>(m.forceLoadFile(_),B(O,M,N,it,pt)),w.mmap=(O,M,N,it,pt)=>{m.forceLoadFile(_);var St=rl(M);if(!St)throw new m.ErrnoError(48);return B(O,e(),St,M,N),{ptr:St,allocated:!0}},_.stream_ops=w,_}},vr=(n,i)=>(n>>>=0,n?Hn(s(),n,i):""),X={DEFAULT_POLLMASK:5,calculateAt(n,i,o){if(Dt.isAbs(i))return i;var a;if(n===-100)a=m.cwd();else{var u=X.getStreamFromFD(n);a=u.path}if(i.length==0){if(!o)throw new m.ErrnoError(44);return a}return Dt.join2(a,i)},doStat(n,i,o){var a=n(i);d()[o>>>2>>>0]=a.dev,d()[o+4>>>2>>>0]=a.mode,y()[o+8>>>2>>>0]=a.nlink,d()[o+12>>>2>>>0]=a.uid,d()[o+16>>>2>>>0]=a.gid,d()[o+20>>>2>>>0]=a.rdev,qt[o+24>>>3]=BigInt(a.size),d()[o+32>>>2>>>0]=4096,d()[o+36>>>2>>>0]=a.blocks;var u=a.atime.getTime(),l=a.mtime.getTime(),h=a.ctime.getTime();return qt[o+40>>>3]=BigInt(Math.floor(u/1e3)),y()[o+48>>>2>>>0]=u%1e3*1e3,qt[o+56>>>3]=BigInt(Math.floor(l/1e3)),y()[o+64>>>2>>>0]=l%1e3*1e3,qt[o+72>>>3]=BigInt(Math.floor(h/1e3)),y()[o+80>>>2>>>0]=h%1e3*1e3,qt[o+88>>>3]=BigInt(a.ino),0},doMsync(n,i,o,a,u){if(!m.isFile(i.node.mode))throw new m.ErrnoError(43);if(a&2)return 0;var l=s().slice(n,n+o);m.msync(i,l,u,o,a)},varargs:void 0,get(){var n=d()[+X.varargs>>>2>>>0];return X.varargs+=4,n},getp(){return X.get()},getStr(n){var i=vr(n);return i},getStreamFromFD(n){var i=m.getStreamChecked(n);return i}};function nl(n,i,o,a,u){if(W)return ct(3,0,1,n,i,o,a,u);i>>>=0,o>>>=0,a>>>=0,u>>>=0;try{for(var l=0,h=i?d()[i>>>2>>>0]:0,p=i?d()[i+4>>>2>>>0]:0,_=o?d()[o>>>2>>>0]:0,w=o?d()[o+4>>>2>>>0]:0,I=a?d()[a>>>2>>>0]:0,B=a?d()[a+4>>>2>>>0]:0,O=0,M=0,N=0,it=0,pt=0,St=0,k=(i?d()[i>>>2>>>0]:0)|(o?d()[o>>>2>>>0]:0)|(a?d()[a>>>2>>>0]:0),R=(i?d()[i+4>>>2>>>0]:0)|(o?d()[o+4>>>2>>>0]:0)|(a?d()[a+4>>>2>>>0]:0),mt=function(ji,y_,v_,Ef){return ji<32?y_&Ef:v_&Ef},at=0;at<n;at++){var Tt=1<<at%32;if(mt(at,k,R,Tt)){var Ft=X.getStreamFromFD(at),gn=X.DEFAULT_POLLMASK;if(Ft.stream_ops.poll){var Af=-1;if(u){var p_=i?d()[u>>>2>>>0]:0,m_=i?d()[u+4>>>2>>>0]:0;Af=(p_+m_/1e6)*1e3}gn=Ft.stream_ops.poll(Ft,Af)}gn&1&&mt(at,h,p,Tt)&&(at<32?O=O|Tt:M=M|Tt,l++),gn&4&&mt(at,_,w,Tt)&&(at<32?N=N|Tt:it=it|Tt,l++),gn&2&&mt(at,I,B,Tt)&&(at<32?pt=pt|Tt:St=St|Tt,l++)}}return i&&(d()[i>>>2>>>0]=O,d()[i+4>>>2>>>0]=M),o&&(d()[o>>>2>>>0]=N,d()[o+4>>>2>>>0]=it),a&&(d()[a>>>2>>>0]=pt,d()[a+4>>>2>>>0]=St),l}catch(ji){if(typeof m>"u"||ji.name!=="ErrnoError")throw ji;return-ji.errno}}var Ct={mount(n){return v.websocket=v.websocket&&typeof v.websocket=="object"?v.websocket:{},v.websocket._callbacks={},v.websocket.on=function(i,o){return typeof o=="function"&&(this._callbacks[i]=o),this},v.websocket.emit=function(i,o){typeof this._callbacks[i]=="function"&&this._callbacks[i].call(this,o)},m.createNode(null,"/",16895,0)},createSocket(n,i,o){i&=-526337;var a=i==1;if(a&&o&&o!=6)throw new m.ErrnoError(66);var u={family:n,type:i,protocol:o,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:Ct.websocket_sock_ops},l=Ct.nextname(),h=m.createNode(Ct.root,l,49152,0);h.sock=u;var p=m.createStream({path:l,node:h,flags:2,seekable:!1,stream_ops:Ct.stream_ops});return u.stream=p,u},getSocket(n){var i=m.getStream(n);return!i||!m.isSocket(i.node.mode)?null:i.node.sock},stream_ops:{poll(n){var i=n.node.sock;return i.sock_ops.poll(i)},ioctl(n,i,o){var a=n.node.sock;return a.sock_ops.ioctl(a,i,o)},read(n,i,o,a,u){var l=n.node.sock,h=l.sock_ops.recvmsg(l,a);return h?(i.set(h.buffer,o),h.buffer.length):0},write(n,i,o,a,u){var l=n.node.sock;return l.sock_ops.sendmsg(l,i,o,a)},close(n){var i=n.node.sock;i.sock_ops.close(i)}},nextname(){return Ct.nextname.current||(Ct.nextname.current=0),"socket["+Ct.nextname.current+++"]"},websocket_sock_ops:{createPeer(n,i,o){var a;if(typeof i=="object"&&(a=i,i=null,o=null),a)if(a._socket)i=a._socket.remoteAddress,o=a._socket.remotePort;else{var u=/ws[s]?:\/\/([^:]+):(\d+)/.exec(a.url);if(!u)throw new Error("WebSocket URL must be in the format ws(s)://address:port");i=u[1],o=parseInt(u[2],10)}else try{var l=v.websocket&&typeof v.websocket=="object",h="ws:#".replace("#","//");if(l&&typeof v.websocket.url=="string"&&(h=v.websocket.url),h==="ws://"||h==="wss://"){var p=i.split("/");h=h+p[0]+":"+o+"/"+p.slice(1).join("/")}var _="binary";l&&typeof v.websocket.subprotocol=="string"&&(_=v.websocket.subprotocol);var w=void 0;_!=="null"&&(_=_.replace(/^ +| +$/g,"").split(/ *, */),w=_),l&&v.websocket.subprotocol===null&&(_="null",w=void 0);var I;I=WebSocket,a=new I(h,w),a.binaryType="arraybuffer"}catch{throw new m.ErrnoError(23)}var B={addr:i,port:o,socket:a,dgram_send_queue:[]};return Ct.websocket_sock_ops.addPeer(n,B),Ct.websocket_sock_ops.handlePeerEvents(n,B),n.type===2&&typeof n.sport<"u"&&B.dgram_send_queue.push(new Uint8Array([255,255,255,255,112,111,114,116,(n.sport&65280)>>8,n.sport&255])),B},getPeer(n,i,o){return n.peers[i+":"+o]},addPeer(n,i){n.peers[i.addr+":"+i.port]=i},removePeer(n,i){delete n.peers[i.addr+":"+i.port]},handlePeerEvents(n,i){var o=!0,a=function(){v.websocket.emit("open",n.stream.fd);try{for(var l=i.dgram_send_queue.shift();l;)i.socket.send(l),l=i.dgram_send_queue.shift()}catch{i.socket.close()}};function u(l){if(typeof l=="string"){var h=new TextEncoder;l=h.encode(l)}else{if($a(l.byteLength!==void 0),l.byteLength==0)return;l=new Uint8Array(l)}var p=o;if(o=!1,p&&l.length===10&&l[0]===255&&l[1]===255&&l[2]===255&&l[3]===255&&l[4]===112&&l[5]===111&&l[6]===114&&l[7]===116){var _=l[8]<<8|l[9];Ct.websocket_sock_ops.removePeer(n,i),i.port=_,Ct.websocket_sock_ops.addPeer(n,i);return}n.recv_queue.push({addr:i.addr,port:i.port,data:l}),v.websocket.emit("message",n.stream.fd)}Ra?(i.socket.on("open",a),i.socket.on("message",function(l,h){h&&u(new Uint8Array(l).buffer)}),i.socket.on("close",function(){v.websocket.emit("close",n.stream.fd)}),i.socket.on("error",function(l){n.error=14,v.websocket.emit("error",[n.stream.fd,n.error,"ECONNREFUSED: Connection refused"])})):(i.socket.onopen=a,i.socket.onclose=function(){v.websocket.emit("close",n.stream.fd)},i.socket.onmessage=function(h){u(h.data)},i.socket.onerror=function(l){n.error=14,v.websocket.emit("error",[n.stream.fd,n.error,"ECONNREFUSED: Connection refused"])})},poll(n){if(n.type===1&&n.server)return n.pending.length?65:0;var i=0,o=n.type===1?Ct.websocket_sock_ops.getPeer(n,n.daddr,n.dport):null;return(n.recv_queue.length||!o||o&&o.socket.readyState===o.socket.CLOSING||o&&o.socket.readyState===o.socket.CLOSED)&&(i|=65),(!o||o&&o.socket.readyState===o.socket.OPEN)&&(i|=4),(o&&o.socket.readyState===o.socket.CLOSING||o&&o.socket.readyState===o.socket.CLOSED)&&(i|=16),i},ioctl(n,i,o){switch(i){case 21531:var a=0;return n.recv_queue.length&&(a=n.recv_queue[0].data.length),d()[o>>>2>>>0]=a,0;default:return 28}},close(n){if(n.server){try{n.server.close()}catch{}n.server=null}for(var i=Object.keys(n.peers),o=0;o<i.length;o++){var a=n.peers[i[o]];try{a.socket.close()}catch{}Ct.websocket_sock_ops.removePeer(n,a)}return 0},bind(n,i,o){if(typeof n.saddr<"u"||typeof n.sport<"u")throw new m.ErrnoError(28);if(n.saddr=i,n.sport=o,n.type===2){n.server&&(n.server.close(),n.server=null);try{n.sock_ops.listen(n,0)}catch(a){if(a.name!=="ErrnoError"||a.errno!==138)throw a}}},connect(n,i,o){if(n.server)throw new m.ErrnoError(138);if(typeof n.daddr<"u"&&typeof n.dport<"u"){var a=Ct.websocket_sock_ops.getPeer(n,n.daddr,n.dport);if(a)throw a.socket.readyState===a.socket.CONNECTING?new m.ErrnoError(7):new m.ErrnoError(30)}var u=Ct.websocket_sock_ops.createPeer(n,i,o);throw n.daddr=u.addr,n.dport=u.port,new m.ErrnoError(26)},listen(n,i){if(!Ra)throw new m.ErrnoError(138)},accept(n){if(!n.server||!n.pending.length)throw new m.ErrnoError(28);var i=n.pending.shift();return i.stream.flags=n.stream.flags,i},getname(n,i){var o,a;if(i){if(n.daddr===void 0||n.dport===void 0)throw new m.ErrnoError(53);o=n.daddr,a=n.dport}else o=n.saddr||0,a=n.sport||0;return{addr:o,port:a}},sendmsg(n,i,o,a,u,l){if(n.type===2){if((u===void 0||l===void 0)&&(u=n.daddr,l=n.dport),u===void 0||l===void 0)throw new m.ErrnoError(17)}else u=n.daddr,l=n.dport;var h=Ct.websocket_sock_ops.getPeer(n,u,l);if(n.type===1){if(!h||h.socket.readyState===h.socket.CLOSING||h.socket.readyState===h.socket.CLOSED)throw new m.ErrnoError(53);if(h.socket.readyState===h.socket.CONNECTING)throw new m.ErrnoError(6)}ArrayBuffer.isView(i)&&(o+=i.byteOffset,i=i.buffer);var p;if(i instanceof SharedArrayBuffer?p=new Uint8Array(new Uint8Array(i.slice(o,o+a))).buffer:p=i.slice(o,o+a),n.type===2&&(!h||h.socket.readyState!==h.socket.OPEN))return(!h||h.socket.readyState===h.socket.CLOSING||h.socket.readyState===h.socket.CLOSED)&&(h=Ct.websocket_sock_ops.createPeer(n,u,l)),h.dgram_send_queue.push(p),a;try{return h.socket.send(p),a}catch{throw new m.ErrnoError(28)}},recvmsg(n,i){if(n.type===1&&n.server)throw new m.ErrnoError(53);var o=n.recv_queue.shift();if(!o){if(n.type===1){var a=Ct.websocket_sock_ops.getPeer(n,n.daddr,n.dport);if(!a)throw new m.ErrnoError(53);if(a.socket.readyState===a.socket.CLOSING||a.socket.readyState===a.socket.CLOSED)return null;throw new m.ErrnoError(6)}throw new m.ErrnoError(6)}var u=o.data.byteLength||o.data.length,l=o.data.byteOffset||0,h=o.data.buffer||o.data,p=Math.min(i,u),_={buffer:new Uint8Array(h,l,p),addr:o.addr,port:o.port};if(n.type===1&&p<u){var w=u-p;o.data=new Uint8Array(h,l+p,w),n.recv_queue.unshift(o)}return _}}},pn=n=>{var i=Ct.getSocket(n);if(!i)throw new m.ErrnoError(8);return i},rc=n=>(n&255)+"."+(n>>8&255)+"."+(n>>16&255)+"."+(n>>24&255),il=n=>{var i="",o=0,a=0,u=0,l=0,h=0,p=0,_=[n[0]&65535,n[0]>>16,n[1]&65535,n[1]>>16,n[2]&65535,n[2]>>16,n[3]&65535,n[3]>>16],w=!0,I="";for(p=0;p<5;p++)if(_[p]!==0){w=!1;break}if(w){if(I=rc(_[6]|_[7]<<16),_[5]===-1)return i="::ffff:",i+=I,i;if(_[5]===0)return i="::",I==="0.0.0.0"&&(I=""),I==="0.0.0.1"&&(I="1"),i+=I,i}for(o=0;o<8;o++)_[o]===0&&(o-u>1&&(h=0),u=o,h++),h>a&&(a=h,l=o-a+1);for(o=0;o<8;o++){if(a>1&&_[o]===0&&o>=l&&o<l+a){o===l&&(i+=":",l===0&&(i+=":"));continue}i+=Number(yc(_[o]&65535)).toString(16),i+=o<7?":":""}return i},sl=(n,i)=>{var o=c()[n>>>1>>>0],a=yc(f()[n+2>>>1>>>0]),u;switch(o){case 2:if(i!==16)return{errno:28};u=d()[n+4>>>2>>>0],u=rc(u);break;case 10:if(i!==28)return{errno:28};u=[d()[n+8>>>2>>>0],d()[n+12>>>2>>>0],d()[n+16>>>2>>>0],d()[n+20>>>2>>>0]],u=il(u);break;default:return{errno:5}}return{family:o,addr:u,port:a}},Js=n=>{for(var i=n.split("."),o=0;o<4;o++){var a=Number(i[o]);if(isNaN(a))return null;i[o]=a}return(i[0]|i[1]<<8|i[2]<<16|i[3]<<24)>>>0},Xs=n=>parseInt(n),nc=n=>{var i,o,a,u,l=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,h=[];if(!l.test(n))return null;if(n==="::")return[0,0,0,0,0,0,0,0];for(n.startsWith("::")?n=n.replace("::","Z:"):n=n.replace("::",":Z:"),n.indexOf(".")>0?(n=n.replace(new RegExp("[.]","g"),":"),i=n.split(":"),i[i.length-4]=Xs(i[i.length-4])+Xs(i[i.length-3])*256,i[i.length-3]=Xs(i[i.length-2])+Xs(i[i.length-1])*256,i=i.slice(0,i.length-2)):i=n.split(":"),a=0,u=0,o=0;o<i.length;o++)if(typeof i[o]=="string")if(i[o]==="Z"){for(u=0;u<8-i.length+1;u++)h[o+u]=0;a=u-1}else h[o+a]=po(parseInt(i[o],16));else h[o+a]=i[o];return[h[1]<<16|h[0],h[3]<<16|h[2],h[5]<<16|h[4],h[7]<<16|h[6]]},_e={address_map:{id:1,addrs:{},names:{}},lookup_name(n){var i=Js(n);if(i!==null||(i=nc(n),i!==null))return n;var o;if(_e.address_map.addrs[n])o=_e.address_map.addrs[n];else{var a=_e.address_map.id++;$a(a<65535,"exceeded max address mappings of 65535"),o="172.29."+(a&255)+"."+(a&65280),_e.address_map.names[o]=n,_e.address_map.addrs[n]=o}return o},lookup_addr(n){return _e.address_map.names[n]?_e.address_map.names[n]:null}},ic=(n,i,o)=>{if(o&&n===0)return null;var a=sl(n,i);if(a.errno)throw new m.ErrnoError(a.errno);return a.addr=_e.lookup_addr(a.addr)||a.addr,a};function ol(n,i,o,a,u,l){if(W)return ct(4,0,1,n,i,o,a,u,l);i>>>=0,o>>>=0;try{var h=pn(n),p=ic(i,o);return h.sock_ops.bind(h,p.addr,p.port),0}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function al(n,i){if(W)return ct(5,0,1,n,i);n>>>=0;try{return n=X.getStr(n),m.chmod(n,i),0}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function cl(n,i,o,a,u,l){if(W)return ct(6,0,1,n,i,o,a,u,l);i>>>=0,o>>>=0;try{var h=pn(n),p=ic(i,o);return h.sock_ops.connect(h,p.addr,p.port),0}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function ul(n,i){if(W)return ct(7,0,1,n,i);try{return m.fchmod(n,i),0}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function ll(n,i,o){if(W)return ct(8,0,1,n,i,o);o>>>=0,X.varargs=o;try{var a=X.getStreamFromFD(n);switch(i){case 0:{var u=X.get();if(u<0)return-28;for(;m.streams[u];)u++;var l;return l=m.dupStream(a,u),l.fd}case 1:case 2:return 0;case 3:return a.flags;case 4:{var u=X.get();return a.flags|=u,0}case 12:{var u=X.getp(),h=0;return c()[u+h>>>1>>>0]=2,0}case 13:case 14:return 0}return-28}catch(p){if(typeof m>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}function fl(n,i){if(W)return ct(9,0,1,n,i);i>>>=0;try{var o=X.getStreamFromFD(n);return X.doStat(m.stat,o.path,i)}catch(a){if(typeof m>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function dl(n,i){if(W)return ct(10,0,1,n,i);i=Wn(i);try{return isNaN(i)?61:(m.ftruncate(n,i),0)}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}var mn=(n,i,o)=>tc(n,s(),i,o);function hl(n,i){if(W)return ct(11,0,1,n,i);n>>>=0,i>>>=0;try{if(i===0)return-28;var o=m.cwd(),a=Yn(o)+1;return i<a?-68:(mn(o,n,i),a)}catch(u){if(typeof m>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function pl(n,i,o){if(W)return ct(12,0,1,n,i,o);i>>>=0,o>>>=0;try{var a=X.getStreamFromFD(n);a.getdents||=m.readdir(a.path);for(var u=280,l=0,h=m.llseek(a,0,1),p=Math.floor(h/u);p<a.getdents.length&&l+u<=o;){var _,w,I=a.getdents[p];if(I===".")_=a.node.id,w=4;else if(I===".."){var B=m.lookupPath(a.path,{parent:!0});_=B.node.id,w=4}else{var O=m.lookupNode(a.node,I);_=O.id,w=m.isChrdev(O.mode)?2:m.isDir(O.mode)?4:m.isLink(O.mode)?10:8}qt[i+l>>>3]=BigInt(_),qt[i+l+8>>>3]=BigInt((p+1)*u),c()[i+l+16>>>1>>>0]=280,e()[i+l+18>>>0]=w,mn(I,i+l+19,256),l+=u,p+=1}return m.llseek(a,p*u,0),l}catch(M){if(typeof m>"u"||M.name!=="ErrnoError")throw M;return-M.errno}}var Zs=(n,i,o,a,u)=>{switch(i){case 2:o=Js(o),Ga(n,16),u&&(d()[u>>>2>>>0]=16),c()[n>>>1>>>0]=i,d()[n+4>>>2>>>0]=o,c()[n+2>>>1>>>0]=po(a);break;case 10:o=nc(o),Ga(n,28),u&&(d()[u>>>2>>>0]=28),d()[n>>>2>>>0]=i,d()[n+8>>>2>>>0]=o[0],d()[n+12>>>2>>>0]=o[1],d()[n+16>>>2>>>0]=o[2],d()[n+20>>>2>>>0]=o[3],c()[n+2>>>1>>>0]=po(a);break;default:return 5}return 0};function ml(n,i,o,a,u,l){if(W)return ct(13,0,1,n,i,o,a,u,l);i>>>=0,o>>>=0;try{var h=pn(n);if(!h.daddr)return-53;var p=Zs(i,h.family,_e.lookup_name(h.daddr),h.dport,o);return 0}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function yl(n,i,o,a,u,l){if(W)return ct(14,0,1,n,i,o,a,u,l);i>>>=0,o>>>=0;try{var h=pn(n),p=Zs(i,h.family,_e.lookup_name(h.saddr||"0.0.0.0"),h.sport,o);return 0}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function vl(n,i,o,a,u,l){if(W)return ct(15,0,1,n,i,o,a,u,l);a>>>=0,u>>>=0;try{var h=pn(n);return i===1&&o===4?(d()[a>>>2>>>0]=h.error,d()[u>>>2>>>0]=4,h.error=null,0):-50}catch(p){if(typeof m>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}function _l(n,i,o){if(W)return ct(16,0,1,n,i,o);o>>>=0,X.varargs=o;try{var a=X.getStreamFromFD(n);switch(i){case 21509:return a.tty?0:-59;case 21505:{if(!a.tty)return-59;if(a.tty.ops.ioctl_tcgets){var u=a.tty.ops.ioctl_tcgets(a),l=X.getp();d()[l>>>2>>>0]=u.c_iflag||0,d()[l+4>>>2>>>0]=u.c_oflag||0,d()[l+8>>>2>>>0]=u.c_cflag||0,d()[l+12>>>2>>>0]=u.c_lflag||0;for(var h=0;h<32;h++)e()[l+h+17>>>0]=u.c_cc[h]||0;return 0}return 0}case 21510:case 21511:case 21512:return a.tty?0:-59;case 21506:case 21507:case 21508:{if(!a.tty)return-59;if(a.tty.ops.ioctl_tcsets){for(var l=X.getp(),p=d()[l>>>2>>>0],_=d()[l+4>>>2>>>0],w=d()[l+8>>>2>>>0],I=d()[l+12>>>2>>>0],B=[],h=0;h<32;h++)B.push(e()[l+h+17>>>0]);return a.tty.ops.ioctl_tcsets(a.tty,i,{c_iflag:p,c_oflag:_,c_cflag:w,c_lflag:I,c_cc:B})}return 0}case 21519:{if(!a.tty)return-59;var l=X.getp();return d()[l>>>2>>>0]=0,0}case 21520:return a.tty?-28:-59;case 21531:{var l=X.getp();return m.ioctl(a,i,l)}case 21523:{if(!a.tty)return-59;if(a.tty.ops.ioctl_tiocgwinsz){var O=a.tty.ops.ioctl_tiocgwinsz(a.tty),l=X.getp();c()[l>>>1>>>0]=O[0],c()[l+2>>>1>>>0]=O[1]}return 0}case 21524:return a.tty?0:-59;case 21515:return a.tty?0:-59;default:return-28}}catch(M){if(typeof m>"u"||M.name!=="ErrnoError")throw M;return-M.errno}}function gl(n,i){if(W)return ct(17,0,1,n,i);n>>>=0,i>>>=0;try{return n=X.getStr(n),X.doStat(m.lstat,n,i)}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function bl(n,i,o){if(W)return ct(18,0,1,n,i,o);i>>>=0;try{return i=X.getStr(i),i=X.calculateAt(n,i),i=Dt.normalize(i),i[i.length-1]==="/"&&(i=i.substr(0,i.length-1)),m.mkdir(i,o,0),0}catch(a){if(typeof m>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function wl(n,i,o,a){if(W)return ct(19,0,1,n,i,o,a);i>>>=0,o>>>=0;try{i=X.getStr(i);var u=a&256,l=a&4096;return a=a&-6401,i=X.calculateAt(n,i,l),X.doStat(u?m.lstat:m.stat,i,o)}catch(h){if(typeof m>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Sl(n,i,o,a){if(W)return ct(20,0,1,n,i,o,a);i>>>=0,a>>>=0,X.varargs=a;try{i=X.getStr(i),i=X.calculateAt(n,i);var u=a?X.get():0;return m.open(i,o,u).fd}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function Il(n,i,o,a){if(W)return ct(21,0,1,n,i,o,a);i>>>=0,o>>>=0,a>>>=0;try{if(i=X.getStr(i),i=X.calculateAt(n,i),a<=0)return-28;var u=m.readlink(i),l=Math.min(a,Yn(u)),h=e()[o+l>>>0];return mn(u,o,a+1),e()[o+l>>>0]=h,l}catch(p){if(typeof m>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}function Bl(n,i,o,a,u,l){if(W)return ct(22,0,1,n,i,o,a,u,l);i>>>=0,o>>>=0,u>>>=0,l>>>=0;try{var h=pn(n),p=h.sock_ops.recvmsg(h,o);if(!p)return 0;if(u)var _=Zs(u,h.family,_e.lookup_name(p.addr),p.port,l);return s().set(p.buffer,i>>>0),p.buffer.byteLength}catch(w){if(typeof m>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function Dl(n){if(W)return ct(23,0,1,n);n>>>=0;try{return n=X.getStr(n),m.rmdir(n),0}catch(i){if(typeof m>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Al(n,i,o,a,u,l){if(W)return ct(24,0,1,n,i,o,a,u,l);i>>>=0,o>>>=0,u>>>=0,l>>>=0;try{var h=pn(n),p=ic(u,l,!0);return p?h.sock_ops.sendmsg(h,e(),i,o,p.addr,p.port):m.write(h.stream,e(),i,o)}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function El(n,i,o){if(W)return ct(25,0,1,n,i,o);try{var a=Ct.createSocket(n,i,o);return a.stream.fd}catch(u){if(typeof m>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Fl(n,i){if(W)return ct(26,0,1,n,i);n>>>=0,i>>>=0;try{return n=X.getStr(n),X.doStat(m.stat,n,i)}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function xl(n,i,o){if(W)return ct(27,0,1,n,i,o);i>>>=0;try{return i=X.getStr(i),i=X.calculateAt(n,i),o===0?m.unlink(i):o===512?m.rmdir(i):dn("Invalid flags passed to unlinkat"),0}catch(a){if(typeof m>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}var Qs=n=>{if(n===null)return"null";var i=typeof n;return i==="object"||i==="array"||i==="function"?n.toString():""+n},hp=()=>{for(var n=new Array(256),i=0;i<256;++i)n[i]=String.fromCharCode(i);Ol=n},Ol,oe=n=>{for(var i="",o=n;s()[o>>>0];)i+=Ol[s()[o++>>>0]];return i},Gn={},yn={},to={},qn,gt=n=>{throw new qn(n)},kl,eo=n=>{throw new kl(n)},vn=(n,i,o)=>{n.forEach(function(p){to[p]=i});function a(p){var _=o(p);_.length!==n.length&&eo("Mismatched type converter count");for(var w=0;w<n.length;++w)sr(n[w],_[w])}var u=new Array(i.length),l=[],h=0;i.forEach((p,_)=>{yn.hasOwnProperty(p)?u[_]=yn[p]:(l.push(p),Gn.hasOwnProperty(p)||(Gn[p]=[]),Gn[p].push(()=>{u[_]=yn[p],++h,h===l.length&&a(u)}))}),l.length===0&&a(u)};function pp(n,i,o={}){var a=i.name;if(n||gt(`type "${a}" must have a positive integer typeid pointer`),yn.hasOwnProperty(n)){if(o.ignoreDuplicateRegistrations)return;gt(`Cannot register type '${a}' twice`)}if(yn[n]=i,delete to[n],Gn.hasOwnProperty(n)){var u=Gn[n];delete Gn[n],u.forEach(l=>l())}}function sr(n,i,o={}){if(!("argPackAdvance"in i))throw new TypeError("registerType registeredInstance requires argPackAdvance");return pp(n,i,o)}var Tl=(n,i,o)=>{switch(i){case 1:return o?a=>e()[a>>>0]:a=>s()[a>>>0];case 2:return o?a=>c()[a>>>1>>>0]:a=>f()[a>>>1>>>0];case 4:return o?a=>d()[a>>>2>>>0]:a=>y()[a>>>2>>>0];case 8:return o?a=>qt[a>>>3]:a=>Tu[a>>>3];default:throw new TypeError(`invalid integer width (${i}): ${n}`)}};function mp(n,i,o,a,u){n>>>=0,i>>>=0,o>>>=0,i=oe(i);var l=i.indexOf("u")!=-1;l&&(u=(1n<<64n)-1n),sr(n,{name:i,fromWireType:h=>h,toWireType:function(h,p){if(typeof p!="bigint"&&typeof p!="number")throw new TypeError(`Cannot convert "${Qs(p)}" to ${this.name}`);return typeof p=="number"&&(p=BigInt(p)),p},argPackAdvance:_r,readValueFromPointer:Tl(i,o,!l),destructorFunction:null})}var _r=8;function yp(n,i,o,a){n>>>=0,i>>>=0,i=oe(i),sr(n,{name:i,fromWireType:function(u){return!!u},toWireType:function(u,l){return l?o:a},argPackAdvance:_r,readValueFromPointer:function(u){return this.fromWireType(s()[u>>>0])},destructorFunction:null})}var vp=n=>({count:n.count,deleteScheduled:n.deleteScheduled,preservePointerOnDelete:n.preservePointerOnDelete,ptr:n.ptr,ptrType:n.ptrType,smartPtr:n.smartPtr,smartPtrType:n.smartPtrType}),sc=n=>{function i(o){return o.$$.ptrType.registeredClass.name}gt(i(n)+" instance already deleted")},oc=!1,Ml=n=>{},_p=n=>{n.smartPtr?n.smartPtrType.rawDestructor(n.smartPtr):n.ptrType.registeredClass.rawDestructor(n.ptr)},Ul=n=>{n.count.value-=1;var i=n.count.value===0;i&&_p(n)},Nl=(n,i,o)=>{if(i===o)return n;if(o.baseClass===void 0)return null;var a=Nl(n,i,o.baseClass);return a===null?null:o.downcast(a)},Ll={},gp=()=>Object.keys(Ni).length,bp=()=>{var n=[];for(var i in Ni)Ni.hasOwnProperty(i)&&n.push(Ni[i]);return n},Mi=[],ac=()=>{for(;Mi.length;){var n=Mi.pop();n.$$.deleteScheduled=!1,n.delete()}},Ui,wp=n=>{Ui=n,Mi.length&&Ui&&Ui(ac)},Sp=()=>{v.getInheritedInstanceCount=gp,v.getLiveInheritedInstances=bp,v.flushPendingDeletes=ac,v.setDelayFunction=wp},Ni={},Ip=(n,i)=>{for(i===void 0&&gt("ptr should not be undefined");n.baseClass;)i=n.upcast(i),n=n.baseClass;return i},Bp=(n,i)=>(i=Ip(n,i),Ni[i]),ro=(n,i)=>{(!i.ptrType||!i.ptr)&&eo("makeClassHandle requires ptr and ptrType");var o=!!i.smartPtrType,a=!!i.smartPtr;return o!==a&&eo("Both smartPtrType and smartPtr must be specified"),i.count={value:1},Li(Object.create(n,{$$:{value:i,writable:!0}}))};function Dp(n){var i=this.getPointee(n);if(!i)return this.destructor(n),null;var o=Bp(this.registeredClass,i);if(o!==void 0){if(o.$$.count.value===0)return o.$$.ptr=i,o.$$.smartPtr=n,o.clone();var a=o.clone();return this.destructor(n),a}function u(){return this.isSmartPointer?ro(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:i,smartPtrType:this,smartPtr:n}):ro(this.registeredClass.instancePrototype,{ptrType:this,ptr:n})}var l=this.registeredClass.getActualType(i),h=Ll[l];if(!h)return u.call(this);var p;this.isConst?p=h.constPointerType:p=h.pointerType;var _=Nl(i,this.registeredClass,p.registeredClass);return _===null?u.call(this):this.isSmartPointer?ro(p.registeredClass.instancePrototype,{ptrType:p,ptr:_,smartPtrType:this,smartPtr:n}):ro(p.registeredClass.instancePrototype,{ptrType:p,ptr:_})}var Li=n=>typeof FinalizationRegistry>"u"?(Li=i=>i,n):(oc=new FinalizationRegistry(i=>{Ul(i.$$)}),Li=i=>{var o=i.$$,a=!!o.smartPtr;if(a){var u={$$:o};oc.register(i,u,i)}return i},Ml=i=>oc.unregister(i),Li(n)),Ap=()=>{Object.assign(no.prototype,{isAliasOf(n){if(!(this instanceof no)||!(n instanceof no))return!1;var i=this.$$.ptrType.registeredClass,o=this.$$.ptr;n.$$=n.$$;for(var a=n.$$.ptrType.registeredClass,u=n.$$.ptr;i.baseClass;)o=i.upcast(o),i=i.baseClass;for(;a.baseClass;)u=a.upcast(u),a=a.baseClass;return i===a&&o===u},clone(){if(this.$$.ptr||sc(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var n=Li(Object.create(Object.getPrototypeOf(this),{$$:{value:vp(this.$$)}}));return n.$$.count.value+=1,n.$$.deleteScheduled=!1,n},delete(){this.$$.ptr||sc(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&gt("Object already scheduled for deletion"),Ml(this),Ul(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||sc(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&gt("Object already scheduled for deletion"),Mi.push(this),Mi.length===1&&Ui&&Ui(ac),this.$$.deleteScheduled=!0,this}})};function no(){}var io=(n,i)=>Object.defineProperty(i,"name",{value:n}),cc=(n,i,o)=>{if(n[i].overloadTable===void 0){var a=n[i];n[i]=function(...u){return n[i].overloadTable.hasOwnProperty(u.length)||gt(`Function '${o}' called with an invalid number of arguments (${u.length}) - expects one of (${n[i].overloadTable})!`),n[i].overloadTable[u.length].apply(this,u)},n[i].overloadTable=[],n[i].overloadTable[a.argCount]=a}},Ep=(n,i,o)=>{v.hasOwnProperty(n)?((o===void 0||v[n].overloadTable!==void 0&&v[n].overloadTable[o]!==void 0)&&gt(`Cannot register public name '${n}' twice`),cc(v,n,n),v.hasOwnProperty(o)&&gt(`Cannot register multiple overloads of a function with the same number of arguments (${o})!`),v[n].overloadTable[o]=i):(v[n]=i,o!==void 0&&(v[n].numArguments=o))},Fp=48,xp=57,Op=n=>{if(n===void 0)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var i=n.charCodeAt(0);return i>=Fp&&i<=xp?`_${n}`:n};function kp(n,i,o,a,u,l,h,p){this.name=n,this.constructor=i,this.instancePrototype=o,this.rawDestructor=a,this.baseClass=u,this.getActualType=l,this.upcast=h,this.downcast=p,this.pureVirtualFunctions=[]}var uc=(n,i,o)=>{for(;i!==o;)i.upcast||gt(`Expected null or instance of ${o.name}, got an instance of ${i.name}`),n=i.upcast(n),i=i.baseClass;return n};function Tp(n,i){if(i===null)return this.isReference&&gt(`null is not a valid ${this.name}`),0;i.$$||gt(`Cannot pass "${Qs(i)}" as a ${this.name}`),i.$$.ptr||gt(`Cannot pass deleted object as a pointer of type ${this.name}`);var o=i.$$.ptrType.registeredClass,a=uc(i.$$.ptr,o,this.registeredClass);return a}function Mp(n,i){var o;if(i===null)return this.isReference&&gt(`null is not a valid ${this.name}`),this.isSmartPointer?(o=this.rawConstructor(),n!==null&&n.push(this.rawDestructor,o),o):0;(!i||!i.$$)&&gt(`Cannot pass "${Qs(i)}" as a ${this.name}`),i.$$.ptr||gt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&i.$$.ptrType.isConst&&gt(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);var a=i.$$.ptrType.registeredClass;if(o=uc(i.$$.ptr,a,this.registeredClass),this.isSmartPointer)switch(i.$$.smartPtr===void 0&&gt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:i.$$.smartPtrType===this?o=i.$$.smartPtr:gt(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:o=i.$$.smartPtr;break;case 2:if(i.$$.smartPtrType===this)o=i.$$.smartPtr;else{var u=i.clone();o=this.rawShare(o,Pi.toHandle(()=>u.delete())),n!==null&&n.push(this.rawDestructor,o)}break;default:gt("Unsupporting sharing policy")}return o}function Up(n,i){if(i===null)return this.isReference&&gt(`null is not a valid ${this.name}`),0;i.$$||gt(`Cannot pass "${Qs(i)}" as a ${this.name}`),i.$$.ptr||gt(`Cannot pass deleted object as a pointer of type ${this.name}`),i.$$.ptrType.isConst&&gt(`Cannot convert argument of type ${i.$$.ptrType.name} to parameter type ${this.name}`);var o=i.$$.ptrType.registeredClass,a=uc(i.$$.ptr,o,this.registeredClass);return a}function so(n){return this.fromWireType(y()[n>>>2>>>0])}var Np=()=>{Object.assign(oo.prototype,{getPointee(n){return this.rawGetPointee&&(n=this.rawGetPointee(n)),n},destructor(n){this.rawDestructor?.(n)},argPackAdvance:_r,readValueFromPointer:so,fromWireType:Dp})};function oo(n,i,o,a,u,l,h,p,_,w,I){this.name=n,this.registeredClass=i,this.isReference=o,this.isConst=a,this.isSmartPointer=u,this.pointeeType=l,this.sharingPolicy=h,this.rawGetPointee=p,this.rawConstructor=_,this.rawShare=w,this.rawDestructor=I,!u&&i.baseClass===void 0?a?(this.toWireType=Tp,this.destructorFunction=null):(this.toWireType=Up,this.destructorFunction=null):this.toWireType=Mp}var Lp=(n,i,o)=>{v.hasOwnProperty(n)||eo("Replacing nonexistent public symbol"),v[n].overloadTable!==void 0&&o!==void 0?v[n].overloadTable[o]=i:(v[n]=i,v[n].argCount=o)},Pp=(n,i,o=[])=>{var a=E(i)(...o);return n[0]=="p"?a>>>0:a},Cp=(n,i)=>(...o)=>Pp(n,i,o),_n=(n,i)=>{n=oe(n);function o(){return n.includes("p")?Cp(n,i):E(i)}var a=o();return typeof a!="function"&&gt(`unknown function pointer with signature ${n}: ${i}`),a},Rp=(n,i)=>{var o=io(i,function(a){this.name=i,this.message=a;var u=new Error(a).stack;u!==void 0&&(this.stack=this.toString()+`
`+u.replace(/^Error(:[^\n]*)?\n/,""))});return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},o},Pl,Cl=n=>{var i=lf(n),o=oe(i);return gr(i),o},ao=(n,i)=>{var o=[],a={};function u(l){if(!a[l]&&!yn[l]){if(to[l]){to[l].forEach(u);return}o.push(l),a[l]=!0}}throw i.forEach(u),new Pl(`${n}: `+o.map(Cl).join([", "]))};function jp(n,i,o,a,u,l,h,p,_,w,I,B,O){n>>>=0,i>>>=0,o>>>=0,a>>>=0,u>>>=0,l>>>=0,h>>>=0,p>>>=0,_>>>=0,w>>>=0,I>>>=0,B>>>=0,O>>>=0,I=oe(I),l=_n(u,l),p&&=_n(h,p),w&&=_n(_,w),O=_n(B,O);var M=Op(I);Ep(M,function(){ao(`Cannot construct ${I} due to unbound types`,[a])}),vn([n,i,o],a?[a]:[],N=>{N=N[0];var it,pt;a?(it=N.registeredClass,pt=it.instancePrototype):pt=no.prototype;var St=io(I,function(...Ft){if(Object.getPrototypeOf(this)!==k)throw new qn("Use 'new' to construct "+I);if(R.constructor_body===void 0)throw new qn(I+" has no accessible constructor");var gn=R.constructor_body[Ft.length];if(gn===void 0)throw new qn(`Tried to invoke ctor of ${I} with invalid number of parameters (${Ft.length}) - expected (${Object.keys(R.constructor_body).toString()}) parameters instead!`);return gn.apply(this,Ft)}),k=Object.create(pt,{constructor:{value:St}});St.prototype=k;var R=new kp(I,St,k,O,it,l,p,w);R.baseClass&&(R.baseClass.__derivedClasses??=[],R.baseClass.__derivedClasses.push(R));var mt=new oo(I,R,!0,!1,!1),at=new oo(I+"*",R,!1,!1,!1),Tt=new oo(I+" const*",R,!1,!0,!1);return Ll[n]={pointerType:at,constPointerType:Tt},Lp(M,St),[mt,at,Tt]})}var Vp=n=>{for(;n.length;){var i=n.pop(),o=n.pop();o(i)}};function Rl(n){for(var i=1;i<n.length;++i)if(n[i]!==null&&n[i].destructorFunction===void 0)return!0;return!1}function zp(n,i){if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var o=io(n.name||"unknownFunctionName",function(){});o.prototype=n.prototype;var a=new o,u=n.apply(a,i);return u instanceof Object?u:a}function $p(n,i,o,a){for(var u=Rl(n),l=n.length,h="",p="",_=0;_<l-2;++_)h+=(_!==0?", ":"")+"arg"+_,p+=(_!==0?", ":"")+"arg"+_+"Wired";var w=`
        return function (${h}) {
        if (arguments.length !== ${l-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${l-2}');
        }`;u&&(w+=`var destructors = [];
`);var I=u?"destructors":"null",B=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];i&&(w+="var thisWired = classParam['toWireType']("+I+`, this);
`);for(var _=0;_<l-2;++_)w+="var arg"+_+"Wired = argType"+_+"['toWireType']("+I+", arg"+_+`);
`,B.push("argType"+_);if(i&&(p="thisWired"+(p.length>0?", ":"")+p),w+=(o||a?"var rv = ":"")+"invoker(fn"+(p.length>0?", ":"")+p+`);
`,u)w+=`runDestructors(destructors);
`;else for(var _=i?1:2;_<n.length;++_){var O=_===1?"thisWired":"arg"+(_-2)+"Wired";n[_].destructorFunction!==null&&(w+=`${O}_dtor(${O});
`,B.push(`${O}_dtor`))}return o&&(w+=`var ret = retType['fromWireType'](rv);
return ret;
`),w+=`}
`,[B,w]}function lc(n,i,o,a,u,l){var h=i.length;h<2&&gt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var p=i[1]!==null&&o!==null,_=Rl(i),w=i[0].name!=="void",I=[n,gt,a,u,Vp,i[0],i[1]],B=0;B<h-2;++B)I.push(i[B+2]);if(!_)for(var B=p?1:2;B<i.length;++B)i[B].destructorFunction!==null&&I.push(i[B].destructorFunction);let[O,M]=$p(i,p,w,l);O.push(M);var N=zp(Function,O)(...I);return io(n,N)}var fc=(n,i)=>{for(var o=[],a=0;a<n;a++)o.push(y()[i+a*4>>>2>>>0]);return o},jl=n=>{n=n.trim();let i=n.indexOf("(");return i!==-1?n.substr(0,i):n},Wp=function(n,i,o,a,u,l,h,p){n>>>=0,i>>>=0,a>>>=0,u>>>=0,l>>>=0,h>>>=0;var _=fc(o,a);i=oe(i),i=jl(i),l=_n(u,l),vn([],[n],w=>{w=w[0];var I=`${w.name}.${i}`;function B(){ao(`Cannot call ${I} due to unbound types`,_)}i.startsWith("@@")&&(i=Symbol[i.substring(2)]);var O=w.registeredClass.constructor;return O[i]===void 0?(B.argCount=o-1,O[i]=B):(cc(O,i,I),O[i].overloadTable[o-1]=B),vn([],_,M=>{var N=[M[0],null].concat(M.slice(1)),it=lc(I,N,null,l,h,p);if(O[i].overloadTable===void 0?(it.argCount=o-1,O[i]=it):O[i].overloadTable[o-1]=it,w.registeredClass.__derivedClasses)for(let pt of w.registeredClass.__derivedClasses)pt.constructor.hasOwnProperty(i)||(pt.constructor[i]=it);return[]}),[]})},Hp=function(n,i,o,a,u,l){n>>>=0,o>>>=0,a>>>=0,u>>>=0,l>>>=0;var h=fc(i,o);u=_n(a,u),vn([],[n],p=>{p=p[0];var _=`constructor ${p.name}`;if(p.registeredClass.constructor_body===void 0&&(p.registeredClass.constructor_body=[]),p.registeredClass.constructor_body[i-1]!==void 0)throw new qn(`Cannot register multiple constructors with identical number of parameters (${i-1}) for class '${p.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return p.registeredClass.constructor_body[i-1]=()=>{ao(`Cannot construct ${p.name} due to unbound types`,h)},vn([],h,w=>(w.splice(1,0,null),p.registeredClass.constructor_body[i-1]=lc(_,w,null,u,l),[])),[]})},Yp=function(n,i,o,a,u,l,h,p,_){n>>>=0,i>>>=0,a>>>=0,u>>>=0,l>>>=0,h>>>=0;var w=fc(o,a);i=oe(i),i=jl(i),l=_n(u,l),vn([],[n],I=>{I=I[0];var B=`${I.name}.${i}`;i.startsWith("@@")&&(i=Symbol[i.substring(2)]),p&&I.registeredClass.pureVirtualFunctions.push(i);function O(){ao(`Cannot call ${B} due to unbound types`,w)}var M=I.registeredClass.instancePrototype,N=M[i];return N===void 0||N.overloadTable===void 0&&N.className!==I.name&&N.argCount===o-2?(O.argCount=o-2,O.className=I.name,M[i]=O):(cc(M,i,B),M[i].overloadTable[o-2]=O),vn([],w,it=>{var pt=lc(B,it,I,l,h,_);return M[i].overloadTable===void 0?(pt.argCount=o-2,M[i]=pt):M[i].overloadTable[o-2]=pt,[]}),[]})},dc=[],qr=[];function Gp(n){n>>>=0,n>9&&--qr[n+1]===0&&(qr[n]=void 0,dc.push(n))}var qp=()=>qr.length/2-5-dc.length,Kp=()=>{qr.push(0,1,void 0,1,null,1,!0,1,!1,1),v.count_emval_handles=qp},Pi={toValue:n=>(n||gt("Cannot use deleted val. handle = "+n),qr[n]),toHandle:n=>{switch(n){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let i=dc.pop()||qr.length;return qr[i]=n,qr[i+1]=1,i}}}},Jp={name:"emscripten::val",fromWireType:n=>{var i=Pi.toValue(n);return Gp(n),i},toWireType:(n,i)=>Pi.toHandle(i),argPackAdvance:_r,readValueFromPointer:so,destructorFunction:null};function Vl(n){return n>>>=0,sr(n,Jp)}var Xp=(n,i)=>{switch(i){case 4:return function(o){return this.fromWireType(g()[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(b()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${i}): ${n}`)}},Zp=function(n,i,o){n>>>=0,i>>>=0,o>>>=0,i=oe(i),sr(n,{name:i,fromWireType:a=>a,toWireType:(a,u)=>u,argPackAdvance:_r,readValueFromPointer:Xp(i,o),destructorFunction:null})};function Qp(n,i,o,a,u){n>>>=0,i>>>=0,o>>>=0,i=oe(i),u===-1&&(u=4294967295);var l=I=>I;if(a===0){var h=32-8*o;l=I=>I<<h>>>h}var p=i.includes("unsigned"),_=(I,B)=>{},w;p?w=function(I,B){return _(B,this.name),B>>>0}:w=function(I,B){return _(B,this.name),B},sr(n,{name:i,fromWireType:l,toWireType:w,argPackAdvance:_r,readValueFromPointer:Tl(i,o,a!==0),destructorFunction:null})}function tm(n,i,o){n>>>=0,o>>>=0;var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],u=a[i];function l(h){var p=y()[h>>>2>>>0],_=y()[h+4>>>2>>>0];return new u(e().buffer,_,p)}o=oe(o),sr(n,{name:o,fromWireType:l,argPackAdvance:_r,readValueFromPointer:l},{ignoreDuplicateRegistrations:!0})}function em(n,i){n>>>=0,i>>>=0,Vl(n)}function rm(n,i){n>>>=0,i>>>=0,i=oe(i);var o=i==="std::string";sr(n,{name:i,fromWireType(a){var u=y()[a>>>2>>>0],l=a+4,h;if(o)for(var p=l,_=0;_<=u;++_){var w=l+_;if(_==u||s()[w>>>0]==0){var I=w-p,B=vr(p,I);h===void 0?h=B:(h+="\0",h+=B),p=w+1}}else{for(var O=new Array(u),_=0;_<u;++_)O[_]=String.fromCharCode(s()[l+_>>>0]);h=O.join("")}return gr(a),h},toWireType(a,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var l,h=typeof u=="string";h||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array||gt("Cannot pass non-string to std::string"),o&&h?l=Yn(u):l=u.length;var p=Ri(4+l+1),_=p+4;if(y()[p>>>2>>>0]=l,o&&h)mn(u,_,l+1);else if(h)for(var w=0;w<l;++w){var I=u.charCodeAt(w);I>255&&(gr(_),gt("String has UTF-16 code units that do not fit in 8 bits")),s()[_+w>>>0]=I}else for(var w=0;w<l;++w)s()[_+w>>>0]=u[w];return a!==null&&a.push(gr,p),p},argPackAdvance:_r,readValueFromPointer:so,destructorFunction(a){gr(a)}})}var zl=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,nm=(n,i)=>{for(var o=n,a=o>>1,u=a+i/2;!(a>=u)&&f()[a>>>0];)++a;if(o=a<<1,o-n>32&&zl)return zl.decode(s().slice(n,o));for(var l="",h=0;!(h>=i/2);++h){var p=c()[n+h*2>>>1>>>0];if(p==0)break;l+=String.fromCharCode(p)}return l},im=(n,i,o)=>{if(o??=2147483647,o<2)return 0;o-=2;for(var a=i,u=o<n.length*2?o/2:n.length,l=0;l<u;++l){var h=n.charCodeAt(l);c()[i>>>1>>>0]=h,i+=2}return c()[i>>>1>>>0]=0,i-a},sm=n=>n.length*2,om=(n,i)=>{for(var o=0,a="";!(o>=i/4);){var u=d()[n+o*4>>>2>>>0];if(u==0)break;if(++o,u>=65536){var l=u-65536;a+=String.fromCharCode(55296|l>>10,56320|l&1023)}else a+=String.fromCharCode(u)}return a},am=(n,i,o)=>{if(i>>>=0,o??=2147483647,o<4)return 0;for(var a=i,u=a+o-4,l=0;l<n.length;++l){var h=n.charCodeAt(l);if(h>=55296&&h<=57343){var p=n.charCodeAt(++l);h=65536+((h&1023)<<10)|p&1023}if(d()[i>>>2>>>0]=h,i+=4,i+4>u)break}return d()[i>>>2>>>0]=0,i-a},cm=n=>{for(var i=0,o=0;o<n.length;++o){var a=n.charCodeAt(o);a>=55296&&a<=57343&&++o,i+=4}return i},um=function(n,i,o){n>>>=0,i>>>=0,o>>>=0,o=oe(o);var a,u,l,h;i===2?(a=nm,u=im,h=sm,l=p=>f()[p>>>1>>>0]):i===4&&(a=om,u=am,h=cm,l=p=>y()[p>>>2>>>0]),sr(n,{name:o,fromWireType:p=>{for(var _=y()[p>>>2>>>0],w,I=p+4,B=0;B<=_;++B){var O=p+4+B*i;if(B==_||l(O)==0){var M=O-I,N=a(I,M);w===void 0?w=N:(w+="\0",w+=N),I=O+i}}return gr(p),w},toWireType:(p,_)=>{typeof _!="string"&&gt(`Cannot pass non-string to C++ string type ${o}`);var w=h(_),I=Ri(4+w+i);return y()[I>>>2>>>0]=w/i,u(_,I+4,w+i),p!==null&&p.push(gr,I),I},argPackAdvance:_r,readValueFromPointer:so,destructorFunction(p){gr(p)}})},lm=function(n,i){n>>>=0,i>>>=0,i=oe(i),sr(n,{isVoid:!0,name:i,argPackAdvance:0,fromWireType:()=>{},toWireType:(o,a)=>{}})};function fm(n){n>>>=0;do{var i=y()[n>>>2>>>0];n+=4;var o=y()[n>>>2>>>0];n+=4;var a=y()[n>>>2>>>0];n+=4;var u=vr(i);m.createPath("/",Dt.dirname(u),!0,!0),m.createDataFile(u,null,e().subarray(a>>>0,a+o>>>0),!0,!0,!0)}while(y()[n>>>2>>>0])}var dm=1,hm=()=>dm,pm=()=>{if(!zs())try{W?_c(ln):Ka(ln)}catch(n){Ja(n)}},mm=n=>{if(!Vs)try{n(),pm()}catch(i){Ja(i)}};function hc(n){if(n>>>=0,typeof Atomics.waitAsync=="function"){var i=Atomics.waitAsync(d(),n>>>2,n);i.value.then(co);var o=n+128;Atomics.store(d(),o>>>2,1)}}v.__emscripten_thread_mailbox_await=hc;var co=()=>{var n=fo();n&&(hc(n),mm(mf))};v.checkMailbox=co;function ym(n,i,o){if(n>>>=0,i>>>=0,o>>>=0,n==i)setTimeout(co);else if(W)postMessage({targetThread:n,cmd:"checkMailbox"});else{var a=ot.pthreads[n];if(!a)return;a.postMessage({cmd:"checkMailbox"})}}var uo=[];function vm(n,i,o,a,u){i>>>=0,o>>>=0,u>>>=0,a/=2,uo.length=a;for(var l=u>>>3,h=0;h<a;h++)qt[l+2*h]?uo[h]=qt[l+2*h+1]:uo[h]=b()[l+2*h+1>>>0];var p=Hm[n];ot.currentProxiedOperationCallerThread=o;var _=p(...uo);return ot.currentProxiedOperationCallerThread=0,_}function _m(n){n>>>=0}var gm={},bm=n=>{var i=gm[n];return i===void 0?oe(n):i};function wm(n){return n>>>=0,Pi.toHandle(bm(n))}var Sm=(n,i)=>{var o=yn[n];return o===void 0&&gt(`${i} has unknown type ${Cl(n)}`),o};function Im(n,i){n>>>=0,i>>>=0,n=Sm(n,"_emval_take_value");var o=n.readValueFromPointer(i);return Pi.toHandle(o)}function $l(n,i,o,a,u,l,h){if(W)return ct(28,0,1,n,i,o,a,u,l,h);n>>>=0,u=Wn(u),l>>>=0,h>>>=0;try{if(isNaN(u))return 61;var p=X.getStreamFromFD(a),_=m.mmap(p,n,u,i,o),w=_.ptr;return d()[l>>>2>>>0]=_.allocated,y()[h>>>2>>>0]=w,0}catch(I){if(typeof m>"u"||I.name!=="ErrnoError")throw I;return-I.errno}}function Wl(n,i,o,a,u,l){if(W)return ct(29,0,1,n,i,o,a,u,l);n>>>=0,i>>>=0,l=Wn(l);try{var h=X.getStreamFromFD(u);o&2&&X.doMsync(n,h,i,a,l)}catch(p){if(typeof m>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}var Bm=()=>{dn("")},pc=n=>{pc.shown||={},pc.shown[n]||(pc.shown[n]=1,te(n))},Dm=()=>{},Am=()=>Date.now(),Em=()=>{qa+=1},Fm=()=>{throw Em(),"unwind"},Hl=()=>4294901760;function xm(){return Hl()}var Yl;Yl=()=>performance.timeOrigin+performance.now();var Om=()=>navigator.hardwareConcurrency,km=n=>{var i=$t.buffer,o=(n-i.byteLength+65535)/65536;try{return $t.grow(o),ir(),1}catch{}};function Tm(n){n>>>=0;var i=s().length;if(n<=i)return!1;var o=Hl();if(n>o)return!1;for(var a=(_,w)=>_+(w-_%w)%w,u=1;u<=4;u*=2){var l=i*(1+.2/u);l=Math.min(l,n+100663296);var h=Math.min(o,a(Math.max(n,l),65536)),p=km(h);if(p)return!0}return!1}var mc={},Mm=()=>se||"./this.program",Ci=()=>{if(!Ci.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:Mm()};for(var o in mc)mc[o]===void 0?delete i[o]:i[o]=mc[o];var a=[];for(var o in i)a.push(`${o}=${i[o]}`);Ci.strings=a}return Ci.strings},Um=(n,i)=>{for(var o=0;o<n.length;++o)e()[i++>>>0]=n.charCodeAt(o);e()[i>>>0]=0},Gl=function(n,i){if(W)return ct(30,0,1,n,i);n>>>=0,i>>>=0;var o=0;return Ci().forEach((a,u)=>{var l=i+o;y()[n+u*4>>>2>>>0]=l,Um(a,l),o+=a.length+1}),0},ql=function(n,i){if(W)return ct(31,0,1,n,i);n>>>=0,i>>>=0;var o=Ci();y()[n>>>2>>>0]=o.length;var a=0;return o.forEach(u=>a+=u.length+1),y()[i>>>2>>>0]=a,0};function Kl(n){if(W)return ct(32,0,1,n);try{var i=X.getStreamFromFD(n);return m.close(i),0}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return o.errno}}function Jl(n,i){if(W)return ct(33,0,1,n,i);i>>>=0;try{var o=0,a=0,u=0,l=X.getStreamFromFD(n),h=l.tty?2:m.isDir(l.mode)?3:m.isLink(l.mode)?7:4;return e()[i>>>0]=h,c()[i+2>>>1>>>0]=u,qt[i+8>>>3]=BigInt(o),qt[i+16>>>3]=BigInt(a),0}catch(p){if(typeof m>"u"||p.name!=="ErrnoError")throw p;return p.errno}}var Xl=(n,i,o,a)=>{for(var u=0,l=0;l<o;l++){var h=y()[i>>>2>>>0],p=y()[i+4>>>2>>>0];i+=8;var _=m.read(n,e(),h,p,a);if(_<0)return-1;if(u+=_,_<p)break;typeof a<"u"&&(a+=_)}return u};function Zl(n,i,o,a,u){if(W)return ct(34,0,1,n,i,o,a,u);i>>>=0,o>>>=0,a=Wn(a),u>>>=0;try{if(isNaN(a))return 61;var l=X.getStreamFromFD(n),h=Xl(l,i,o,a);return y()[u>>>2>>>0]=h,0}catch(p){if(typeof m>"u"||p.name!=="ErrnoError")throw p;return p.errno}}var Ql=(n,i,o,a)=>{for(var u=0,l=0;l<o;l++){var h=y()[i>>>2>>>0],p=y()[i+4>>>2>>>0];i+=8;var _=m.write(n,e(),h,p,a);if(_<0)return-1;u+=_,typeof a<"u"&&(a+=_)}return u};function tf(n,i,o,a,u){if(W)return ct(35,0,1,n,i,o,a,u);i>>>=0,o>>>=0,a=Wn(a),u>>>=0;try{if(isNaN(a))return 61;var l=X.getStreamFromFD(n),h=Ql(l,i,o,a);return y()[u>>>2>>>0]=h,0}catch(p){if(typeof m>"u"||p.name!=="ErrnoError")throw p;return p.errno}}function ef(n,i,o,a){if(W)return ct(36,0,1,n,i,o,a);i>>>=0,o>>>=0,a>>>=0;try{var u=X.getStreamFromFD(n),l=Xl(u,i,o);return y()[a>>>2>>>0]=l,0}catch(h){if(typeof m>"u"||h.name!=="ErrnoError")throw h;return h.errno}}function rf(n,i,o,a){if(W)return ct(37,0,1,n,i,o,a);i=Wn(i),a>>>=0;try{if(isNaN(i))return 61;var u=X.getStreamFromFD(n);return m.llseek(u,i,o),qt[a>>>3]=BigInt(u.position),u.getdents&&i===0&&o===0&&(u.getdents=null),0}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return l.errno}}function nf(n){if(W)return ct(38,0,1,n);try{var i=X.getStreamFromFD(n);return i.stream_ops?.fsync?i.stream_ops.fsync(i):0}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return o.errno}}function sf(n,i,o,a){if(W)return ct(39,0,1,n,i,o,a);i>>>=0,o>>>=0,a>>>=0;try{var u=X.getStreamFromFD(n),l=Ql(u,i,o);return y()[a>>>2>>>0]=l,0}catch(h){if(typeof m>"u"||h.name!=="ErrnoError")throw h;return h.errno}}function of(n,i,o,a){if(W)return ct(40,0,1,n,i,o,a);n>>>=0,i>>>=0,o>>>=0,a>>>=0;var u=0,l=0,h=0,p=0,_=0,w=0,I;function B(O,M,N,it,pt,St){var k,R,mt,at;return R=O===10?28:16,pt=O===10?il(pt):rc(pt),k=Ri(R),at=Zs(k,O,pt,St),$a(!at),mt=Ri(32),d()[mt+4>>>2>>>0]=O,d()[mt+8>>>2>>>0]=M,d()[mt+12>>>2>>>0]=N,y()[mt+24>>>2>>>0]=it,y()[mt+20>>>2>>>0]=k,O===10?d()[mt+16>>>2>>>0]=28:d()[mt+16>>>2>>>0]=16,d()[mt+28>>>2>>>0]=0,mt}if(o&&(h=d()[o>>>2>>>0],p=d()[o+4>>>2>>>0],_=d()[o+8>>>2>>>0],w=d()[o+12>>>2>>>0]),_&&!w&&(w=_===2?17:6),!_&&w&&(_=w===17?2:1),w===0&&(w=6),_===0&&(_=1),!n&&!i)return-2;if(h&-1088||o!==0&&d()[o>>>2>>>0]&2&&!n)return-1;if(h&32)return-2;if(_!==0&&_!==1&&_!==2)return-7;if(p!==0&&p!==2&&p!==10)return-6;if(i&&(i=vr(i),l=parseInt(i,10),isNaN(l)))return h&1024?-2:-8;if(!n)return p===0&&(p=2),h&1||(p===2?u=ho(2130706433):u=[0,0,0,1]),I=B(p,_,w,null,u,l),y()[a>>>2>>>0]=I,0;if(n=vr(n),u=Js(n),u!==null)if(p===0||p===2)p=2;else if(p===10&&h&8)u=[0,0,ho(65535),u],p=10;else return-2;else if(u=nc(n),u!==null)if(p===0||p===10)p=10;else return-2;return u!=null?(I=B(p,_,w,n,u,l),y()[a>>>2>>>0]=I,0):h&4?-2:(n=_e.lookup_name(n),u=Js(n),p===0?p=2:p===10&&(u=[0,0,ho(65535),u]),I=B(p,_,w,null,u,l),y()[a>>>2>>>0]=I,0)}function Nm(n,i){return n>>>=0,i>>>=0,Za(s().subarray(n>>>0,n+i>>>0)),0}function Lm(n,i,o,a,u,l,h){n>>>=0,o>>>=0,u>>>=0;var p=sl(n,i);if(p.errno)return-6;var _=p.port,w=p.addr,I=!1;if(o&&a){var B;if(h&1||!(B=_e.lookup_addr(w))){if(h&8)return-2}else w=B;var O=mn(w,o,a);O+1>=a&&(I=!0)}if(u&&l){_=""+_;var O=mn(_,u,l);O+1>=l&&(I=!0)}return I?-12:0}function Pm(n){return n>>>=0,n}var lo=n=>n%4===0&&(n%100!==0||n%400===0),Cm=(n,i)=>{for(var o=0,a=0;a<=i;o+=n[a++]);return o},af=[31,29,31,30,31,30,31,31,30,31,30,31],cf=[31,28,31,30,31,30,31,31,30,31,30,31],Rm=(n,i)=>{for(var o=new Date(n.getTime());i>0;){var a=lo(o.getFullYear()),u=o.getMonth(),l=(a?af:cf)[u];if(i>l-o.getDate())i-=l-o.getDate()+1,o.setDate(1),u<11?o.setMonth(u+1):(o.setMonth(0),o.setFullYear(o.getFullYear()+1));else return o.setDate(o.getDate()+i),o}return o},uf=(n,i)=>{e().set(n,i>>>0)};function jm(n,i,o,a){n>>>=0,i>>>=0,o>>>=0,a>>>=0;var u=y()[a+40>>>2>>>0],l={tm_sec:d()[a>>>2>>>0],tm_min:d()[a+4>>>2>>>0],tm_hour:d()[a+8>>>2>>>0],tm_mday:d()[a+12>>>2>>>0],tm_mon:d()[a+16>>>2>>>0],tm_year:d()[a+20>>>2>>>0],tm_wday:d()[a+24>>>2>>>0],tm_yday:d()[a+28>>>2>>>0],tm_isdst:d()[a+32>>>2>>>0],tm_gmtoff:d()[a+36>>>2>>>0],tm_zone:u?vr(u):""},h=vr(o),p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _ in p)h=h.replace(new RegExp(_,"g"),p[_]);var w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],I=["January","February","March","April","May","June","July","August","September","October","November","December"];function B(k,R,mt){for(var at=typeof k=="number"?k.toString():k||"";at.length<R;)at=mt[0]+at;return at}function O(k,R){return B(k,R,"0")}function M(k,R){function mt(Tt){return Tt<0?-1:Tt>0?1:0}var at;return(at=mt(k.getFullYear()-R.getFullYear()))===0&&(at=mt(k.getMonth()-R.getMonth()))===0&&(at=mt(k.getDate()-R.getDate())),at}function N(k){switch(k.getDay()){case 0:return new Date(k.getFullYear()-1,11,29);case 1:return k;case 2:return new Date(k.getFullYear(),0,3);case 3:return new Date(k.getFullYear(),0,2);case 4:return new Date(k.getFullYear(),0,1);case 5:return new Date(k.getFullYear()-1,11,31);case 6:return new Date(k.getFullYear()-1,11,30)}}function it(k){var R=Rm(new Date(k.tm_year+1900,0,1),k.tm_yday),mt=new Date(R.getFullYear(),0,4),at=new Date(R.getFullYear()+1,0,4),Tt=N(mt),Ft=N(at);return M(Tt,R)<=0?M(Ft,R)<=0?R.getFullYear()+1:R.getFullYear():R.getFullYear()-1}var pt={"%a":k=>w[k.tm_wday].substring(0,3),"%A":k=>w[k.tm_wday],"%b":k=>I[k.tm_mon].substring(0,3),"%B":k=>I[k.tm_mon],"%C":k=>{var R=k.tm_year+1900;return O(R/100|0,2)},"%d":k=>O(k.tm_mday,2),"%e":k=>B(k.tm_mday,2," "),"%g":k=>it(k).toString().substring(2),"%G":it,"%H":k=>O(k.tm_hour,2),"%I":k=>{var R=k.tm_hour;return R==0?R=12:R>12&&(R-=12),O(R,2)},"%j":k=>O(k.tm_mday+Cm(lo(k.tm_year+1900)?af:cf,k.tm_mon-1),3),"%m":k=>O(k.tm_mon+1,2),"%M":k=>O(k.tm_min,2),"%n":()=>`
`,"%p":k=>k.tm_hour>=0&&k.tm_hour<12?"AM":"PM","%S":k=>O(k.tm_sec,2),"%t":()=>"	","%u":k=>k.tm_wday||7,"%U":k=>{var R=k.tm_yday+7-k.tm_wday;return O(Math.floor(R/7),2)},"%V":k=>{var R=Math.floor((k.tm_yday+7-(k.tm_wday+6)%7)/7);if((k.tm_wday+371-k.tm_yday-2)%7<=2&&R++,R){if(R==53){var at=(k.tm_wday+371-k.tm_yday)%7;at!=4&&(at!=3||!lo(k.tm_year))&&(R=1)}}else{R=52;var mt=(k.tm_wday+7-k.tm_yday-1)%7;(mt==4||mt==5&&lo(k.tm_year%400-1))&&R++}return O(R,2)},"%w":k=>k.tm_wday,"%W":k=>{var R=k.tm_yday+7-(k.tm_wday+6)%7;return O(Math.floor(R/7),2)},"%y":k=>(k.tm_year+1900).toString().substring(2),"%Y":k=>k.tm_year+1900,"%z":k=>{var R=k.tm_gmtoff,mt=R>=0;return R=Math.abs(R)/60,R=R/60*100+R%60,(mt?"+":"-")+("0000"+R).slice(-4)},"%Z":k=>k.tm_zone,"%%":()=>"%"};h=h.replace(/%%/g,"\0\0");for(var _ in pt)h.includes(_)&&(h=h.replace(new RegExp(_,"g"),pt[_](l)));h=h.replace(/\0\0/g,"%");var St=Ks(h,!1);return St.length>i?0:(uf(St,n),St.length-1)}function Vm(n,i,o,a,u){return n>>>=0,i>>>=0,o>>>=0,a>>>=0,u>>>=0,jm(n,i,o,a)}var zm=n=>{var i=v["_"+n];return i},$m=n=>{var i=Yn(n)+1,o=$s(i);return mn(n,o,i),o},Wm=(n,i,o,a,u)=>{var l={string:N=>{var it=0;return N!=null&&N!==0&&(it=$m(N)),it},array:N=>{var it=$s(N.length);return uf(N,it),it}};function h(N){return i==="string"?vr(N):i==="boolean"?!!N:N}var p=zm(n),_=[],w=0;if(a)for(var I=0;I<a.length;I++){var B=l[o[I]];B?(w===0&&(w=A()),_[I]=B(a[I])):_[I]=a[I]}var O=p(..._);function M(N){return w!==0&&D(w),h(N)}return O=M(O),O};ot.init(),m.createPreloadedFile=fp,m.staticInit(),v.FS_createPath=m.createPath,v.FS_createDataFile=m.createDataFile,v.FS_createPreloadedFile=m.createPreloadedFile,v.FS_unlink=m.unlink,v.FS_createLazyFile=m.createLazyFile,v.FS_createDevice=m.createDevice,hp(),qn=v.BindingError=class extends Error{constructor(i){super(i),this.name="BindingError"}},kl=v.InternalError=class extends Error{constructor(i){super(i),this.name="InternalError"}},Ap(),Sp(),Np(),Pl=v.UnboundTypeError=Rp(Error,"UnboundTypeError"),Kp();var Hm=[Yu,qu,Qu,nl,ol,al,cl,ul,ll,fl,dl,hl,pl,ml,yl,vl,_l,gl,bl,wl,Sl,Il,Bl,Dl,Al,El,Fl,xl,$l,Wl,Gl,ql,Kl,Jl,Zl,tf,ef,rf,nf,sf,of],Ym={Jb:Xu,p:Yh,ec:Gh,S:qh,b:Jh,k:Xh,Fa:Zh,gb:Zu,dc:Qh,r:tp,fc:ep,yc:rp,ob:np,pc:tl,e:Kh,mc:nl,Ub:ol,Zb:al,Tb:cl,_b:ul,_:ll,Gc:fl,Bc:dl,bc:hl,gc:pl,Sb:ml,Rb:yl,Qb:vl,Hc:_l,Dc:gl,$b:bl,Ec:wl,Qa:Sl,ac:Il,Pb:Bl,Yb:Dl,Ob:Al,kb:El,Fc:Fl,lb:xl,jb:mp,Nb:yp,ta:jp,Na:Wp,$a:Hp,L:Yp,Mb:Vl,ib:Zp,ga:Qp,R:tm,Ic:em,hb:rm,Oa:um,Vb:lm,Lc:fm,qc:hm,jc:ym,sc:vm,xc:hc,Kc:_m,Kb:wm,Z:Im,uc:$l,vc:Wl,Pa:Bm,pb:Dm,rc:Am,Jc:Fm,kc:xm,ha:Yl,lc:Om,hc:Tm,zc:Gl,Ac:ql,oc:Ka,ra:Kl,ic:Jl,tc:Zl,nc:tf,qb:ef,wc:rf,Cc:nf,rb:sf,Tc:of,Xb:Nm,vb:Lm,Da:yy,Ta:Wv,mb:u_,ab:lv,nb:c_,D:Dy,c:ay,Cb:av,d:ny,i:uy,l:my,o:Ay,u:ry,z:Cy,E:Xy,I:Ky,K:Gy,Q:Jy,wa:qy,O:Yv,pa:hv,za:jv,wb:Vv,Ka:_v,ua:pv,aa:Gv,Aa:vv,oa:mv,Ha:Nv,yb:Tv,Xa:Mv,ea:Cv,na:Ry,ma:cv,Gb:jy,_a:Sv,xb:Lv,Fb:Vy,x:sy,G:yv,Y:e_,ub:$v,zb:Fv,Db:ey,La:nv,A:xy,W:Av,Ca:Sy,ia:zy,Ab:Iv,Lb:ly,Uc:kv,xa:Ny,y:dy,Bb:fv,H:oy,J:Py,qa:uv,Ma:tv,Nc:i_,Qc:Jv,Ua:zv,Oc:r_,Va:Pv,F:Rv,db:ev,Ya:xv,ba:sv,m:hy,h:ty,T:vy,cb:iv,X:rv,f:iy,fb:$y,Wb:f_,g:cy,j:By,t:py,n:by,C:Ey,da:Ty,va:Zy,fa:Qy,Ea:l_,Ga:Zv,sa:wv,Pc:t_,Ib:Oy,Ia:Ov,Mc:a_,Hb:ky,v:Ly,ca:bv,Wa:Uv,ya:Uy,la:Dv,bb:ov,s:_y,M:gy,Za:Ev,U:Bv,sb:o_,Sa:n_,Ra:s_,tb:Xv,$:Qv,P:My,Ja:gv,ka:Kv,w:fy,N:Fy,B:wy,Rc:qv,V:Hy,eb:Wy,Ba:dv,ja:Iy,Eb:Yy,Sc:Hv,q:Pm,a:$t||v.wasmMemory,cc:Vm},ht=Ph(),Gm=()=>(Gm=ht.Vc)(),lf=n=>(lf=ht.Wc)(n),qm=v.__embind_initialize_bindings=()=>(qm=v.__embind_initialize_bindings=ht.Xc)(),Km=n=>(Km=ht.__cxa_free_exception)(n),Ri=n=>(Ri=ht.Yc)(n),fo=v._pthread_self=()=>(fo=v._pthread_self=ht.Zc)(),ff=v._main=(n,i)=>(ff=v._main=ht.$c)(n,i),gr=n=>(gr=ht.ad)(n),yc=n=>(yc=ht.bd)(n),Jm=v.__emscripten_tls_init=()=>(Jm=v.__emscripten_tls_init=ht.cd)(),df=(n,i)=>(df=ht.dd)(n,i),hf=v.__emscripten_thread_init=(n,i,o,a,u,l)=>(hf=v.__emscripten_thread_init=ht.ed)(n,i,o,a,u,l),Xm=v.__emscripten_thread_crashed=()=>(Xm=v.__emscripten_thread_crashed=ht.fd)(),Zm=()=>(Zm=ht.emscripten_main_thread_process_queued_calls)(),ho=n=>(ho=ht.gd)(n),po=n=>(po=ht.hd)(n),Qm=()=>(Qm=ht.emscripten_main_runtime_thread_id)(),pf=(n,i,o,a,u)=>(pf=ht.id)(n,i,o,a,u),vc=n=>(vc=ht.jd)(n),_c=v.__emscripten_thread_exit=n=>(_c=v.__emscripten_thread_exit=ht.kd)(n),mf=()=>(mf=ht.ld)(),x=(n,i)=>(x=ht.md)(n,i),yf=n=>(yf=ht.nd)(n),vf=(n,i)=>(vf=ht.od)(n,i),_f=n=>(_f=ht.pd)(n),gf=n=>(gf=ht.qd)(n),bf=()=>(bf=ht.rd)(),wf=n=>(wf=ht.sd)(n),gc=n=>(gc=ht.td)(n),Sf=(n,i,o)=>(Sf=ht.ud)(n,i,o),If=n=>(If=ht.vd)(n),fb=v.___emscripten_embedded_file_data=861280;function ty(n,i){var o=A();try{E(n)(i)}catch(a){if(D(o),a!==a+0)throw a;x(1,0)}}function ey(n,i,o,a,u,l,h,p){var _=A();try{return E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function ry(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function ny(n,i,o){var a=A();try{return E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;x(1,0)}}function iy(n,i,o){var a=A();try{E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;x(1,0)}}function sy(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function oy(n,i,o){var a=A();try{return E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;return x(1,0),0n}}function ay(n,i){var o=A();try{return E(n)(i)}catch(a){if(D(o),a!==a+0)throw a;x(1,0)}}function cy(n,i,o,a){var u=A();try{E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function uy(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function ly(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function fy(n,i,o){var a=A();try{E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;x(1,0)}}function dy(n,i){var o=A();try{return E(n)(i)}catch(a){if(D(o),a!==a+0)throw a;return x(1,0),0n}}function hy(n){var i=A();try{E(n)()}catch(o){if(D(i),o!==o+0)throw o;x(1,0)}}function py(n,i,o,a,u,l){var h=A();try{E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function my(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function yy(n,i){var o=A();try{return E(n)(i)}catch(a){if(D(o),a!==a+0)throw a;x(1,0)}}function vy(n,i,o){var a=A();try{E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;x(1,0)}}function _y(n,i,o,a){var u=A();try{E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function gy(n,i,o,a,u){var l=A();try{E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function by(n,i,o,a,u,l,h){var p=A();try{E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function wy(n,i,o,a,u){var l=A();try{E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function Sy(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function Iy(n,i,o,a,u){var l=A();try{E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function By(n,i,o,a,u){var l=A();try{E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function Dy(n){var i=A();try{return E(n)()}catch(o){if(D(i),o!==o+0)throw o;x(1,0)}}function Ay(n,i,o,a,u,l){var h=A();try{return E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function Ey(n,i,o,a,u,l,h,p){var _=A();try{E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function Fy(n,i,o,a){var u=A();try{E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function xy(n,i,o){var a=A();try{return E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;x(1,0)}}function Oy(n,i,o,a,u,l,h,p){var _=A();try{E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function ky(n,i,o,a,u,l,h,p,_){var w=A();try{E(n)(i,o,a,u,l,h,p,_)}catch(I){if(D(w),I!==I+0)throw I;x(1,0)}}function Ty(n,i,o,a,u,l,h,p,_){var w=A();try{E(n)(i,o,a,u,l,h,p,_)}catch(I){if(D(w),I!==I+0)throw I;x(1,0)}}function My(n,i,o,a,u){var l=A();try{E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function Uy(n,i,o,a,u,l){var h=A();try{E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function Ny(n){var i=A();try{return E(n)()}catch(o){if(D(i),o!==o+0)throw o;return x(1,0),0n}}function Ly(n,i,o,a,u){var l=A();try{E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function Py(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;return x(1,0),0n}}function Cy(n,i,o,a,u,l,h,p){var _=A();try{return E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function Ry(n,i,o,a,u,l){var h=A();try{return E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function jy(n,i,o,a,u,l,h,p,_){var w=A();try{return E(n)(i,o,a,u,l,h,p,_)}catch(I){if(D(w),I!==I+0)throw I;x(1,0)}}function Vy(n,i,o,a,u,l,h,p,_){var w=A();try{return E(n)(i,o,a,u,l,h,p,_)}catch(I){if(D(w),I!==I+0)throw I;x(1,0)}}function zy(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function $y(n,i,o,a){var u=A();try{E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function Wy(n,i,o,a){var u=A();try{E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function Hy(n,i,o,a,u){var l=A();try{E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function Yy(n,i,o,a,u,l){var h=A();try{E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function Gy(n,i,o,a,u,l,h,p,_,w,I){var B=A();try{return E(n)(i,o,a,u,l,h,p,_,w,I)}catch(O){if(D(B),O!==O+0)throw O;x(1,0)}}function qy(n,i,o,a,u,l,h,p,_,w,I,B,O){var M=A();try{return E(n)(i,o,a,u,l,h,p,_,w,I,B,O)}catch(N){if(D(M),N!==N+0)throw N;x(1,0)}}function Ky(n,i,o,a,u,l,h,p,_,w){var I=A();try{return E(n)(i,o,a,u,l,h,p,_,w)}catch(B){if(D(I),B!==B+0)throw B;x(1,0)}}function Jy(n,i,o,a,u,l,h,p,_,w,I,B){var O=A();try{return E(n)(i,o,a,u,l,h,p,_,w,I,B)}catch(M){if(D(O),M!==M+0)throw M;x(1,0)}}function Xy(n,i,o,a,u,l,h,p,_){var w=A();try{return E(n)(i,o,a,u,l,h,p,_)}catch(I){if(D(w),I!==I+0)throw I;x(1,0)}}function Zy(n,i,o,a,u,l,h,p,_,w){var I=A();try{E(n)(i,o,a,u,l,h,p,_,w)}catch(B){if(D(I),B!==B+0)throw B;x(1,0)}}function Qy(n,i,o,a,u,l,h,p,_,w,I){var B=A();try{E(n)(i,o,a,u,l,h,p,_,w,I)}catch(O){if(D(B),O!==O+0)throw O;x(1,0)}}function tv(n,i,o,a,u,l){var h=A();try{return E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;return x(1,0),0n}}function ev(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;return x(1,0),0n}}function rv(n,i,o){var a=A();try{E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;x(1,0)}}function nv(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function iv(n,i,o,a){var u=A();try{E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function sv(n,i){var o=A();try{return E(n)(i)}catch(a){if(D(o),a!==a+0)throw a;return x(1,0),0n}}function ov(n,i,o,a,u,l,h,p){var _=A();try{E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function av(n,i,o){var a=A();try{return E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;x(1,0)}}function cv(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function uv(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;return x(1,0),0n}}function lv(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function fv(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;return x(1,0),0n}}function dv(n,i,o,a,u){var l=A();try{E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function hv(n,i,o,a,u,l,h,p,_){var w=A();try{return E(n)(i,o,a,u,l,h,p,_)}catch(I){if(D(w),I!==I+0)throw I;x(1,0)}}function pv(n,i,o,a,u,l,h,p){var _=A();try{return E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function mv(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function yv(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function vv(n,i,o,a,u,l){var h=A();try{return E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function _v(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function gv(n,i,o,a,u,l){var h=A();try{E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function bv(n,i,o,a,u,l){var h=A();try{E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function wv(n,i,o,a,u,l,h){var p=A();try{E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function Sv(n,i,o,a,u,l){var h=A();try{return E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function Iv(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function Bv(n,i,o,a,u,l,h){var p=A();try{E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function Dv(n,i,o,a,u,l,h){var p=A();try{E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function Av(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function Ev(n,i,o,a,u,l){var h=A();try{E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function Fv(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function xv(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;return x(1,0),0n}}function Ov(n,i,o,a,u,l){var h=A();try{E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function kv(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function Tv(n,i,o,a,u,l,h,p,_){var w=A();try{return E(n)(i,o,a,u,l,h,p,_)}catch(I){if(D(w),I!==I+0)throw I;x(1,0)}}function Mv(n,i,o,a,u,l,h,p,_,w){var I=A();try{return E(n)(i,o,a,u,l,h,p,_,w)}catch(B){if(D(I),B!==B+0)throw B;x(1,0)}}function Uv(n,i,o,a,u,l,h,p){var _=A();try{E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function Nv(n,i,o,a,u,l,h,p){var _=A();try{return E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function Lv(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function Pv(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;return x(1,0),0n}}function Cv(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function Rv(n,i,o){var a=A();try{return E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;return x(1,0),0n}}function jv(n,i,o,a,u,l,h,p,_,w){var I=A();try{return E(n)(i,o,a,u,l,h,p,_,w)}catch(B){if(D(I),B!==B+0)throw B;x(1,0)}}function Vv(n,i,o,a,u,l,h,p,_,w,I,B,O,M,N){var it=A();try{return E(n)(i,o,a,u,l,h,p,_,w,I,B,O,M,N)}catch(pt){if(D(it),pt!==pt+0)throw pt;x(1,0)}}function zv(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;return x(1,0),0n}}function $v(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;x(1,0)}}function Wv(n,i,o){var a=A();try{return E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;x(1,0)}}function Hv(n,i,o){var a=A();try{E(n)(i,o)}catch(u){if(D(a),u!==u+0)throw u;x(1,0)}}function Yv(n,i,o,a,u,l,h,p,_,w){var I=A();try{return E(n)(i,o,a,u,l,h,p,_,w)}catch(B){if(D(I),B!==B+0)throw B;x(1,0)}}function Gv(n,i,o,a,u,l,h,p,_,w,I){var B=A();try{return E(n)(i,o,a,u,l,h,p,_,w,I)}catch(O){if(D(B),O!==O+0)throw O;x(1,0)}}function qv(n,i,o,a,u,l){var h=A();try{E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function Kv(n,i,o,a,u,l){var h=A();try{E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function Jv(n,i,o,a,u){var l=A();try{return E(n)(i,o,a,u)}catch(h){if(D(l),h!==h+0)throw h;return x(1,0),0n}}function Xv(n,i,o,a,u,l,h,p){var _=A();try{E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function Zv(n,i,o,a,u,l,h,p){var _=A();try{E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function Qv(n,i,o,a,u,l,h){var p=A();try{E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function t_(n,i,o,a,u,l,h,p){var _=A();try{E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function e_(n,i,o,a,u,l){var h=A();try{return E(n)(i,o,a,u,l)}catch(p){if(D(h),p!==p+0)throw p;x(1,0)}}function r_(n,i,o,a,u,l,h){var p=A();try{return E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;return x(1,0),0n}}function n_(n,i,o,a,u,l,h,p,_,w){var I=A();try{E(n)(i,o,a,u,l,h,p,_,w)}catch(B){if(D(I),B!==B+0)throw B;x(1,0)}}function i_(n,i,o,a,u,l,h,p){var _=A();try{return E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;return x(1,0),0n}}function s_(n,i,o,a,u,l,h,p){var _=A();try{E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function o_(n,i,o,a,u,l,h,p){var _=A();try{E(n)(i,o,a,u,l,h,p)}catch(w){if(D(_),w!==w+0)throw w;x(1,0)}}function a_(n,i,o,a,u,l,h){var p=A();try{E(n)(i,o,a,u,l,h)}catch(_){if(D(p),_!==_+0)throw _;x(1,0)}}function c_(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function u_(n,i,o,a){var u=A();try{return E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function l_(n,i,o,a,u,l,h,p,_,w,I,B,O,M,N,it){var pt=A();try{E(n)(i,o,a,u,l,h,p,_,w,I,B,O,M,N,it)}catch(St){if(D(pt),St!==St+0)throw St;x(1,0)}}function f_(n,i,o,a){var u=A();try{E(n)(i,o,a)}catch(l){if(D(u),l!==l+0)throw l;x(1,0)}}function d_(n){n=Object.assign({},n);var i=u=>l=>u(l)>>>0,o=u=>()=>u()>>>0,a=u=>(l,h)=>u(l,h)>>>0;return n.Wc=i(n.Wc),n.Yc=i(n.Yc),n.Zc=o(n.Zc),n.dd=a(n.dd),n.emscripten_main_runtime_thread_id=o(n.emscripten_main_runtime_thread_id),n.qd=i(n.qd),n.rd=o(n.rd),n}v.addRunDependency=Ti,v.removeRunDependency=$n,v.FS_createPath=m.createPath,v.FS_createLazyFile=m.createLazyFile,v.FS_createDevice=m.createDevice,v.wasmMemory=$t,v.stackSave=A,v.stackRestore=D,v.stackAlloc=$s,v.keepRuntimeAlive=zs,v.ccall=Wm,v.UTF8ToString=vr,v.ExitStatus=Ha,v.FS_createPreloadedFile=m.createPreloadedFile,v.FS=m,v.FS_createDataFile=m.createDataFile,v.FS_unlink=m.unlink,v.PThread=ot;var mo;ki=function n(){mo||Bf(),mo||(ki=n)};function h_(){var n=ff,i=0,o=0;try{var a=n(i,o);return Gu(a,!0),a}catch(u){return Ja(u)}}function Bf(){if(fn>0)return;if(W){F(v),Cu(),startWorker(v);return}if(xh(),fn>0)return;function n(){mo||(mo=!0,v.calledRun=!0,!Vs&&(Cu(),Oh(),F(v),v.onRuntimeInitialized&&v.onRuntimeInitialized(),Df&&h_(),kh()))}v.setStatus?(v.setStatus("Running..."),setTimeout(function(){setTimeout(function(){v.setStatus("")},1),n()},1)):n()}if(v.preInit)for(typeof v.preInit=="function"&&(v.preInit=[v.preInit]);v.preInit.length>0;)v.preInit.pop()();var Df=!0;return v.noInitialRun&&(Df=!1),Bf(),P}})(),Ah=sb;var ob=async function(){let t=await Ah();return t.Database=(...e)=>ab(t,...e),t.Connection=(...e)=>cb(t,...e),t};async function ab(r,t="memDB",e=0,s=0,c=!1,f=!1,d=4194304*16*4){return await new r.WebDatabase(t,e,s,c,f,d)}async function cb(r,t,e=0){let s=await new r.WebConnection(t,e);return s.execute=c=>ub(r,s,c),s}async function ub(r,t,e){let s=t.query(e);if(s.isSuccess()){let c=s.getArrowSchema(),f=s.getArrowChunk(),d=r.wasmMemory,y=Dh(d.buffer,[f],c,!0);return y.toIPC=()=>{let g=Pa(y);return g.toHex=()=>{let b=[];return new Uint8Array(g).forEach(F=>{let C=F.toString(16).padStart(2,"0");b.push(C)}),b.join("")},g},s.table=y,s}return!1}var VE=ob;export{VE as default};
//# sourceMappingURL=kuzu.js.map
